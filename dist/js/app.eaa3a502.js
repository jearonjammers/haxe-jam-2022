(function(t){function e(e){for(var i,s,_=e[0],o=e[1],u=e[2],h=0,c=[];h<_.length;h++)s=_[h],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&c.push(r[s][0]),r[s]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);l&&l(e);while(c.length)c.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,_=1;_<n.length;_++){var o=n[_];0!==r[o]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={app:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/haxe-jam-2022/";var _=window["webpackJsonp"]=window["webpackJsonp"]||[],o=_.push.bind(_);_.push=e,_=_.slice();for(var u=0;u<_.length;u++)e(_[u]);var l=o;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},5085:function(t,e,n){"use strict";(function(e){var n=t.exports,i=e;i.$hx_scope=i.$hx_scope||{};n["flambe"]=n["flambe"]||{},n["game"]=n["game"]||{},n["game"]["Container"]=n["game"]["Container"]||{},n["game"]["Main"]=n["game"]["Main"]||{};var r,a=function(){return tn.__string_rec(this,"")},s=s||{};function _(t,e){var n=Object.create(t);for(var i in e)n[i]=e[i];return e.toString!==Object.prototype.toString&&(n.toString=e.toString),n}var o=function(t,e){this.r=new RegExp(t,e.split("u").join(""))};o.__name__=!0,o.prototype={match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},__class__:o};var u=function(){};u.__name__=!0,u.substr=function(t,e,n){if(null==n)n=t.length;else if(n<0){if(0!=e)return"";n=t.length+n}return t.substr(e,n)},u.remove=function(t,e){var n=t.indexOf(e);return-1!=n&&(t.splice(n,1),!0)},u.now=function(){return Date.now()};var l=function(){};l.__name__=!0,l.array=function(t){var e=[],n=rn(t);while(n.hasNext()){var i=n.next();e.push(i)}return e},l.count=function(t,e){var n=0;if(null==e){var i=rn(t);while(i.hasNext())i.next(),++n}else{var r=rn(t);while(r.hasNext()){var a=r.next();e(a)&&++n}}return n},Math.__name__=!0;var h=function(){};h.__name__=!0,h.field=function(t,e){try{return t[e]}catch(n){return null}};var c=function(){};c.__name__=!0,c.string=function(t){return tn.__string_rec(t,"")};var d=function(){};d.__name__=!0,d.startsWith=function(t,e){return t.length>=e.length&&0==t.lastIndexOf(e,0)},d.replace=function(t,e,n){return t.split(e).join(n)};var m=function(){};m.__name__=!0,m.__isInterface__=!0,m.prototype={__class__:m};var p=function(){this._flags=0,this.next=null,this.owner=null};p.__name__=!0,p.__interfaces__=[m],p.prototype={onAdded:function(){},onRemoved:function(){},onStart:function(){},onStop:function(){},onUpdate:function(t){},dispose:function(){null!=this.owner&&this.owner.remove(this)},get_name:function(){return null},__class__:p};var f=function(){p.call(this),this._disposables=[]};f.__name__=!0,f.__super__=p,f.prototype=_(p.prototype,{get_name:function(){return"Disposer_6"},add:function(t){return this._disposables.push(t),this},onRemoved:function(){this.freeDisposables()},dispose:function(){p.prototype.dispose.call(this),this.freeDisposables()},freeDisposables:function(){var t=this._disposables;this._disposables=[];var e=0;while(e<t.length){var n=t[e];++e,n.dispose()}},__class__:f});var g=function(){this.firstComponent=null,this.next=null,this.firstChild=null,this.parent=null,this._compMap={}};g.__name__=!0,g.__interfaces__=[m],g.prototype={add:function(t){null!=t.owner&&t.owner.remove(t);var e=t.get_name(),n=this._compMap[e];null!=n&&this.remove(n),this._compMap[e]=t;var i=null,r=this.firstComponent;while(null!=r)i=r,r=r.next;return null!=i?i.next=t:this.firstComponent=t,t.owner=this,t.next=null,t.onAdded(),this},remove:function(t){var e=null,n=this.firstComponent;while(null!=n){var i=n.next;if(n==t)return null==e?this.firstComponent=i:(e.owner=this,e.next=i),delete this._compMap[n.get_name()],0!=(1&n._flags)&&(n.onStop(),n._flags&=-2),n.onRemoved(),n.owner=null,n.next=null,!0;e=n,n=i}return!1},addChild:function(t,e){if(null==e&&(e=!0),null!=t.parent&&t.parent.removeChild(t),t.parent=this,e){var n=null,i=this.firstChild;while(null!=i)n=i,i=i.next;null!=n?n.next=t:this.firstChild=t}else t.next=this.firstChild,this.firstChild=t;return this},removeChild:function(t){var e=null,n=this.firstChild;while(null!=n){var i=n.next;if(n==t)return null==e?this.firstChild=i:e.next=i,n.parent=null,void(n.next=null);e=n,n=i}},disposeChildren:function(){while(null!=this.firstChild)this.firstChild.dispose()},dispose:function(){null!=this.parent&&this.parent.removeChild(this);while(null!=this.firstComponent)this.firstComponent.dispose();this.disposeChildren()},toString:function(){return this.toStringImpl("")},toStringImpl:function(t){var e="",n=this.firstComponent;while(null!=n)e+=n.get_name(),null!=n.next&&(e+=", "),n=n.next;e+="\n";var i=String.fromCodePoint(9492),r=String.fromCodePoint(9500),a=String.fromCodePoint(9472),s=String.fromCodePoint(9474);n=this.firstChild;while(null!=n){var _=null==n.next;e+=t+(_?i:r)+a+a+" ",e+=n.toStringImpl(t+(_?" ":s)+"   "),n=n.next}return e},__class__:g};var v=function(){};v.__name__=!0;var w=function(){};w.__name__=!0,w.__isInterface__=!0,w.prototype={__class__:w};var x=function(){};x.__name__=!0,x.__interfaces__=[w],x.prototype={init:function(){var t=this;ae.fixAndroidMath();var e=null;try{e=window.flambe.canvas}catch(w){}Ce.that(null!=e,"Could not find a Flambe canvas! Are you embedding with flambe.js?"),e.setAttribute("tabindex","0"),e.style.outlineStyle="none",e.style.webkitTapHighlightColor="transparent",this._stage=new ie(e),this._pointer=new ft,this._mouse=new te(this._pointer,e),this._renderer=this.createRenderer(e),this.mainLoop=new Dt,this.musicPlaying=!1,this._canvas=e,this._container=e.parentElement,this._container.style.overflow="hidden",this._container.style.position="relative",this._container.style.msTouchAction="none";var n=0,r=function(i){if(!(i.timeStamp-n<1e3)){var r=e.getBoundingClientRect(),a=t.getX(i,r),s=t.getY(i,r);switch(i.type){case"mousedown":i.target==e&&(i.preventDefault(),t._mouse.submitDown(a,s,i.button),e.focus());break;case"mousemove":t._mouse.submitMove(a,s);break;case"mouseup":t._mouse.submitUp(a,s,i.button);break;case"DOMMouseScroll":case"mousewheel":var _="mousewheel"==i.type?i.wheelDelta/40:-i.detail;t._mouse.submitScroll(a,s,_)&&i.preventDefault();break}}};window.addEventListener("mousedown",r,!1),window.addEventListener("mousemove",r,!1),window.addEventListener("mouseup",r,!1),e.addEventListener("mousewheel",r,!1),e.addEventListener("DOMMouseScroll",r,!1),e.addEventListener("contextmenu",(function(t){t.preventDefault()}),!1);var a="undefined"!=typeof window.ontouchstart,s="msMaxTouchPoints"in window.navigator&&window.navigator.msMaxTouchPoints>1;if(a||s){var _=new wt(this._pointer,a?4:i.navigator.msMaxTouchPoints);this._touch=_;var o=function(e){var i=a?e.changedTouches:[e],r=e.target.getBoundingClientRect();switch(n=e.timeStamp,e.type){case"MSPointerMove":case"pointermove":case"touchmove":e.preventDefault();var s=0;while(s<i.length){var o=i[s];++s;var u=t.getX(o,r),l=t.getY(o,r),h=0|(a?o.identifier:o.pointerId);_.submitMove(h,u,l)}break;case"MSPointerUp":case"pointerup":case"touchcancel":case"touchend":s=0;while(s<i.length){o=i[s];++s;u=t.getX(o,r),l=t.getY(o,r),h=0|(a?o.identifier:o.pointerId);_.submitUp(h,u,l)}break;case"MSPointerDown":case"pointerdown":case"touchstart":e.preventDefault(),ae.SHOULD_HIDE_MOBILE_BROWSER&&ae.hideMobileBrowser();s=0;while(s<i.length){o=i[s];++s;u=t.getX(o,r),l=t.getY(o,r),h=0|(a?o.identifier:o.pointerId);_.submitDown(h,u,l)}break}};a?(e.addEventListener("touchstart",o,!1),e.addEventListener("touchmove",o,!1),e.addEventListener("touchend",o,!1),e.addEventListener("touchcancel",o,!1)):(e.addEventListener("MSPointerDown",o,!1),e.addEventListener("MSPointerMove",o,!1),e.addEventListener("MSPointerUp",o,!1))}else this._touch=new Mt;var u=window.onerror;window.onerror=function(t,e,n){return T.uncaughtError.emit(t),null!=u&&u(t,e,n)};var l=ae.loadExtension("hidden",window.document);if(null!=l.value){var c=function(t){T.hidden.set__(h.field(window.document,l.field))};c(null),window.document.addEventListener(l.prefix+"visibilitychange",c,!1)}else{var d=function(t){T.hidden.set__("pagehide"==t.type)};window.addEventListener("pageshow",d,!1),window.addEventListener("pagehide",d,!1)}T.hidden.get_changed().connect((function(e,n){e||(t._skipFrame=!0)})),this._skipFrame=!1,this._lastUpdate=Date.now();var m=ae.loadExtension("requestAnimationFrame").value;if(null!=m){var p=window.performance,f=null!=p&&ae.polyfill("now",p);f?this._lastUpdate=p.now():L.logger.warn("No monotonic timer support, falling back to the system date",null);var g=null;g=function(n){t.update(f?p.now():n),m(g,e)},m(g,e)}else L.logger.warn("No requestAnimationFrame support, falling back to setInterval",null),window.setInterval((function(){t.update(Date.now())}),16);new bt(this),this._catapult=Vt.canUse()?new Vt:null;var v=["renderer",this._renderer.get_type()];L.logger.info("Initialized HTML platform",v)},loadAssetPack:function(t){return new Yt(this,t).promise},getStage:function(){return this._stage},getStorage:function(){if(null==this._storage){var t=en.getLocalStorage();null!=t?this._storage=new re(t):(L.logger.warn("localStorage is unavailable, falling back to unpersisted storage",null),this._storage=new Tt)}return this._storage},getLocale:function(){var t=i.navigator.language;return null==t&&(t=i.navigator.userLanguage),t},createLogHandler:function(t){return Jt.isSupported()?new Jt(t):null},getTime:function(){return Date.now()/1e3},getCatapultClient:function(){return this._catapult},update:function(t){var e=(t-this._lastUpdate)/1e3;this._lastUpdate=t,T.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(e),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getMouse:function(){return this._mouse},getTouch:function(){return this._touch},getKeyboard:function(){var t=this;if(null==this._keyboard){this._keyboard=new ct;var e=function(e){switch(e.type){case"keydown":t._keyboard.submitDown(e.keyCode)&&e.preventDefault();break;case"keyup":t._keyboard.submitUp(e.keyCode);break}};this._canvas.addEventListener("keydown",e,!1),this._canvas.addEventListener("keyup",e,!1)}return this._keyboard},getWeb:function(){return null==this._web&&(this._web=new _e),this._web},getExternal:function(){return null==this._external&&(this._external=new Qt),this._external},getMotion:function(){return null==this._motion&&(this._motion=new $t),this._motion},getRenderer:function(){return this._renderer},getX:function(t,e){return(t.clientX-e.left)*this._stage.get_width()/e.width},getY:function(t,e){return(t.clientY-e.top)*this._stage.get_height()/e.height},createRenderer:function(t){try{var e=nn.getContextWebGL(t,{depth:!1,failIfMajorPerformanceCaveat:!0});if(null!=e){if(!ae.detectSlowDriver(e))return new de(this._stage,e);L.logger.warn("Detected a slow WebGL driver, falling back to canvas",null)}}catch(n){}return new Ht(t)},__class__:x};var b=function(t,e){this._value=t,this._changed=null!=e?new A(e):null};b.__name__=!0,b.prototype={watch:function(t){return t(this._value,this._value),this.get_changed().connect(t)},set__:function(t){var e=this._value;return t!=e&&(this._value=t,null!=this._changed&&this._changed.emit(t,e)),t},get_changed:function(){return null==this._changed&&(this._changed=new A),this._changed},toString:function(){return""+c.string(this._value)},__class__:b};var y=function(t,e){this._next=null,this._signal=t,this._listener=e,this.stayInList=!0};y.__name__=!0,y.__interfaces__=[m],y.prototype={once:function(){return this.stayInList=!1,this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:y};var S=function(t){this._head=null!=t?new y(this,t):null,this._deferredTasks=null};S.__name__=!0,S.prototype={connectImpl:function(t,e){var n=this,i=new y(this,t);return this._head==S.DISPATCHING_SENTINEL?this.defer((function(){n.listAdd(i,e)})):this.listAdd(i,e),i},disconnect:function(t){var e=this;this._head==S.DISPATCHING_SENTINEL?this.defer((function(){e.listRemove(t)})):this.listRemove(t)},defer:function(t){var e=null,n=this._deferredTasks;while(null!=n)e=n,n=n.next;var i=new Pe(t);null!=e?e.next=i:this._deferredTasks=i},willEmit:function(){Ce.that(this._head!=S.DISPATCHING_SENTINEL);var t=this._head;return this._head=S.DISPATCHING_SENTINEL,t},didEmit:function(t){this._head=t;var e=this._deferredTasks;this._deferredTasks=null;while(null!=e)e.fn(),e=e.next},listAdd:function(t,e){if(e)t._next=this._head,this._head=t;else{var n=null,i=this._head;while(null!=i)n=i,i=i._next;null!=n?n._next=t:this._head=t}},listRemove:function(t){var e=null,n=this._head;while(null!=n){if(n==t){var i=n._next;return void(null==e?this._head=i:e._next=i)}e=n,n=n._next}},__class__:S};var A=function(t){S.call(this,t)};A.__name__=!0,A.__super__=S,A.prototype=_(S.prototype,{connect:function(t,e){return null==e&&(e=!1),this.connectImpl(t,e)},emit:function(t,e){var n=this;this._head==S.DISPATCHING_SENTINEL?this.defer((function(){n.emitImpl(t,e)})):this.emitImpl(t,e)},emitImpl:function(t,e){var n=this.willEmit(),i=n;while(null!=i)i._listener(t,e),i.stayInList||i.dispose(),i=i._next;this.didEmit(n)},__class__:A});var C=function(t){S.call(this,t)};C.__name__=!0,C.__super__=S,C.prototype=_(S.prototype,{connect:function(t,e){return null==e&&(e=!1),this.connectImpl(t,e)},emit:function(t){var e=this;this._head==S.DISPATCHING_SENTINEL?this.defer((function(){e.emitImpl(t)})):this.emitImpl(t)},emitImpl:function(t){var e=this.willEmit(),n=e;while(null!=n)n._listener(t),n.stayInList||n.dispose(),n=n._next;this.didEmit(e)},__class__:C});var E=function(t,e){this._behavior=null,b.call(this,t,e)};E.__name__=!0,E.__super__=b,E.prototype=_(b.prototype,{set__:function(t){return this._behavior=null,b.prototype.set__.call(this,t)},update:function(t){null!=this._behavior&&(b.prototype.set__.call(this,this._behavior.update(t)),this._behavior.isComplete()&&(this._behavior=null))},set_behavior:function(t){return this._behavior=t,this.update(0),t},__class__:E});var T=n["flambe"]["System"]=function(){};T.__name__=!0,T.init=function(){T._calledInit||(T._platform.init(),T._calledInit=!0)},T.loadAssetPack=function(t){return T.assertCalledInit(),T._platform.loadAssetPack(t)},T.createLogger=function(t){return new M(T._platform.createLogHandler(t))},T.get_time=function(){return T.assertCalledInit(),T._platform.getTime()},T.get_stage=function(){return T.assertCalledInit(),T._platform.getStage()},T.get_storage=function(){return T.assertCalledInit(),T._platform.getStorage()},T.get_pointer=function(){return T.assertCalledInit(),T._platform.getPointer()},T.get_mouse=function(){return T.assertCalledInit(),T._platform.getMouse()},T.get_touch=function(){return T.assertCalledInit(),T._platform.getTouch()},T.get_keyboard=function(){return T.assertCalledInit(),T._platform.getKeyboard()},T.get_web=function(){return T.assertCalledInit(),T._platform.getWeb()},T.get_external=function(){return T.assertCalledInit(),T._platform.getExternal()},T.get_locale=function(){return T.assertCalledInit(),T._platform.getLocale()},T.get_motion=function(){return T.assertCalledInit(),T._platform.getMotion()},T.get_renderer=function(){return T.assertCalledInit(),T._platform.getRenderer()},T.assertCalledInit=function(){Ce.that(T._calledInit,"You must call System.init() first")};var M=function(t){this._handler=t};M.__name__=!0,M.prototype={info:function(t,e){this.log(Te.Info,t,e)},warn:function(t,e){this.log(Te.Warn,t,e)},error:function(t,e){this.log(Te.Error,t,e)},log:function(t,e,n){null!=this._handler&&(null==e&&(e=""),null!=n&&(e=ke.withFields(e,n)),this._handler.log(t,e))},__class__:M};var L=function(){};L.__name__=!0,L.__super__=v,L.prototype=_(v.prototype,{__class__:L});var P=function(t){null==t&&(t=1),this._realDt=0,p.call(this),this.scale=new E(t)};P.__name__=!0,P.__super__=p,P.prototype=_(p.prototype,{get_name:function(){return"SpeedAdjuster_2"},onUpdate:function(t){this._realDt>0&&(t=this._realDt,this._realDt=0),this.scale.update(t)},__class__:P});var k=function(){};k.__name__=!0,k.__isInterface__=!0,k.prototype={__class__:k};var I=function(t,e,n,i,r){null==r&&(r=0),null==i&&(i=0),null==n&&(n=1),this.start=t,this.end=e,this.cycles=i,this.speed=new E(n),this._count=1.5707963267948966+r*(3.141592653589793/n),this._distance=.5*(t-e),this._center=e+this._distance};I.__name__=!0,I.__interfaces__=[k],I.prototype={update:function(t){return this.speed.update(t),this._count+=t*(3.141592653589793/this.speed._value),this.isComplete()?this._center+3.141592653589793*this._distance:this._center+Math.sin(this._count)*this._distance},isComplete:function(){return this.cycles>0&&(this._count-1.5707963267948966)/3.141592653589793*.5>=this.cycles},__class__:I};var N=function(){};N.__name__=!0,N.__isInterface__=!0,N.__interfaces__=[m],N.prototype={__class__:N};var F=s["flambe.asset.AssetFormat"]={__ename__:!0,__constructs__:null,WEBP:{_hx_name:"WEBP",_hx_index:0,__enum__:"flambe.asset.AssetFormat",toString:a},JXR:{_hx_name:"JXR",_hx_index:1,__enum__:"flambe.asset.AssetFormat",toString:a},PNG:{_hx_name:"PNG",_hx_index:2,__enum__:"flambe.asset.AssetFormat",toString:a},JPG:{_hx_name:"JPG",_hx_index:3,__enum__:"flambe.asset.AssetFormat",toString:a},GIF:{_hx_name:"GIF",_hx_index:4,__enum__:"flambe.asset.AssetFormat",toString:a},DDS:{_hx_name:"DDS",_hx_index:5,__enum__:"flambe.asset.AssetFormat",toString:a},PVR:{_hx_name:"PVR",_hx_index:6,__enum__:"flambe.asset.AssetFormat",toString:a},PKM:{_hx_name:"PKM",_hx_index:7,__enum__:"flambe.asset.AssetFormat",toString:a},MP3:{_hx_name:"MP3",_hx_index:8,__enum__:"flambe.asset.AssetFormat",toString:a},M4A:{_hx_name:"M4A",_hx_index:9,__enum__:"flambe.asset.AssetFormat",toString:a},OPUS:{_hx_name:"OPUS",_hx_index:10,__enum__:"flambe.asset.AssetFormat",toString:a},OGG:{_hx_name:"OGG",_hx_index:11,__enum__:"flambe.asset.AssetFormat",toString:a},WAV:{_hx_name:"WAV",_hx_index:12,__enum__:"flambe.asset.AssetFormat",toString:a},Data:{_hx_name:"Data",_hx_index:13,__enum__:"flambe.asset.AssetFormat",toString:a}};F.__constructs__=[F.WEBP,F.JXR,F.PNG,F.JPG,F.GIF,F.DDS,F.PVR,F.PKM,F.MP3,F.M4A,F.OPUS,F.OGG,F.WAV,F.Data];var R=function(t,e,n,i){this.name=t,this.url=e,this.format=n,this.bytes=i};R.__name__=!0,R.prototype={__class__:R};var D=function(){};D.__name__=!0,D.__isInterface__=!0,D.__interfaces__=[m],D.prototype={__class__:D};var B=function(){};B.__name__=!0,B.__isInterface__=!0,B.__interfaces__=[N];var O=function(){this._remoteBase=null,this._localBase=null,this._entries=[]};O.__name__=!0,O.fromAssets=function(t,e){null==e&&(e=!0);var n=h.field($e.getType(O).assets[0],t);if(null==n){if(e)throw Ye.thrown(ke.withFields("Missing asset pack",["name",t]));return null}var i=new O;i.set_localBase("assets");var r=0;while(r<n.length){var a=n[r];++r;var s=a.name,_=t+"/"+s+"?v="+c.string(a.md5),o=O.inferFormat(s);o!=F.Data&&(s=ke.removeFileExtension(s)),i.add(s,_,a.bytes,o)}return i},O.inferFormat=function(t){var e=ke.getUrlExtension(t);if(null!=e)switch(e.toLowerCase()){case"dds":return F.DDS;case"gif":return F.GIF;case"jpeg":case"jpg":return F.JPG;case"jxr":case"wdp":return F.JXR;case"m4a":return F.M4A;case"mp3":return F.MP3;case"ogg":return F.OGG;case"opus":return F.OPUS;case"pkm":return F.PKM;case"png":return F.PNG;case"pvr":return F.PVR;case"wav":return F.WAV;case"webp":return F.WEBP}else L.logger.warn("No file extension for asset, it will be loaded as data",["url",t]);return F.Data},O.prototype={add:function(t,e,n,i){null==n&&(n=0),null==i&&(i=O.inferFormat(e));var r=new R(t,e,i,n);return this._entries.push(r),r},iterator:function(){return new Ze(this._entries)},getFullURL:function(t){var e=null!=this.get_remoteBase()&&O._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=e?ke.joinPath(e,t.url):t.url},get_localBase:function(){return this._localBase},set_localBase:function(t){return null!=t&&Ce.that(!d.startsWith(t,"http://")&&!d.startsWith(t,"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://"),this._localBase=t},get_remoteBase:function(){return this._remoteBase},__class__:O};var K=s["flambe.display.BlendMode"]={__ename__:!0,__constructs__:null,Normal:{_hx_name:"Normal",_hx_index:0,__enum__:"flambe.display.BlendMode",toString:a},Add:{_hx_name:"Add",_hx_index:1,__enum__:"flambe.display.BlendMode",toString:a},Multiply:{_hx_name:"Multiply",_hx_index:2,__enum__:"flambe.display.BlendMode",toString:a},Screen:{_hx_name:"Screen",_hx_index:3,__enum__:"flambe.display.BlendMode",toString:a},Mask:{_hx_name:"Mask",_hx_index:4,__enum__:"flambe.display.BlendMode",toString:a},Copy:{_hx_name:"Copy",_hx_index:5,__enum__:"flambe.display.BlendMode",toString:a}};K.__constructs__=[K.Normal,K.Add,K.Multiply,K.Screen,K.Mask,K.Copy];var U=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};U.__name__=!0,U.prototype={toString:function(){return"("+this.x+","+this.y+")"},__class__:U};var G=function(){this._cosCache=0,this._sinCache=0,this.scissor=null,this.blendMode=null;var t=this;p.call(this),this._flags|=182,this._localMatrix=new at;var e=function(e,n){t._flags|=24};this.x=new E(0,e),this.y=new E(0,e),this.rotation=new E(0,(function(e,n){t._flags|=152})),this.scaleX=new E(1,e),this.scaleY=new E(1,e),this.anchorX=new E(0,e),this.anchorY=new E(0,e),this.alpha=new E(1),this.disablePixelSnapping()};G.__name__=!0,G.hitTest=function(t,e,n){var i=t._compMap["Sprite_0"];if(null!=i){if(6!=(6&i._flags))return null;i.getLocalMatrix().inverseTransform(e,n,G._scratchPoint)&&(e=G._scratchPoint.x,n=G._scratchPoint.y);var r=i.scissor;if(null!=r&&!r.contains(e,n))return null}var a=G.hitTestBackwards(t.firstChild,e,n);return null!=a?a:null!=i&&i.containsLocal(e,n)?i:null},G.render=function(t,e){var n=t._compMap["Sprite_0"];if(null!=n){var i=n.alpha._value;if(0==(2&n._flags)||i<=0)return;e.save(),i<1&&e.multiplyAlpha(i),null!=n.blendMode&&e.setBlendMode(n.blendMode);var r=n.getLocalMatrix(),a=r.m02,s=r.m12;0!=(32&n._flags)&&(a=Math.round(a),s=Math.round(s)),e.transform(r.m00,r.m10,r.m01,r.m11,a,s);var _=n.scissor;null!=_&&e.applyScissor(_.x,_.y,_.width,_.height),n.draw(e)}var o=t._compMap["Director_1"];if(null!=o){var u=o.occludedScenes,l=0;while(l<u.length){var h=u[l];++l,G.render(h,e)}}var c=t.firstChild;while(null!=c){var d=c.next;G.render(c,e),c=d}null!=n&&e.restore()},G.hitTestBackwards=function(t,e,n){if(null!=t){var i=G.hitTestBackwards(t.next,e,n);return null!=i?i:G.hitTest(t,e,n)}return null},G.__super__=p,G.prototype=_(p.prototype,{get_name:function(){return"Sprite_0"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(t,e){return t>=0&&t<this.getNaturalWidth()&&e>=0&&e<this.getNaturalHeight()},getLocalMatrix:function(){if(0!=(8&this._flags)){if(this._flags&=-9,0!=(128&this._flags)){this._flags&=-129;var t=3.141592653589793*this.rotation._value/180;this._sinCache=Math.sin(t),this._cosCache=Math.cos(t)}var e=this.scaleX._value,n=this.scaleY._value;this._localMatrix.set(this._cosCache*e,this._sinCache*e,-this._sinCache*n,this._cosCache*n,this.x._value,this.y._value),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value)}return this._localMatrix},setAnchor:function(t,e){return this.anchorX.set__(t),this.anchorY.set__(e),this},centerAnchor:function(){return this.anchorX.set__(this.getNaturalWidth()/2),this.anchorY.set__(this.getNaturalHeight()/2),this},setXY:function(t,e){return this.x.set__(t),this.y.set__(e),this},setScale:function(t){return this.scaleX.set__(t),this.scaleY.set__(t),this},disablePixelSnapping:function(){return this.set_pixelSnapping(!1),this},onAdded:function(){0!=(64&this._flags)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onUpdate:function(t){this.x.update(t),this.y.update(t),this.rotation.update(t),this.scaleX.update(t),this.scaleY.update(t),this.alpha.update(t),this.anchorX.update(t),this.anchorY.update(t)},draw:function(t){},getParentSprite:function(){if(null==this.owner)return null;var t=this.owner.parent;while(null!=t){var e=t._compMap["Sprite_0"];if(null!=e)return e;t=t.parent}return null},get_pointerDown:function(){return null==this._pointerDown&&(this._pointerDown=new C),this._pointerDown},get_pointerIn:function(){return null==this._pointerIn&&(this._pointerIn=new C),this._pointerIn},get_pointerOut:function(){return null==this._pointerOut&&(this._pointerOut=new C),this._pointerOut},connectHover:function(){var t=this;null==this._hoverConnection&&(T.assertCalledInit(),this._hoverConnection=T._platform.getPointer().move.connect((function(e){var n=e.hit;while(null!=n){if(n==t)return;n=n.getParentSprite()}null!=t._pointerOut&&0!=(64&t._flags)&&t._pointerOut.emit(e),t._flags&=-65,null!=t._hoverConnection&&(t._hoverConnection.dispose(),t._hoverConnection=null)})))},set_visible:function(t){return this._flags=Ee.set(this._flags,2,t),t},set_pixelSnapping:function(t){return this._flags=Ee.set(this._flags,32,t),t},onPointerDown:function(t){this.onHover(t),null!=this._pointerDown&&this._pointerDown.emit(t)},onPointerMove:function(t){this.onHover(t),null!=this._pointerMove&&this._pointerMove.emit(t)},onHover:function(t){0==(64&this._flags)&&(this._flags|=64,null==this._pointerIn&&null==this._pointerOut||(null!=this._pointerIn&&this._pointerIn.emit(t),this.connectHover()))},onPointerUp:function(t){1==t.source._hx_index&&(null!=this._pointerOut&&0!=(64&this._flags)&&this._pointerOut.emit(t),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)),null!=this._pointerUp&&this._pointerUp.emit(t)},__class__:G});var X=function(t,e,n){G.call(this),this.color=t,this.width=new E(e),this.height=new E(n)};X.__name__=!0,X.__super__=G,X.prototype=_(G.prototype,{draw:function(t){t.fillRect(this.color,0,0,this.width._value,this.height._value)},getNaturalWidth:function(){return this.width._value},getNaturalHeight:function(){return this.height._value},onUpdate:function(t){G.prototype.onUpdate.call(this,t),this.width.update(t),this.height.update(t)},__class__:X});var H=function(){};H.__name__=!0,H.__isInterface__=!0,H.prototype={__class__:H};var W=function(t){G.call(this),this.texture=t};W.__name__=!0,W.__super__=G,W.prototype=_(G.prototype,{draw:function(t){null!=this.texture&&t.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:W});var j=s["flambe.display.Orientation"]={__ename__:!0,__constructs__:null,Portrait:{_hx_name:"Portrait",_hx_index:0,__enum__:"flambe.display.Orientation",toString:a},Landscape:{_hx_name:"Landscape",_hx_index:1,__enum__:"flambe.display.Orientation",toString:a}};j.__constructs__=[j.Portrait,j.Landscape];var Y=function(){};Y.__name__=!0,Y.__isInterface__=!0,Y.__interfaces__=[N],Y.prototype={__class__:Y};var V=function(){};V.__name__=!0,V.__isInterface__=!0,V.__interfaces__=[Y];var z=function(){this.init(0,0,0)};z.__name__=!0,z.prototype={init:function(t,e,n){this.x=t,this.y=e,this.z=n},__class__:z};var Q=function(){this.init(0,0,0)};Q.__name__=!0,Q.prototype={init:function(t,e,n){this.pitch=t,this.roll=e,this.azimuth=n},__class__:Q};var q=s["flambe.input.Key"]={__ename__:!0,__constructs__:null,A:{_hx_name:"A",_hx_index:0,__enum__:"flambe.input.Key",toString:a},B:{_hx_name:"B",_hx_index:1,__enum__:"flambe.input.Key",toString:a},C:{_hx_name:"C",_hx_index:2,__enum__:"flambe.input.Key",toString:a},D:{_hx_name:"D",_hx_index:3,__enum__:"flambe.input.Key",toString:a},E:{_hx_name:"E",_hx_index:4,__enum__:"flambe.input.Key",toString:a},F:{_hx_name:"F",_hx_index:5,__enum__:"flambe.input.Key",toString:a},G:{_hx_name:"G",_hx_index:6,__enum__:"flambe.input.Key",toString:a},H:{_hx_name:"H",_hx_index:7,__enum__:"flambe.input.Key",toString:a},I:{_hx_name:"I",_hx_index:8,__enum__:"flambe.input.Key",toString:a},J:{_hx_name:"J",_hx_index:9,__enum__:"flambe.input.Key",toString:a},K:{_hx_name:"K",_hx_index:10,__enum__:"flambe.input.Key",toString:a},L:{_hx_name:"L",_hx_index:11,__enum__:"flambe.input.Key",toString:a},M:{_hx_name:"M",_hx_index:12,__enum__:"flambe.input.Key",toString:a},N:{_hx_name:"N",_hx_index:13,__enum__:"flambe.input.Key",toString:a},O:{_hx_name:"O",_hx_index:14,__enum__:"flambe.input.Key",toString:a},P:{_hx_name:"P",_hx_index:15,__enum__:"flambe.input.Key",toString:a},Q:{_hx_name:"Q",_hx_index:16,__enum__:"flambe.input.Key",toString:a},R:{_hx_name:"R",_hx_index:17,__enum__:"flambe.input.Key",toString:a},S:{_hx_name:"S",_hx_index:18,__enum__:"flambe.input.Key",toString:a},T:{_hx_name:"T",_hx_index:19,__enum__:"flambe.input.Key",toString:a},U:{_hx_name:"U",_hx_index:20,__enum__:"flambe.input.Key",toString:a},V:{_hx_name:"V",_hx_index:21,__enum__:"flambe.input.Key",toString:a},W:{_hx_name:"W",_hx_index:22,__enum__:"flambe.input.Key",toString:a},X:{_hx_name:"X",_hx_index:23,__enum__:"flambe.input.Key",toString:a},Y:{_hx_name:"Y",_hx_index:24,__enum__:"flambe.input.Key",toString:a},Z:{_hx_name:"Z",_hx_index:25,__enum__:"flambe.input.Key",toString:a},Number0:{_hx_name:"Number0",_hx_index:26,__enum__:"flambe.input.Key",toString:a},Number1:{_hx_name:"Number1",_hx_index:27,__enum__:"flambe.input.Key",toString:a},Number2:{_hx_name:"Number2",_hx_index:28,__enum__:"flambe.input.Key",toString:a},Number3:{_hx_name:"Number3",_hx_index:29,__enum__:"flambe.input.Key",toString:a},Number4:{_hx_name:"Number4",_hx_index:30,__enum__:"flambe.input.Key",toString:a},Number5:{_hx_name:"Number5",_hx_index:31,__enum__:"flambe.input.Key",toString:a},Number6:{_hx_name:"Number6",_hx_index:32,__enum__:"flambe.input.Key",toString:a},Number7:{_hx_name:"Number7",_hx_index:33,__enum__:"flambe.input.Key",toString:a},Number8:{_hx_name:"Number8",_hx_index:34,__enum__:"flambe.input.Key",toString:a},Number9:{_hx_name:"Number9",_hx_index:35,__enum__:"flambe.input.Key",toString:a},Numpad0:{_hx_name:"Numpad0",_hx_index:36,__enum__:"flambe.input.Key",toString:a},Numpad1:{_hx_name:"Numpad1",_hx_index:37,__enum__:"flambe.input.Key",toString:a},Numpad2:{_hx_name:"Numpad2",_hx_index:38,__enum__:"flambe.input.Key",toString:a},Numpad3:{_hx_name:"Numpad3",_hx_index:39,__enum__:"flambe.input.Key",toString:a},Numpad4:{_hx_name:"Numpad4",_hx_index:40,__enum__:"flambe.input.Key",toString:a},Numpad5:{_hx_name:"Numpad5",_hx_index:41,__enum__:"flambe.input.Key",toString:a},Numpad6:{_hx_name:"Numpad6",_hx_index:42,__enum__:"flambe.input.Key",toString:a},Numpad7:{_hx_name:"Numpad7",_hx_index:43,__enum__:"flambe.input.Key",toString:a},Numpad8:{_hx_name:"Numpad8",_hx_index:44,__enum__:"flambe.input.Key",toString:a},Numpad9:{_hx_name:"Numpad9",_hx_index:45,__enum__:"flambe.input.Key",toString:a},NumpadAdd:{_hx_name:"NumpadAdd",_hx_index:46,__enum__:"flambe.input.Key",toString:a},NumpadDecimal:{_hx_name:"NumpadDecimal",_hx_index:47,__enum__:"flambe.input.Key",toString:a},NumpadDivide:{_hx_name:"NumpadDivide",_hx_index:48,__enum__:"flambe.input.Key",toString:a},NumpadEnter:{_hx_name:"NumpadEnter",_hx_index:49,__enum__:"flambe.input.Key",toString:a},NumpadMultiply:{_hx_name:"NumpadMultiply",_hx_index:50,__enum__:"flambe.input.Key",toString:a},NumpadSubtract:{_hx_name:"NumpadSubtract",_hx_index:51,__enum__:"flambe.input.Key",toString:a},F1:{_hx_name:"F1",_hx_index:52,__enum__:"flambe.input.Key",toString:a},F2:{_hx_name:"F2",_hx_index:53,__enum__:"flambe.input.Key",toString:a},F3:{_hx_name:"F3",_hx_index:54,__enum__:"flambe.input.Key",toString:a},F4:{_hx_name:"F4",_hx_index:55,__enum__:"flambe.input.Key",toString:a},F5:{_hx_name:"F5",_hx_index:56,__enum__:"flambe.input.Key",toString:a},F6:{_hx_name:"F6",_hx_index:57,__enum__:"flambe.input.Key",toString:a},F7:{_hx_name:"F7",_hx_index:58,__enum__:"flambe.input.Key",toString:a},F8:{_hx_name:"F8",_hx_index:59,__enum__:"flambe.input.Key",toString:a},F9:{_hx_name:"F9",_hx_index:60,__enum__:"flambe.input.Key",toString:a},F10:{_hx_name:"F10",_hx_index:61,__enum__:"flambe.input.Key",toString:a},F11:{_hx_name:"F11",_hx_index:62,__enum__:"flambe.input.Key",toString:a},F12:{_hx_name:"F12",_hx_index:63,__enum__:"flambe.input.Key",toString:a},F13:{_hx_name:"F13",_hx_index:64,__enum__:"flambe.input.Key",toString:a},F14:{_hx_name:"F14",_hx_index:65,__enum__:"flambe.input.Key",toString:a},F15:{_hx_name:"F15",_hx_index:66,__enum__:"flambe.input.Key",toString:a},Left:{_hx_name:"Left",_hx_index:67,__enum__:"flambe.input.Key",toString:a},Up:{_hx_name:"Up",_hx_index:68,__enum__:"flambe.input.Key",toString:a},Right:{_hx_name:"Right",_hx_index:69,__enum__:"flambe.input.Key",toString:a},Down:{_hx_name:"Down",_hx_index:70,__enum__:"flambe.input.Key",toString:a},Alt:{_hx_name:"Alt",_hx_index:71,__enum__:"flambe.input.Key",toString:a},Backquote:{_hx_name:"Backquote",_hx_index:72,__enum__:"flambe.input.Key",toString:a},Backslash:{_hx_name:"Backslash",_hx_index:73,__enum__:"flambe.input.Key",toString:a},Backspace:{_hx_name:"Backspace",_hx_index:74,__enum__:"flambe.input.Key",toString:a},CapsLock:{_hx_name:"CapsLock",_hx_index:75,__enum__:"flambe.input.Key",toString:a},Comma:{_hx_name:"Comma",_hx_index:76,__enum__:"flambe.input.Key",toString:a},Command:{_hx_name:"Command",_hx_index:77,__enum__:"flambe.input.Key",toString:a},Control:{_hx_name:"Control",_hx_index:78,__enum__:"flambe.input.Key",toString:a},Delete:{_hx_name:"Delete",_hx_index:79,__enum__:"flambe.input.Key",toString:a},End:{_hx_name:"End",_hx_index:80,__enum__:"flambe.input.Key",toString:a},Enter:{_hx_name:"Enter",_hx_index:81,__enum__:"flambe.input.Key",toString:a},Equals:{_hx_name:"Equals",_hx_index:82,__enum__:"flambe.input.Key",toString:a},Escape:{_hx_name:"Escape",_hx_index:83,__enum__:"flambe.input.Key",toString:a},Home:{_hx_name:"Home",_hx_index:84,__enum__:"flambe.input.Key",toString:a},Insert:{_hx_name:"Insert",_hx_index:85,__enum__:"flambe.input.Key",toString:a},LeftBracket:{_hx_name:"LeftBracket",_hx_index:86,__enum__:"flambe.input.Key",toString:a},Minus:{_hx_name:"Minus",_hx_index:87,__enum__:"flambe.input.Key",toString:a},PageDown:{_hx_name:"PageDown",_hx_index:88,__enum__:"flambe.input.Key",toString:a},PageUp:{_hx_name:"PageUp",_hx_index:89,__enum__:"flambe.input.Key",toString:a},Period:{_hx_name:"Period",_hx_index:90,__enum__:"flambe.input.Key",toString:a},Quote:{_hx_name:"Quote",_hx_index:91,__enum__:"flambe.input.Key",toString:a},RightBracket:{_hx_name:"RightBracket",_hx_index:92,__enum__:"flambe.input.Key",toString:a},Semicolon:{_hx_name:"Semicolon",_hx_index:93,__enum__:"flambe.input.Key",toString:a},Shift:{_hx_name:"Shift",_hx_index:94,__enum__:"flambe.input.Key",toString:a},Slash:{_hx_name:"Slash",_hx_index:95,__enum__:"flambe.input.Key",toString:a},Space:{_hx_name:"Space",_hx_index:96,__enum__:"flambe.input.Key",toString:a},Tab:{_hx_name:"Tab",_hx_index:97,__enum__:"flambe.input.Key",toString:a},Menu:{_hx_name:"Menu",_hx_index:98,__enum__:"flambe.input.Key",toString:a},Search:{_hx_name:"Search",_hx_index:99,__enum__:"flambe.input.Key",toString:a},Unknown:(r=function(t){return{_hx_index:100,keyCode:t,__enum__:"flambe.input.Key",toString:a}},r._hx_name="Unknown",r.__params__=["keyCode"],r)};q.__constructs__=[q.A,q.B,q.C,q.D,q.E,q.F,q.G,q.H,q.I,q.J,q.K,q.L,q.M,q.N,q.O,q.P,q.Q,q.R,q.S,q.T,q.U,q.V,q.W,q.X,q.Y,q.Z,q.Number0,q.Number1,q.Number2,q.Number3,q.Number4,q.Number5,q.Number6,q.Number7,q.Number8,q.Number9,q.Numpad0,q.Numpad1,q.Numpad2,q.Numpad3,q.Numpad4,q.Numpad5,q.Numpad6,q.Numpad7,q.Numpad8,q.Numpad9,q.NumpadAdd,q.NumpadDecimal,q.NumpadDivide,q.NumpadEnter,q.NumpadMultiply,q.NumpadSubtract,q.F1,q.F2,q.F3,q.F4,q.F5,q.F6,q.F7,q.F8,q.F9,q.F10,q.F11,q.F12,q.F13,q.F14,q.F15,q.Left,q.Up,q.Right,q.Down,q.Alt,q.Backquote,q.Backslash,q.Backspace,q.CapsLock,q.Comma,q.Command,q.Control,q.Delete,q.End,q.Enter,q.Equals,q.Escape,q.Home,q.Insert,q.LeftBracket,q.Minus,q.PageDown,q.PageUp,q.Period,q.Quote,q.RightBracket,q.Semicolon,q.Shift,q.Slash,q.Space,q.Tab,q.Menu,q.Search,q.Unknown];var J=function(){this.init(0,null)};J.__name__=!0,J.prototype={init:function(t,e){this.id=t,this.key=e},__class__:J};var Z=s["flambe.input.MouseButton"]={__ename__:!0,__constructs__:null,Left:{_hx_name:"Left",_hx_index:0,__enum__:"flambe.input.MouseButton",toString:a},Middle:{_hx_name:"Middle",_hx_index:1,__enum__:"flambe.input.MouseButton",toString:a},Right:{_hx_name:"Right",_hx_index:2,__enum__:"flambe.input.MouseButton",toString:a},Unknown:(r=function(t){return{_hx_index:3,buttonCode:t,__enum__:"flambe.input.MouseButton",toString:a}},r._hx_name="Unknown",r.__params__=["buttonCode"],r)};Z.__constructs__=[Z.Left,Z.Middle,Z.Right,Z.Unknown];var $=s["flambe.input.MouseCursor"]={__ename__:!0,__constructs__:null,Default:{_hx_name:"Default",_hx_index:0,__enum__:"flambe.input.MouseCursor",toString:a},Button:{_hx_name:"Button",_hx_index:1,__enum__:"flambe.input.MouseCursor",toString:a},None:{_hx_name:"None",_hx_index:2,__enum__:"flambe.input.MouseCursor",toString:a}};$.__constructs__=[$.Default,$.Button,$.None];var tt=function(){this.init(0,0,0,null)};tt.__name__=!0,tt.prototype={init:function(t,e,n,i){this.id=t,this.viewX=e,this.viewY=n,this.button=i},__class__:tt};var et=s["flambe.input.EventSource"]={__ename__:!0,__constructs__:null,Mouse:(r=function(t){return{_hx_index:0,event:t,__enum__:"flambe.input.EventSource",toString:a}},r._hx_name="Mouse",r.__params__=["event"],r),Touch:(r=function(t){return{_hx_index:1,point:t,__enum__:"flambe.input.EventSource",toString:a}},r._hx_name="Touch",r.__params__=["point"],r)};et.__constructs__=[et.Mouse,et.Touch];var nt=function(){this.init(0,0,0,null,null)};nt.__name__=!0,nt.prototype={init:function(t,e,n,i,r){this.id=t,this.viewX=e,this.viewY=n,this.hit=i,this.source=r,this._stopped=!1},__class__:nt};var it=function(t){this.id=t,this._source=et.Touch(this)};it.__name__=!0,it.prototype={init:function(t,e){this.viewX=t,this.viewY=e},__class__:it};var rt=function(){};rt.__name__=!0,rt.clamp=function(t,e,n){return t<e?e:t>n?n:t};var at=function(){this.identity()};at.__name__=!0,at.multiply=function(t,e,n){null==n&&(n=new at);var i=t.m00*e.m00+t.m01*e.m10,r=t.m00*e.m01+t.m01*e.m11,a=t.m00*e.m02+t.m01*e.m12+t.m02;return n.m00=i,n.m01=r,n.m02=a,i=t.m10*e.m00+t.m11*e.m10,r=t.m10*e.m01+t.m11*e.m11,a=t.m10*e.m02+t.m11*e.m12+t.m12,n.m10=i,n.m11=r,n.m12=a,n},at.prototype={set:function(t,e,n,i,r,a){this.m00=t,this.m01=n,this.m02=r,this.m10=e,this.m11=i,this.m12=a},identity:function(){this.set(1,0,0,1,0,0)},translate:function(t,e){this.m02+=this.m00*t+this.m01*e,this.m12+=this.m11*e+this.m10*t},invert:function(){var t=this.determinant();return 0!=t&&(this.set(this.m11/t,-this.m01/t,-this.m10/t,this.m00/t,(this.m01*this.m12-this.m11*this.m02)/t,(this.m10*this.m02-this.m00*this.m12)/t),!0)},transformArray:function(t,e,n){var i=0;while(i<e){var r=t[i],a=t[i+1];n[i++]=r*this.m00+a*this.m01+this.m02,n[i++]=r*this.m10+a*this.m11+this.m12}},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(t,e,n){var i=this.determinant();return 0!=i&&(t-=this.m02,e-=this.m12,n.x=(t*this.m11-e*this.m01)/i,n.y=(e*this.m00-t*this.m10)/i,!0)},clone:function(t){return null==t&&(t=new at),t.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12),t},toString:function(){return this.m00+" "+this.m01+" "+this.m02+" \\ "+this.m10+" "+this.m11+" "+this.m12},__class__:at};var st=function(t,e,n,i){null==i&&(i=0),null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),this.set(t,e,n,i)};st.__name__=!0,st.prototype={set:function(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i},contains:function(t,e){if(t-=this.x,this.width>=0){if(t<0||t>this.width)return!1}else if(t>0||t<this.width)return!1;if(e-=this.y,this.height>=0){if(e<0||e>this.height)return!1}else if(e>0||e<this.height)return!1;return!0},clone:function(t){return null==t&&(t=new st),t.set(this.x,this.y,this.width,this.height),t},equals:function(t){return this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},toString:function(){return"("+this.x+","+this.y+" "+this.width+"x"+this.height+")"},__class__:st};var _t=function(){this._reloadCount=null,this._disposed=!1};_t.__name__=!0,_t.__interfaces__=[N],_t.prototype={reload:function(t){this.dispose(),this._disposed=!1,this.copyFrom(t);var e=this.get_reloadCount();e.set__(e._value+1)},dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},copyFrom:function(t){Ce.fail()},onDisposed:function(){Ce.fail()},get_reloadCount:function(){return null==this._reloadCount&&(this._reloadCount=new b(0)),this._reloadCount},__class__:_t};var ot=function(t,e){var n=this;this.manifest=e,this._platform=t,this.promise=new Me,this._bytesLoaded=new Qe,this._pack=new ut(e,this);var i=l.array(e);if(0==i.length)this.handleSuccess();else{var r=new Qe,a=0;while(a<i.length){var s=i[a];++a;var _=r.h[s.name];null==_&&(_=[],r.h[s.name]=_),_.push(s)}this._assetsRemaining=l.count(r);var o=r.h,u=Object.keys(o),h=u.length,d=0;while(d<h){_=[o[u[d++]]];this.pickBestEntry(_[0],function(t){return function(i){if(null!=i){var r=e.getFullURL(i);try{n.loadEntry(r,i)}catch(a){var s=Ye.caught(a).unwrap();n.handleError(i,"Unexpected error: "+c.string(s))}var _=n.promise;_.set_total(_._total+i.bytes)}else{var o=t[0][0];ot.isAudio(o.format)?(L.logger.warn("Could not find a supported audio format to load",["name",o.name]),n.handleLoad(o,St.getInstance())):n.handleError(o,"Could not find a supported format to load")}}}(_))}}var m=this._platform.getCatapultClient();null!=m&&m.add(this)};ot.__name__=!0,ot.removeUrlParams=function(t){var e=t.indexOf("?");return e>0?u.substr(t,0,e):t},ot.isAudio=function(t){switch(t._hx_index){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}},ot.prototype={reload:function(t){var e=this,n=ot.removeUrlParams(t),i=null,r=this.manifest._entries,a=0;while(a<r.length){var s=r[a++];if(n==ot.removeUrlParams(s.url)){i=s;break}}null!=i&&this.getAssetFormats((function(n){if(n.indexOf(i.format)>=0){var r=new R(i.name,t,i.format,0);e.loadEntry(e.manifest.getFullURL(r),r)}}))},onDisposed:function(){var t=this._platform.getCatapultClient();null!=t&&t.remove(this)},pickBestEntry:function(t,e){var n=function(n){var i=0;while(i<n.length){var r=n[i];++i;var a=0;while(a<t.length){var s=t[a];if(++a,s.format==r)return void e(s)}}e(null)};this.getAssetFormats(n)},loadEntry:function(t,e){Ce.fail()},getAssetFormats:function(t){Ce.fail()},handleLoad:function(t,e){if(!this._pack.disposed){var n;switch(this.handleProgress(t,t.bytes),t.format._hx_index){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:n=this._pack.sounds;break;case 13:n=this._pack.files;break}var i=n.h[t.name];null!=i?(L.logger.info("Reloaded asset",["url",t.url]),i.reload(e)):(n.h[t.name]=e,this._assetsRemaining-=1,0==this._assetsRemaining&&this.handleSuccess())}},handleProgress:function(t,e){this._bytesLoaded.h[t.name]=e;var n=0,i=this._bytesLoaded.h,r=Object.keys(i),a=r.length,s=0;while(s<a){var _=i[r[s++]];n+=_}this.promise.set_progress(n)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(t,e){L.logger.warn("Error loading asset pack",["error",e,"url",t.url]),this.promise.error.emit(ke.withFields(e,["url",t.url]))},handleTextureError:function(t){this.handleError(t,"Failed to create texture. Is the GPU context unavailable?")},__class__:ot};var ut=function(t,e){this.disposed=!1,this._manifest=t,this.loader=e,this.textures=new Qe,this.sounds=new Qe,this.files=new Qe};ut.__name__=!0,ut.__interfaces__=[D],ut.warnOnExtension=function(t){var e=ke.getFileExtension(t);if(null!=e&&3==e.length){var n='Requested asset "'+t+'" should not have a file extension, did you mean "'+ke.removeFileExtension(t)+'"?';L.logger.warn(n,null)}},ut.prototype={getTexture:function(t,e){null==e&&(e=!0),Ce.that(!this.disposed,"AssetPack cannot be used after being disposed"),ut.warnOnExtension(t);var n=this.textures.h[t];if(null==n&&e)throw Ye.thrown(ke.withFields("Missing texture",["name",t]));return n},dispose:function(){if(!this.disposed){this.disposed=!0;var t=this.textures.h,e=Object.keys(t),n=e.length,i=0;while(i<n){var r=t[e[i++]];r.dispose()}this.textures=null;t=this.sounds.h;var a=Object.keys(t),s=a.length,_=0;while(_<s){var o=t[a[_++]];o.dispose()}this.sounds=null;t=this.files.h;var u=Object.keys(t),l=u.length,h=0;while(h<l){var c=t[u[h++]];c.dispose()}this.files=null,this.loader.onDisposed()}},__class__:ut};var lt=function(t){_t.call(this),this._content=t};lt.__name__=!0,lt.__interfaces__=[B],lt.__super__=_t,lt.prototype=_(_t.prototype,{copyFrom:function(t){this._content=t._content},onDisposed:function(){this._content=null},__class__:lt});var ht=function(){};ht.__name__=!0,ht.__isInterface__=!0,ht.prototype={__class__:ht};var ct=function(){this.down=new C,this.up=new C,this.backButton=new Le,this._keyStates=new ze};ct.__name__=!0,ct.__interfaces__=[ht],ct.prototype={isDown:function(t){return this._keyStates.h.hasOwnProperty(Rt.toKeyCode(t))},submitDown:function(t){return 16777238==t?null!=this.backButton._head&&(this.backButton.emit(),!0):(this._keyStates.h.hasOwnProperty(t)||(this._keyStates.h[t]=!0,ct._sharedEvent.init(ct._sharedEvent.id+1,Rt.toKey(t)),this.down.emit(ct._sharedEvent)),!0)},submitUp:function(t){this._keyStates.h.hasOwnProperty(t)&&(this._keyStates.remove(t),ct._sharedEvent.init(ct._sharedEvent.id+1,Rt.toKey(t)),this.up.emit(ct._sharedEvent))},__class__:ct};var dt=function(){};dt.__name__=!0,dt.__isInterface__=!0;var mt=function(t){this._pointer=t,this._source=et.Mouse(mt._sharedEvent),this.down=new C,this.move=new C,this.up=new C,this.scroll=new C,this._x=0,this._y=0,this._cursor=$.Default,this._buttonStates=new ze};mt.__name__=!0,mt.__interfaces__=[dt],mt.prototype={submitDown:function(t,e,n){this._buttonStates.h.hasOwnProperty(n)||(this._buttonStates.h[n]=!0,this.prepare(t,e,Ot.toButton(n)),this._pointer.submitDown(t,e,this._source),this.down.emit(mt._sharedEvent))},submitMove:function(t,e){this.prepare(t,e,null),this._pointer.submitMove(t,e,this._source),this.move.emit(mt._sharedEvent)},submitUp:function(t,e,n){this._buttonStates.h.hasOwnProperty(n)&&(this._buttonStates.remove(n),this.prepare(t,e,Ot.toButton(n)),this._pointer.submitUp(t,e,this._source),this.up.emit(mt._sharedEvent))},submitScroll:function(t,e,n){return this._x=t,this._y=e,null!=this.scroll._head&&(this.scroll.emit(n),!0)},prepare:function(t,e,n){this._x=t,this._y=e,mt._sharedEvent.init(mt._sharedEvent.id+1,t,e,n)},__class__:mt};var pt=function(){};pt.__name__=!0,pt.__isInterface__=!0,pt.prototype={__class__:pt};var ft=function(t,e,n){null==n&&(n=!1),null==e&&(e=0),null==t&&(t=0),this.down=new C,this.move=new C,this.up=new C,this._x=t,this._y=e,this._isDown=n};ft.__name__=!0,ft.__interfaces__=[pt],ft.prototype={submitDown:function(t,e,n){if(!this._isDown){this.submitMove(t,e,n),this._isDown=!0;var i=[],r=G.hitTest(T.root,t,e);if(null!=r){var a=r.owner;while(1){var s=a._compMap["Sprite_0"];if(null!=s&&i.push(s),a=a.parent,null==a)break}}this.prepare(t,e,r,n);var _=0;while(_<i.length){s=i[_];if(++_,s.onPointerDown(ft._sharedEvent),ft._sharedEvent._stopped)return}this.down.emit(ft._sharedEvent)}},submitMove:function(t,e,n){if(t!=this._x||e!=this._y){var i=[],r=G.hitTest(T.root,t,e);if(null!=r){var a=r.owner;while(1){var s=a._compMap["Sprite_0"];if(null!=s&&i.push(s),a=a.parent,null==a)break}}this.prepare(t,e,r,n);var _=0;while(_<i.length){s=i[_];if(++_,s.onPointerMove(ft._sharedEvent),ft._sharedEvent._stopped)return}this.move.emit(ft._sharedEvent)}},submitUp:function(t,e,n){if(this._isDown){this.submitMove(t,e,n),this._isDown=!1;var i=[],r=G.hitTest(T.root,t,e);if(null!=r){var a=r.owner;while(1){var s=a._compMap["Sprite_0"];if(null!=s&&i.push(s),a=a.parent,null==a)break}}this.prepare(t,e,r,n);var _=0;while(_<i.length){s=i[_];if(++_,s.onPointerUp(ft._sharedEvent),ft._sharedEvent._stopped)return}this.up.emit(ft._sharedEvent)}},prepare:function(t,e,n,i){this._x=t,this._y=e,ft._sharedEvent.init(ft._sharedEvent.id+1,t,e,n,i)},__class__:ft};var gt=function(t,e,n){this._y=0,this._x=0,this._parent=null,this.rootY=0,this.rootX=0,_t.call(this),this.root=t,this._width=e,this._height=n};gt.__name__=!0,gt.__interfaces__=[V],gt.__super__=_t,gt.prototype=_(_t.prototype,{copyFrom:function(t){this.root._disposed=!1,this.root.copyFrom(t.root),this._width=t._width,this._height=t._height,Ce.that(this.rootX==t.rootX&&this.rootY==t.rootY&&this._x==t._x&&this._y==t._y)},onDisposed:function(){null==this._parent&&this.root.dispose()},get_reloadCount:function(){return this.root.get_reloadCount()},get_width:function(){return this._width},get_height:function(){return this._height},__class__:gt});var vt=function(){};vt.__name__=!0,vt.__isInterface__=!0;var wt=function(t,e){null==e&&(e=4),this._pointer=t,this._maxPoints=e,this._pointMap=new ze,this._points=[],this.down=new C,this.move=new C,this.up=new C};wt.__name__=!0,wt.__interfaces__=[vt],wt.prototype={submitDown:function(t,e,n){if(!this._pointMap.h.hasOwnProperty(t)){var i=new it(t);i.init(e,n),this._pointMap.h[t]=i,this._points.push(i),null==this._pointerTouch&&(this._pointerTouch=i,this._pointer.submitDown(e,n,i._source)),this.down.emit(i)}},submitMove:function(t,e,n){var i=this._pointMap.h[t];null!=i&&(i.init(e,n),this._pointerTouch==i&&this._pointer.submitMove(e,n,i._source),this.move.emit(i))},submitUp:function(t,e,n){var i=this._pointMap.h[t];null!=i&&(i.init(e,n),this._pointMap.remove(t),u.remove(this._points,i),this._pointerTouch==i&&(this._pointerTouch=null,this._pointer.submitUp(e,n,i._source)),this.up.emit(i))},__class__:wt};var xt=function(){this._loaders=[]};xt.__name__=!0,xt.prototype={add:function(t){"assets"==t.manifest.get_localBase()&&this._loaders.push(t)},remove:function(t){u.remove(this._loaders,t)},onError:function(t){L.logger.warn("Unable to connect to Catapult",["cause",t])},onMessage:function(t){var e=JSON.parse(t);switch(e.type){case"file_changed":var n=e.name+"?v="+e.md5;n=d.replace(n,"\\","/");var i=0,r=this._loaders;while(i<r.length){var a=r[i];++i,a.reload(n)}break;case"restart":this.onRestart();break}},onRestart:function(){Ce.fail()},__class__:xt};var bt=function(t){var e=this;this._platform=t,t.getKeyboard().down.connect((function(n){n.key==q.O&&t.getKeyboard().isDown(q.Control)&&e.toggleOverdrawGraphics()&&L.logger.info("Enabled overdraw visualizer, press Ctrl-O again to disable",null)}))};bt.__name__=!0,bt.prototype={toggleOverdrawGraphics:function(){var t=this._platform.getRenderer();if(null!=this._savedGraphics)t.graphics=this._savedGraphics,this._savedGraphics=null;else if(null!=t.graphics)return this._savedGraphics=t.graphics,t.graphics=new Kt(this._savedGraphics),!0;return!1},__class__:bt};var yt=function(){};yt.__name__=!0,yt.__isInterface__=!0,yt.__interfaces__=[N];var St=function(){_t.call(this),this._playback=new Ct(this)};St.__name__=!0,St.__interfaces__=[yt],St.getInstance=function(){return null==St._instance&&(St._instance=new St),St._instance},St.__super__=_t,St.prototype=_(_t.prototype,{copyFrom:function(t){},onDisposed:function(){},__class__:St});var At=function(){};At.__name__=!0,At.__isInterface__=!0,At.__interfaces__=[m];var Ct=function(t){this._sound=t,this.volume=new E(0),this._complete=new b(!0)};Ct.__name__=!0,Ct.__interfaces__=[At],Ct.prototype={dispose:function(){},__class__:Ct};var Et=function(){};Et.__name__=!0,Et.__isInterface__=!0;var Tt=function(){this.clear()};Tt.__name__=!0,Tt.__interfaces__=[Et],Tt.prototype={clear:function(){this._hash=new Qe},__class__:Tt};var Mt=function(){this.down=new C,this.move=new C,this.up=new C};Mt.__name__=!0,Mt.__interfaces__=[vt],Mt.prototype={__class__:Mt};var Lt=function(){this._entries=[]};Lt.__name__=!0,Lt.__interfaces__=[m],Lt.prototype={addListener:function(t,e,n){t.addEventListener(e,n,!1),this._entries.push(new Pt(t,e,n))},addDisposingListener:function(t,e,n){var i=this;this.addListener(t,e,(function(t){i.dispose(),n(t)}))},dispose:function(){var t=0,e=this._entries;while(t<e.length){var n=e[t];++t,n.dispatcher.removeEventListener(n.type,n.listener,!1)}this._entries=[]},__class__:Lt};var Pt=function(t,e,n){this.dispatcher=t,this.type=e,this.listener=n};Pt.__name__=!0,Pt.prototype={__class__:Pt};var kt=function(t){C.call(this,t),this.hasListenersValue=new b(null!=this._head)};kt.__name__=!0,kt.__super__=C,kt.prototype=_(C.prototype,{connect:function(t,e){null==e&&(e=!1);var n=C.prototype.connect.call(this,t,e);return this.hasListenersValue.set__(null!=this._head),n},disconnect:function(t){C.prototype.disconnect.call(this,t),this.hasListenersValue.set__(null!=this._head)},didEmit:function(t){C.prototype.didEmit.call(this,t),this.hasListenersValue.set__(null!=this._head)},__class__:kt});var It=function(){};It.__name__=!0,It.__isInterface__=!0,It.__interfaces__=[H],It.prototype={__class__:It};var Nt=function(){};Nt.__name__=!0,Nt.__isInterface__=!0,Nt.prototype={__class__:Nt};var Ft=function(){};Ft.__name__=!0,Ft.__isInterface__=!0,Ft.__interfaces__=[Nt],Ft.prototype={__class__:Ft};var Rt=function(){};Rt.__name__=!0,Rt.toKey=function(t){switch(t){case 8:return q.Backspace;case 9:return q.Tab;case 13:return q.Enter;case 15:return q.Command;case 16:return q.Shift;case 17:return q.Control;case 18:return q.Alt;case 20:return q.CapsLock;case 27:return q.Escape;case 32:return q.Space;case 33:return q.PageUp;case 34:return q.PageDown;case 35:return q.End;case 36:return q.Home;case 37:return q.Left;case 38:return q.Up;case 39:return q.Right;case 40:return q.Down;case 45:return q.Insert;case 46:return q.Delete;case 48:return q.Number0;case 49:return q.Number1;case 50:return q.Number2;case 51:return q.Number3;case 52:return q.Number4;case 53:return q.Number5;case 54:return q.Number6;case 55:return q.Number7;case 56:return q.Number8;case 57:return q.Number9;case 65:return q.A;case 66:return q.B;case 67:return q.C;case 68:return q.D;case 69:return q.E;case 70:return q.F;case 71:return q.G;case 72:return q.H;case 73:return q.I;case 74:return q.J;case 75:return q.K;case 76:return q.L;case 77:return q.M;case 78:return q.N;case 79:return q.O;case 80:return q.P;case 81:return q.Q;case 82:return q.R;case 83:return q.S;case 84:return q.T;case 85:return q.U;case 86:return q.V;case 87:return q.W;case 88:return q.X;case 89:return q.Y;case 90:return q.Z;case 96:return q.Numpad0;case 97:return q.Numpad1;case 98:return q.Numpad2;case 99:return q.Numpad3;case 100:return q.Numpad4;case 101:return q.Numpad5;case 102:return q.Numpad6;case 103:return q.Numpad7;case 104:return q.Numpad8;case 105:return q.Numpad9;case 106:return q.NumpadMultiply;case 107:return q.NumpadAdd;case 108:return q.NumpadEnter;case 109:return q.NumpadSubtract;case 110:return q.NumpadDecimal;case 111:return q.NumpadDivide;case 112:return q.F1;case 113:return q.F2;case 114:return q.F3;case 115:return q.F4;case 116:return q.F5;case 117:return q.F6;case 118:return q.F7;case 119:return q.F8;case 120:return q.F9;case 121:return q.F10;case 122:return q.F11;case 123:return q.F12;case 186:return q.Semicolon;case 187:return q.Equals;case 188:return q.Comma;case 189:return q.Minus;case 190:return q.Period;case 191:return q.Slash;case 192:return q.Backquote;case 219:return q.LeftBracket;case 220:return q.Backslash;case 221:return q.RightBracket;case 222:return q.Quote;case 16777234:return q.Menu;case 16777247:return q.Search}return q.Unknown(t)},Rt.toKeyCode=function(t){switch(t._hx_index){case 0:return 65;case 1:return 66;case 2:return 67;case 3:return 68;case 4:return 69;case 5:return 70;case 6:return 71;case 7:return 72;case 8:return 73;case 9:return 74;case 10:return 75;case 11:return 76;case 12:return 77;case 13:return 78;case 14:return 79;case 15:return 80;case 16:return 81;case 17:return 82;case 18:return 83;case 19:return 84;case 20:return 85;case 21:return 86;case 22:return 87;case 23:return 88;case 24:return 89;case 25:return 90;case 26:return 48;case 27:return 49;case 28:return 50;case 29:return 51;case 30:return 52;case 31:return 53;case 32:return 54;case 33:return 55;case 34:return 56;case 35:return 57;case 36:return 96;case 37:return 97;case 38:return 98;case 39:return 99;case 40:return 100;case 41:return 101;case 42:return 102;case 43:return 103;case 44:return 104;case 45:return 105;case 46:return 107;case 47:return 110;case 48:return 111;case 49:return 108;case 50:return 106;case 51:return 109;case 52:return 112;case 53:return 113;case 54:return 114;case 55:return 115;case 56:return 116;case 57:return 117;case 58:return 118;case 59:return 119;case 60:return 120;case 61:return 121;case 62:return 122;case 63:return 123;case 64:return 124;case 65:return 125;case 66:return 126;case 67:return 37;case 68:return 38;case 69:return 39;case 70:return 40;case 71:return 18;case 72:return 192;case 73:return 220;case 74:return 8;case 75:return 20;case 76:return 188;case 77:return 15;case 78:return 17;case 79:return 46;case 80:return 35;case 81:return 13;case 82:return 187;case 83:return 27;case 84:return 36;case 85:return 45;case 86:return 219;case 87:return 189;case 88:return 34;case 89:return 33;case 90:return 190;case 91:return 222;case 92:return 221;case 93:return 186;case 94:return 16;case 95:return 191;case 96:return 32;case 97:return 9;case 98:return 16777234;case 99:return 16777247;case 100:return t.keyCode}};var Dt=function(){this._tickables=[]};Dt.__name__=!0,Dt.updateEntity=function(t,e){var n=t._compMap["SpeedAdjuster_2"];if(null!=n&&(n._realDt=e,e*=n.scale._value,e<=0))n.onUpdate(e);else{var i=t.firstComponent;while(null!=i){var r=i.next;0==(1&i._flags)&&(i._flags|=1,i.onStart()),i.onUpdate(e),i=r}i=t.firstChild;while(null!=i){r=i.next;Dt.updateEntity(i,e),i=r}}},Dt.prototype={update:function(t){if(t<=0)L.logger.warn("Zero or negative time elapsed since the last frame!",["dt",t]);else{t>1&&(t=1);var e=0;while(e<this._tickables.length){var n=this._tickables[e];null==n||n.update(t)?this._tickables.splice(e,1):++e}T.volume.update(t),Dt.updateEntity(T.root,t)}},render:function(t){var e=t.graphics;null!=e&&(t.willRender(),G.render(T.root,e),t.didRender())},__class__:Dt};var Bt=function(){};Bt.__name__=!0,Bt.nextPowerOfTwo=function(t){var e=1;while(e<t)e<<=1;return e};var Ot=function(){};Ot.__name__=!0,Ot.toButton=function(t){switch(t){case 0:return Z.Left;case 1:return Z.Middle;case 2:return Z.Right}return Z.Unknown(t)};var Kt=function(t){this._impl=t};Kt.__name__=!0,Kt.__interfaces__=[It],Kt.prototype={save:function(){this._impl.save()},transform:function(t,e,n,i,r,a){this._impl.transform(t,e,n,i,r,a)},multiplyAlpha:function(t){},setBlendMode:function(t){},applyScissor:function(t,e,n,i){this._impl.applyScissor(t,e,n,i)},restore:function(){this._impl.restore()},drawTexture:function(t,e,n){this.drawRegion(e,n,t.get_width(),t.get_height())},fillRect:function(t,e,n,i,r){this.drawRegion(e,n,i,r)},willRender:function(){this._impl.willRender(),this._impl.save(),this._impl.setBlendMode(K.Add)},didRender:function(){this._impl.restore(),this._impl.didRender()},onResize:function(t,e){this._impl.onResize(t,e)},drawRegion:function(t,e,n,i){this._impl.fillRect(1052680,t,e,n,i)},__class__:Kt};var Ut=function(){};Ut.__name__=!0,Ut.__isInterface__=!0;var Gt=function(){};Gt.__name__=!0,Gt.__isInterface__=!0,Gt.prototype={__class__:Gt};var Xt=function(t,e){this._firstDraw=!1,this._canvasCtx=t.getContext("2d",{alpha:e})};Xt.__name__=!0,Xt.__interfaces__=[It],Xt.prototype={save:function(){this._canvasCtx.save()},transform:function(t,e,n,i,r,a){this._canvasCtx.transform(t,e,n,i,r,a)},restore:function(){this._canvasCtx.restore()},drawTexture:function(t,e,n){this.drawSubTexture(t,e,n,0,0,t.get_width(),t.get_height())},drawSubTexture:function(t,e,n,i,r,a,s){if(this._firstDraw)return this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(t,e,n,i,r,a,s),void(this._canvasCtx.globalCompositeOperation="source-over");var _=t,o=_.root;Ce.that(!o._disposed,"Asset cannot be used after being disposed"),this._canvasCtx.drawImage(o.image,_.rootX+i|0,_.rootY+r|0,0|a,0|s,0|e,0|n,0|a,0|s)},fillRect:function(t,e,n,i,r){if(this._firstDraw)return this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(t,e,n,i,r),void(this._canvasCtx.globalCompositeOperation="source-over");var a=(16777215&t).toString(16);while(a.length<6)a="0"+a;this._canvasCtx.fillStyle="#"+a,this._canvasCtx.fillRect(0|e,0|n,0|i,0|r)},multiplyAlpha:function(t){this._canvasCtx.globalAlpha*=t},setBlendMode:function(t){var e;switch(t._hx_index){case 0:e="source-over";break;case 1:e="lighter";break;case 2:e="multiply";break;case 3:e="screen";break;case 4:e="destination-in";break;case 5:e="copy";break}this._canvasCtx.globalCompositeOperation=e},applyScissor:function(t,e,n,i){this._canvasCtx.beginPath(),this._canvasCtx.rect(0|t,0|e,0|n,0|i),this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},onResize:function(t,e){},__class__:Xt};var Ht=function(t){this.graphics=new Xt(t,!0),this._hasGPU=new b(!0)};Ht.__name__=!0,Ht.__interfaces__=[Ft],Ht.prototype={get_type:function(){return Ae.Canvas},createTextureFromImage:function(t){var e=new jt(Ht.CANVAS_TEXTURES?ae.createCanvas(t):t);return e.createTexture(e.width,e.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(t,e){return Ce.fail(),null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:Ht};var Wt=function(t,e,n){gt.call(this,t,e,n)};Wt.__name__=!0,Wt.__super__=gt,Wt.prototype=_(gt.prototype,{__class__:Wt});var jt=function(t){this._graphics=null,this.updateCount=0,_t.call(this),this.image=t,this.width=t.width,this.height=t.height};jt.__name__=!0,jt.__interfaces__=[Ut],jt.__super__=_t,jt.prototype=_(_t.prototype,{createTexture:function(t,e){return new Wt(this,t,e)},copyFrom:function(t){this.image=t.image,this._graphics=t._graphics,++this.updateCount},onDisposed:function(){this.image=null,this._graphics=null},__class__:jt});var Yt=function(t,e){ot.call(this,t,e)};Yt.__name__=!0,Yt.detectImageFormats=function(t){var e=[F.PNG,F.JPG,F.GIF],n=2,i=function(){n-=1,0==n&&t(e)},r=window.document.createElement("img");r.onload=r.onerror=function(t){1==r.width&&e.unshift(F.WEBP),i()},r.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var a=window.document.createElement("img");a.onload=a.onerror=function(t){1==a.width&&e.unshift(F.JXR),i()},a.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="},Yt.detectAudioFormats=function(){var t=window.document.createElement("audio");if(null==t||null==t.canPlayType)return L.logger.warn("Audio is not supported at all in this browser!",null),[];var e=new o("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),n=i.navigator.userAgent;if(!ue.get_supported()&&e.match(n))return L.logger.warn("HTML5 audio is blacklisted for this browser",["userAgent",n]),[];var r=[{format:F.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:F.MP3,mimeType:"audio/mpeg"},{format:F.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:F.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:F.WAV,mimeType:"audio/wav"}],a=[],s=0;while(s<r.length){var _=r[s];++s;var u="";try{u=t.canPlayType(_.mimeType)}catch(l){}""!=u&&a.push(_.format)}return a},Yt.supportsBlob=function(){if(Yt._detectBlobSupport){if(Yt._detectBlobSupport=!1,new o("\\bSilk\\b","").match(i.navigator.userAgent))return!1;if(null==window.Blob)return!1;var t=new XMLHttpRequest;if(t.open("GET",".",!0),""!=t.responseType)return!1;if(t.responseType="blob","blob"!=t.responseType)return!1;Yt._URL=ae.loadExtension("URL").value}return null!=Yt._URL&&null!=Yt._URL.createObjectURL},Yt.__super__=ot,Yt.prototype=_(ot.prototype,{loadEntry:function(t,e){var n=this;switch(e.format._hx_index){case 0:case 1:case 2:case 3:case 4:var i=window.document.createElement("img"),r=new Lt;r.addDisposingListener(i,"load",(function(r){(i.width>1024||i.height>1024)&&L.logger.warn("Images larger than 1024px on a side will prevent GPU acceleration on some platforms (iOS)",["url",t,"width",i.width,"height",i.height]),Yt.supportsBlob()&&Yt._URL.revokeObjectURL(i.src);var a=n._platform.getRenderer().createTextureFromImage(i);null!=a?n.handleLoad(e,a):n.handleTextureError(e)})),r.addDisposingListener(i,"error",(function(t){n.handleError(e,"Failed to load image")})),Yt.supportsBlob()?this.download(t,e,"blob",(function(t){i.src=Yt._URL.createObjectURL(t)})):i.src=t;break;case 5:case 6:case 7:this.download(t,e,"arraybuffer",(function(t){var i=n._platform.getRenderer().createCompressedTexture(e.format,null);null!=i?n.handleLoad(e,i):n.handleTextureError(e)}));break;case 8:case 9:case 10:case 11:case 12:if(ue.get_supported())this.download(t,e,"arraybuffer",(function(i){ue.ctx.decodeAudioData(i,(function(t){n.handleLoad(e,new ue(t))}),(function(){L.logger.warn("Couldn't decode Web Audio, ignoring this asset",["url",t]),n.handleLoad(e,St.getInstance())}))}));else{var a=window.document.createElement("audio");a.preload="auto";var s=++Yt._mediaRefCount;null==Yt._mediaElements&&(Yt._mediaElements=new ze),Yt._mediaElements.h[s]=a;r=new Lt;r.addDisposingListener(a,"canplaythrough",(function(t){Yt._mediaElements.remove(s),n.handleLoad(e,new ee(a))})),r.addDisposingListener(a,"error",(function(i){Yt._mediaElements.remove(s);var r=a.error.code;3==r||4==r?(L.logger.warn("Couldn't decode HTML5 audio, ignoring this asset",["url",t,"code",r]),n.handleLoad(e,St.getInstance())):n.handleError(e,"Failed to load audio: "+a.error.code)})),r.addListener(a,"progress",(function(t){if(a.buffered.length>0&&a.duration>0){var i=a.buffered.end(0)/a.duration;n.handleProgress(e,i*e.bytes|0)}})),a.src=t,a.load()}break;case 13:this.download(t,e,"text",(function(t){n.handleLoad(e,new lt(t))}));break}},getAssetFormats:function(t){var e=this;null==Yt._supportedFormats&&(Yt._supportedFormats=new Me,Yt.detectImageFormats((function(t){Yt._supportedFormats.set_result(e._platform.getRenderer().getCompressedTextureFormats().concat(t).concat(Yt.detectAudioFormats()).concat([F.Data]))}))),Yt._supportedFormats.get(t)},download:function(t,e,n,i){var r=this,a=null,s=null,_=0,o=!1,u=function(){o&&(o=!1,window.clearInterval(_))},l=3,h=function(){return l-=1,l>=0&&(L.logger.warn("Retrying asset download",["url",e.url]),s(),!0)};s=function(){u(),null!=a&&a.abort(),a=new XMLHttpRequest,a.open("GET",t,!0),a.responseType=n;var s=0;a.onprogress=function(t){o||(o=!0,_=window.setInterval((function(){4!=a.readyState&&Date.now()-s>5e3&&(h()||(u(),r.handleError(e,"Download stalled")))}),1e3)),s=Date.now(),r.handleProgress(e,t.loaded)},a.onerror=function(t){0==a.status&&h()||(u(),r.handleError(e,"HTTP error "+a.status))},a.onload=function(t){var e=a.response;null==e&&(e=a.responseText),u(),i(e)},a.send()},s()},__class__:Yt});var Vt=function(){var t=this;xt.call(this),this._socket=new WebSocket("ws://"+i.location.host),this._socket.onerror=function(e){t.onError("unknown")},this._socket.onopen=function(t){L.logger.info("Catapult connected",null)},this._socket.onmessage=function(e){t.onMessage(e.data)}};Vt.__name__=!0,Vt.canUse=function(){var t=window;return Object.prototype.hasOwnProperty.call(t,"WebSocket")},Vt.__super__=xt,Vt.prototype=_(xt.prototype,{onRestart:function(){window.top.location.reload()},__class__:Vt});var zt=function(){};zt.__name__=!0,zt.__isInterface__=!0;var Qt=function(){};Qt.__name__=!0,Qt.__interfaces__=[zt],Qt.prototype={__class__:Qt};var qt=function(){};qt.__name__=!0,qt.__isInterface__=!0,qt.prototype={__class__:qt};var Jt=function(t){this._tagPrefix=t+": "};Jt.__name__=!0,Jt.__interfaces__=[qt],Jt.isSupported=function(){return"object"==typeof console&&null!=console.info},Jt.prototype={log:function(t,e){switch(e=this._tagPrefix+e,t._hx_index){case 0:console.info(e);break;case 1:console.warn(e);break;case 2:console.error(e);break}},__class__:Jt};var Zt=function(){};Zt.__name__=!0,Zt.__isInterface__=!0;var $t=function(){var t=this,e=new kt;this.acceleration=e;var n=new kt;this.accelerationIncludingGravity=n;var i=new kt;if(this.attitude=i,this.get_accelerationSupported()){this._sharedAcceleration=new z,this._sharedAccelerationIncludingGravity=new z;var r=null,a=function(i,a){null!=e._head||null!=n._head?null==r&&(r=new Lt,r.addListener(window,"devicemotion",an(t,t.onDeviceMotion))):null!=r&&(r.dispose(),r=null)};e.hasListenersValue.get_changed().connect(a),n.hasListenersValue.get_changed().connect(a)}if(this.get_attitudeSupported()){this._sharedAttitude=new Q;var s=null;i.hasListenersValue.get_changed().connect((function(e,n){e?(s=new Lt,s.addListener(window,"deviceorientation",an(t,t.onDeviceOrientation))):(s.dispose(),s=null)}))}};$t.__name__=!0,$t.__interfaces__=[Zt],$t.initAcceleration=function(t,e){switch(window.orientation){case-90:t.init(e.y,-e.x,e.z);break;case 0:t.init(e.x,e.y,e.z);break;case 90:t.init(-e.y,e.x,e.z);break;case 180:t.init(-e.x,-e.y,e.z);break}},$t.prototype={get_accelerationSupported:function(){return null!=window.DeviceMotionEvent},onDeviceMotion:function(t){null!=t.acceleration&&($t.initAcceleration(this._sharedAcceleration,t.acceleration),this.acceleration.emit(this._sharedAcceleration)),null!=t.accelerationIncludingGravity&&($t.initAcceleration(this._sharedAccelerationIncludingGravity,t.accelerationIncludingGravity),this.accelerationIncludingGravity.emit(this._sharedAccelerationIncludingGravity))},get_attitudeSupported:function(){return null!=window.DeviceOrientationEvent},onDeviceOrientation:function(t){switch(window.orientation){case-90:this._sharedAttitude.init(t.gamma,-t.beta,t.alpha);break;case 0:this._sharedAttitude.init(t.beta,t.gamma,t.alpha);break;case 90:this._sharedAttitude.init(-t.gamma,t.beta,t.alpha);break;case 180:this._sharedAttitude.init(-t.beta,-t.gamma,t.alpha);break}this.attitude.emit(this._sharedAttitude)},__class__:$t};var te=function(t,e){mt.call(this,t),this._canvas=e};te.__name__=!0,te.__super__=mt,te.prototype=_(mt.prototype,{__class__:te});var ee=function(t){_t.call(this),this.audioElement=t};ee.__name__=!0,ee.__interfaces__=[yt],ee.__super__=_t,ee.prototype=_(_t.prototype,{copyFrom:function(t){this.audioElement=t.audioElement},onDisposed:function(){this.audioElement=null},__class__:ee});var ne=function(){};ne.__name__=!0,ne.__isInterface__=!0,ne.prototype={__class__:ne};var ie=function(t){var e=this;this._canvas=t,this.resize=new Le,this.scaleFactor=ie.computeScaleFactor(),1!=this.scaleFactor&&(L.logger.info("Reversing device DPI scaling",["scaleFactor",this.scaleFactor]),ae.setVendorStyle(this._canvas,"transform-origin","top left"),ae.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")")),ae.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",(function(t){ae.callLater(an(e,e.hideMobileBrowser),200)}),!1),this.hideMobileBrowser()),window.addEventListener("resize",an(this,this.onWindowResize),!1),this.onWindowResize(null),this.orientation=new b(null),null!=window.orientation&&(window.addEventListener("orientationchange",an(this,this.onOrientationChange),!1),this.onOrientationChange(null)),this.fullscreen=new b(!1),ae.addVendorListener(window.document,"fullscreenchange",(function(t){e.updateFullscreen()}),!1),ae.addVendorListener(window.document,"fullscreenerror",(function(t){L.logger.warn("Error when requesting fullscreen",null)}),!1),this.updateFullscreen()};ie.__name__=!0,ie.__interfaces__=[ne],ie.computeScaleFactor=function(){var t=window.devicePixelRatio;null==t&&(t=1);var e=window.document.createElement("canvas"),n=e.getContext("2d",null),i=ae.loadExtension("backingStorePixelRatio",n).value;null==i&&(i=1);var r=t/i,a=window.screen.width,s=window.screen.height;return r*a>1136||r*s>1136?1:r},ie.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},onWindowResize:function(t){var e=this._canvas.parentElement,n=e.getBoundingClientRect();this.resizeCanvas(n.width,n.height)},resizeCanvas:function(t,e){var n=this.scaleFactor*t,i=this.scaleFactor*e;return(this._canvas.width!=n||this._canvas.height!=i)&&(this._canvas.width=0|n,this._canvas.height=0|i,this.resize.emit(),!0)},hideMobileBrowser:function(){var t=this,e=window.document.documentElement.style,n=c.string(window.innerHeight+100);e.height=n+"px";n=c.string(window.innerWidth);e.width=n+"px",e.overflow="visible",ae.callLater((function(){ae.hideMobileBrowser(),ae.callLater((function(){var n=c.string(window.innerHeight);e.height=n+"px",t.onWindowResize(null)}),100)}))},onOrientationChange:function(t){var e=ae.orientation(window.orientation);this.orientation.set__(e)},updateFullscreen:function(){var t=ae.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value;this.fullscreen.set__(1==t)},__class__:ie};var re=function(t){this._storage=t};re.__name__=!0,re.__interfaces__=[Et],re.prototype={__class__:re};var ae=function(){};ae.__name__=!0,ae.callLater=function(t,e){null==e&&(e=0),window.setTimeout(t,e)},ae.hideMobileBrowser=function(){window.scrollTo(1,0)},ae.loadExtension=function(t,e){null==e&&(e=window);var n=h.field(e,t);if(null!=n)return{prefix:"",field:t,value:n};var i=t.charAt(0).toUpperCase()+u.substr(t,1,null),r=0,a=ae.VENDOR_PREFIXES;while(r<a.length){var s=a[r];++r;var _=s+i;n=h.field(e,_);if(null!=n)return{prefix:s,field:_,value:n}}return{prefix:null,field:null,value:null}},ae.loadFirstExtension=function(t,e){var n=0;while(n<t.length){var i=t[n];++n;var r=ae.loadExtension(i,e);if(null!=r.field)return r}return{prefix:null,field:null,value:null}},ae.polyfill=function(t,e){null==e&&(e=window);var n=ae.loadExtension(t,e).value;return null!=n&&(e[t]=n,!0)},ae.setVendorStyle=function(t,e,n){var i=t.style,r=0,a=ae.VENDOR_PREFIXES;while(r<a.length){var s=a[r];++r,i.setProperty("-"+s+"-"+e,n)}i.setProperty(e,n)},ae.addVendorListener=function(t,e,n,i){var r=0,a=ae.VENDOR_PREFIXES;while(r<a.length){var s=a[r];++r,t.addEventListener(s+e,n,i)}t.addEventListener(e,n,i)},ae.orientation=function(t){switch(t){case-90:case 90:return j.Landscape;default:return j.Portrait}},ae.createEmptyCanvas=function(t,e){var n=window.document.createElement("canvas");return n.width=t,n.height=e,n},ae.createCanvas=function(t){var e=ae.createEmptyCanvas(t.width,t.height),n=e.getContext("2d",null);return n.save(),n.globalCompositeOperation="copy",n.drawImage(t,0,0),n.restore(),e},ae.detectSlowDriver=function(t){var e=i.navigator.platform.indexOf("Win")>=0;if(e){var n=null!=window.chrome;if(n){var r=0,a=t.getSupportedExtensions();while(r<a.length){var s=a[r];if(++r,s.indexOf("WEBGL_compressed_texture")>=0)return!1}return!0}}return!1},ae.fixAndroidMath=function(){if(i.navigator.userAgent.indexOf("Linux; U; Android 4")>=0){L.logger.warn("Monkey patching around Android sin/cos bug",null);var t=Math.sin,e=Math.cos;Math.sin=function(e){return 0==e?0:t(e)},Math.cos=function(t){return 0==t?1:e(t)}}};var se=function(){};se.__name__=!0,se.__isInterface__=!0;var _e=function(){this.stack=[]};_e.__name__=!0,_e.__interfaces__=[se],_e.prototype={__class__:_e};var oe=function(){};oe.__name__=!0,oe.__isInterface__=!0,oe.__interfaces__=[m];var ue=function(t){_t.call(this),this.buffer=t};ue.__name__=!0,ue.__interfaces__=[yt],ue.get_supported=function(){if(ue._detectSupport){ue._detectSupport=!1;var t=ae.loadExtension("AudioContext").value;null!=t&&(ue.ctx=new t,ue.gain=ue.createGain(),ue.gain.connect(ue.ctx.destination),T.volume.watch((function(t,e){ue.gain.gain.value=t})))}return null!=ue.ctx},ue.createGain=function(){return null!=ue.ctx.createGain?ue.ctx.createGain():ue.ctx.createGainNode()},ue.__super__=_t,ue.prototype=_(_t.prototype,{copyFrom:function(t){this.buffer=t.buffer},onDisposed:function(){this.buffer=null},__class__:ue});var le=function(t){this._backbufferHeight=0,this._backbufferWidth=0,this._dataOffset=0,this._maxQuads=0,this._quads=0,this._pendingSetScissor=!1,this._currentRenderTarget=null,this._currentTexture=null,this._currentShader=null,this._currentBlendMode=null,this._lastScissor=null,this._lastTexture=null,this._lastShader=null,this._lastRenderTarget=null,this._lastBlendMode=null,this._gl=t,t.clearColor(0,0,0,0),t.enable(3042),t.pixelStorei(37441,1),this._vertexBuffer=t.createBuffer(),t.bindBuffer(34962,this._vertexBuffer),this._quadIndexBuffer=t.createBuffer(),t.bindBuffer(34963,this._quadIndexBuffer),this._drawTextureShader=new ve(t),this._drawPatternShader=new ge(t),this._fillRectShader=new we(t),this.resize(16)};le.__name__=!0,le.prototype={resizeBackbuffer:function(t,e){this._gl.viewport(0,0,t,e),this._backbufferWidth=t,this._backbufferHeight=e},willRender:function(){this._gl.clear(16384)},didRender:function(){this.flush()},bindTexture:function(t){this.flush(),this._lastTexture=null,this._currentTexture=null,this._gl.bindTexture(3553,t)},deleteTexture:function(t){null!=this._lastTexture&&this._lastTexture.root==t&&(this.flush(),this._lastTexture=null,this._currentTexture=null),this._gl.deleteTexture(t.nativeTexture)},deleteFramebuffer:function(t){t==this._lastRenderTarget&&(this.flush(),this._lastRenderTarget=null,this._currentRenderTarget=null),this._gl.deleteFramebuffer(t.framebuffer)},prepareDrawTexture:function(t,e,n,i){return i!=this._lastTexture&&(this.flush(),this._lastTexture=i),this.prepareQuad(5,t,e,n,this._drawTextureShader)},prepareFillRect:function(t,e,n){return this.prepareQuad(6,t,e,n,this._fillRectShader)},prepareQuad:function(t,e,n,i,r){e!=this._lastRenderTarget&&(this.flush(),this._lastRenderTarget=e),n!=this._lastBlendMode&&(this.flush(),this._lastBlendMode=n),r!=this._lastShader&&(this.flush(),this._lastShader=r),null==i&&null==this._lastScissor||null!=i&&null!=this._lastScissor&&this._lastScissor.equals(i)||(this.flush(),this._lastScissor=null!=i?i.clone(this._lastScissor):null,this._pendingSetScissor=!0),this._quads>=this._maxQuads&&this.resize(2*this._maxQuads),++this._quads;var a=this._dataOffset;return this._dataOffset+=4*t,a},flush:function(){if(!(this._quads<1)){if(this._lastRenderTarget!=this._currentRenderTarget&&this.bindRenderTarget(this._lastRenderTarget),this._lastBlendMode!=this._currentBlendMode){switch(this._lastBlendMode._hx_index){case 0:this._gl.blendFunc(1,771);break;case 1:this._gl.blendFunc(1,1);break;case 2:this._gl.blendFunc(774,771);break;case 3:this._gl.blendFunc(1,769);break;case 4:this._gl.blendFunc(0,770);break;case 5:this._gl.blendFunc(1,0);break}this._currentBlendMode=this._lastBlendMode}if(this._pendingSetScissor&&(null!=this._lastScissor?(this._gl.enable(3089),this._gl.scissor(0|this._lastScissor.x,0|this._lastScissor.y,0|this._lastScissor.width,0|this._lastScissor.height)):this._gl.disable(3089),this._pendingSetScissor=!1),this._lastTexture!=this._currentTexture&&(this._gl.bindTexture(3553,this._lastTexture.root.nativeTexture),this._currentTexture=this._lastTexture),this._lastShader!=this._currentShader&&(this._lastShader.useProgram(),this._lastShader.prepare(),this._currentShader=this._lastShader),this._lastShader==this._drawPatternShader){var t=this._lastTexture,e=t.root;this._drawPatternShader.setRegion(t.rootX/e.width,t.rootY/e.height,t._width/e.width,t._height/e.height)}this._gl.bufferData(34962,this.data.subarray(0,this._dataOffset),35040),this._gl.drawElements(4,6*this._quads,5123,0),this._quads=0,this._dataOffset=0}},resize:function(t){if(this.flush(),!(t>1024)){this._maxQuads=t,this.data=new Float32Array(4*t*6),this._gl.bufferData(34962,this.data.length*Float32Array.BYTES_PER_ELEMENT,35040);var e=new Uint16Array(6*t),n=0;while(n<t){var i=n++;e[6*i]=4*i,e[6*i+1]=4*i+1,e[6*i+2]=4*i+2,e[6*i+3]=4*i+2,e[6*i+4]=4*i+3,e[6*i+5]=4*i}this._gl.bufferData(34963,e,35044)}},bindRenderTarget:function(t){null!=t?(this._gl.bindFramebuffer(36160,t.framebuffer),this._gl.viewport(0,0,t.width,t.height)):(this._gl.bindFramebuffer(36160,null),this._gl.viewport(0,0,this._backbufferWidth,this._backbufferHeight)),this._currentRenderTarget=t,this._lastRenderTarget=t},__class__:le};var he=function(t,e){this._stateList=null,this._inverseProjection=null,null==he._scratchQuadArray&&(he._scratchQuadArray=new Float32Array(8)),this._batcher=t,this._renderTarget=e};he.__name__=!0,he.__interfaces__=[It],he.prototype={save:function(){var t=this._stateList,e=this._stateList.next;null==e&&(e=new ce,e.prev=t,t.next=e),t.matrix.clone(e.matrix),e.alpha=t.alpha,e.blendMode=t.blendMode,e.scissor=null!=t.scissor?t.scissor.clone(e.scissor):null,this._stateList=e},transform:function(t,e,n,i,r,a){var s=this._stateList;he._scratchMatrix.set(t,e,n,i,r,a),at.multiply(s.matrix,he._scratchMatrix,s.matrix)},restore:function(){Ce.that(null!=this._stateList.prev,"Can't restore without a previous save"),this._stateList=this._stateList.prev},drawTexture:function(t,e,n){this.drawSubTexture(t,e,n,0,0,t.get_width(),t.get_height())},drawSubTexture:function(t,e,n,i,r,a,s){var _=this._stateList,o=t,u=o.root;Ce.that(!u._disposed,"Asset cannot be used after being disposed");var l=this.transformQuad(e,n,a,s),h=u.width,c=u.height,d=(o.rootX+i)/h,m=(o.rootY+r)/c,p=d+a/h,f=m+s/c,g=_.alpha,v=this._batcher.prepareDrawTexture(this._renderTarget,_.blendMode,_.scissor,o),w=this._batcher.data;w[v]=l[0],w[++v]=l[1],w[++v]=d,w[++v]=m,w[++v]=g,w[++v]=l[2],w[++v]=l[3],w[++v]=p,w[++v]=m,w[++v]=g,w[++v]=l[4],w[++v]=l[5],w[++v]=p,w[++v]=f,w[++v]=g,w[++v]=l[6],w[++v]=l[7],w[++v]=d,w[++v]=f,w[++v]=g},fillRect:function(t,e,n,i,r){var a=this._stateList,s=this.transformQuad(e,n,i,r),_=(16711680&t)/16711680,o=(65280&t)/65280,u=(255&t)/255,l=a.alpha,h=this._batcher.prepareFillRect(this._renderTarget,a.blendMode,a.scissor),c=this._batcher.data;c[h]=s[0],c[++h]=s[1],c[++h]=_,c[++h]=o,c[++h]=u,c[++h]=l,c[++h]=s[2],c[++h]=s[3],c[++h]=_,c[++h]=o,c[++h]=u,c[++h]=l,c[++h]=s[4],c[++h]=s[5],c[++h]=_,c[++h]=o,c[++h]=u,c[++h]=l,c[++h]=s[6],c[++h]=s[7],c[++h]=_,c[++h]=o,c[++h]=u,c[++h]=l},multiplyAlpha:function(t){this._stateList.alpha*=t},setBlendMode:function(t){this._stateList.blendMode=t},applyScissor:function(t,e,n,i){var r=this._stateList,a=he._scratchQuadArray;a[0]=t,a[1]=e,a[2]=t+n,a[3]=e+i,r.matrix.transformArray(a,4,a),this._inverseProjection.transformArray(a,4,a),t=a[0],e=a[1],n=a[2]-t,i=a[3]-e,n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i),r.applyScissor(t,e,n,i)},willRender:function(){this._batcher.willRender()},didRender:function(){this._batcher.didRender()},onResize:function(t,e){this._stateList=new ce;var n=null!=this._renderTarget?-1:1;this._stateList.matrix.set(2/t,0,0,-2*n/e,-1,n),this._inverseProjection=new at,this._inverseProjection.set(2/t,0,0,2/e,-1,-1),this._inverseProjection.invert()},transformQuad:function(t,e,n,i){var r=t+n,a=e+i,s=he._scratchQuadArray;return s[0]=t,s[1]=e,s[2]=r,s[3]=e,s[4]=r,s[5]=a,s[6]=t,s[7]=a,this._stateList.matrix.transformArray(s,8,s),s},__class__:he};var ce=function(){this.next=null,this.prev=null,this.scissor=null,this.matrix=new at,this.alpha=1,this.blendMode=K.Normal};ce.__name__=!0,ce.prototype={applyScissor:function(t,e,n,i){if(null!=this.scissor){var r=this.scissor.x,a=r>t?r:t,s=(r=this.scissor.y,r>e?r:e),_=(r=this.scissor.x+this.scissor.width,t+n),o=r<_?r:_,u=(r=this.scissor.y+this.scissor.height,_=e+i,r<_?r:_);t=a,e=s,n=o-a,i=u-s}else this.scissor=new st;this.scissor.set(Math.round(t),Math.round(e),Math.round(n),Math.round(i))},__class__:ce};var de=function(t,e){var n=this;this._hasGPU=new b(!0),this.gl=e,e.canvas.addEventListener("webglcontextlost",(function(t){t.preventDefault(),L.logger.warn("WebGL context lost",null),n._hasGPU.set__(!1)}),!1),e.canvas.addEventListener("webglcontextrestore",(function(t){L.logger.warn("WebGL context restored",null),n.init(),n._hasGPU.set__(!0)}),!1),t.resize.connect(an(this,this.onResize)),this.init()};de.__name__=!0,de.__interfaces__=[Ft],de.prototype={get_type:function(){return Ae.WebGL},createTextureFromImage:function(t){if(this.gl.isContextLost())return null;var e=new pe(this,t.width,t.height);return e.uploadImageData(t),e.createTexture(t.width,t.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(t,e){return this.gl.isContextLost()||Ce.fail(),null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},onResize:function(){var t=this.gl.canvas.width,e=this.gl.canvas.height;this.batcher.resizeBackbuffer(t,e),this.graphics.onResize(t,e)},init:function(){this.batcher=new le(this.gl),this.graphics=new he(this.batcher,null),this.onResize()},__class__:de};var me=function(t,e,n){gt.call(this,t,e,n)};me.__name__=!0,me.__super__=gt,me.prototype=_(gt.prototype,{__class__:me});var pe=function(t,e,n){this._graphics=null,this.framebuffer=null,_t.call(this),this._renderer=t;var i=Bt.nextPowerOfTwo(e);this.width=2>i?2:i;i=Bt.nextPowerOfTwo(n);this.height=2>i?2:i;var r=t.gl;this.nativeTexture=r.createTexture(),t.batcher.bindTexture(this.nativeTexture),r.texParameteri(3553,10242,33071),r.texParameteri(3553,10243,33071),r.texParameteri(3553,10240,9729),r.texParameteri(3553,10241,9729)};pe.__name__=!0,pe.__interfaces__=[Ut],pe.drawBorder=function(t,e,n){var i=t.getContext("2d",null);i.drawImage(t,e-1,0,1,n,e,0,1,n),i.drawImage(t,0,n-1,e,1,0,n,e,1)},pe.__super__=_t,pe.prototype=_(_t.prototype,{createTexture:function(t,e){return new me(this,t,e)},uploadImageData:function(t){if(Ce.that(!this._disposed,"Asset cannot be used after being disposed"),this.width!=t.width||this.height!=t.height){var e=ae.createEmptyCanvas(this.width,this.height);e.getContext("2d",null).drawImage(t,0,0),pe.drawBorder(e,t.width,t.height),t=e}this._renderer.batcher.bindTexture(this.nativeTexture);var n=this._renderer.gl;n.texImage2D(3553,0,6408,6408,5121,t)},copyFrom:function(t){this.nativeTexture=t.nativeTexture,this.framebuffer=t.framebuffer,this.width=t.width,this.height=t.height,this._graphics=t._graphics},onDisposed:function(){var t=this._renderer.batcher;t.deleteTexture(this),null!=this.framebuffer&&t.deleteFramebuffer(this),this.nativeTexture=null,this.framebuffer=null,this._graphics=null},__class__:pe});var fe=function(t,e,n){if(n=["#ifdef GL_ES","precision mediump float;","#endif"].join("\n")+"\n"+n,this._gl=t,this._program=t.createProgram(),t.attachShader(this._program,fe.createShader(t,35633,e)),t.attachShader(this._program,fe.createShader(t,35632,n)),t.linkProgram(this._program),t.useProgram(this._program),!t.getProgramParameter(this._program,35714)){var i=["log",t.getProgramInfoLog(this._program)];L.logger.error("Error linking shader program",i)}};fe.__name__=!0,fe.createShader=function(t,e,n){var i=t.createShader(e);if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,35713)){var r=35633==e?"vertex":"fragment",a=["log",t.getShaderInfoLog(i)];L.logger.error("Error compiling "+r+" shader",a)}return i},fe.prototype={useProgram:function(){this._gl.useProgram(this._program)},prepare:function(){Ce.fail("abstract")},getAttribLocation:function(t){var e=this._gl.getAttribLocation(this._program,t);return Ce.that(e>=0,"Missing attribute",["name",t]),e},getUniformLocation:function(t){var e=this._gl.getUniformLocation(this._program,t);return Ce.that(null!=e,"Missing uniform",["name",t]),e},__class__:fe};var ge=function(t){fe.call(this,t,["attribute highp vec2 a_pos;","attribute mediump vec2 a_uv;","attribute lowp float a_alpha;","varying mediump vec2 v_uv;","varying lowp float v_alpha;","void main (void) {","v_uv = a_uv;","v_alpha = a_alpha;","gl_Position = vec4(a_pos, 0, 1);","}"].join("\n"),["varying mediump vec2 v_uv;","varying lowp float v_alpha;","uniform lowp sampler2D u_texture;","uniform mediump vec4 u_region;","void main (void) {","gl_FragColor = texture2D(u_texture, u_region.xy + mod(v_uv, u_region.zw)) * v_alpha;","}"].join("\n")),this.a_pos=this.getAttribLocation("a_pos"),this.a_uv=this.getAttribLocation("a_uv"),this.a_alpha=this.getAttribLocation("a_alpha"),this.u_texture=this.getUniformLocation("u_texture"),this.u_region=this.getUniformLocation("u_region"),this.setTexture(0)};ge.__name__=!0,ge.__super__=fe,ge.prototype=_(fe.prototype,{setTexture:function(t){this._gl.uniform1i(this.u_texture,t)},setRegion:function(t,e,n,i){this._gl.uniform4f(this.u_region,t,e,n,i)},prepare:function(){this._gl.enableVertexAttribArray(this.a_pos),this._gl.enableVertexAttribArray(this.a_uv),this._gl.enableVertexAttribArray(this.a_alpha);var t=Float32Array.BYTES_PER_ELEMENT,e=5*t;this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,e,0*t),this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,e,2*t),this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,e,4*t)},__class__:ge});var ve=function(t){fe.call(this,t,["attribute highp vec2 a_pos;","attribute mediump vec2 a_uv;","attribute lowp float a_alpha;","varying mediump vec2 v_uv;","varying lowp float v_alpha;","void main (void) {","v_uv = a_uv;","v_alpha = a_alpha;","gl_Position = vec4(a_pos, 0, 1);","}"].join("\n"),["varying mediump vec2 v_uv;","varying lowp float v_alpha;","uniform lowp sampler2D u_texture;","void main (void) {","gl_FragColor = texture2D(u_texture, v_uv) * v_alpha;","}"].join("\n")),this.a_pos=this.getAttribLocation("a_pos"),this.a_uv=this.getAttribLocation("a_uv"),this.a_alpha=this.getAttribLocation("a_alpha"),this.u_texture=this.getUniformLocation("u_texture"),this.setTexture(0)};ve.__name__=!0,ve.__super__=fe,ve.prototype=_(fe.prototype,{setTexture:function(t){this._gl.uniform1i(this.u_texture,t)},prepare:function(){this._gl.enableVertexAttribArray(this.a_pos),this._gl.enableVertexAttribArray(this.a_uv),this._gl.enableVertexAttribArray(this.a_alpha);var t=Float32Array.BYTES_PER_ELEMENT,e=5*t;this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,e,0*t),this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,e,2*t),this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,e,4*t)},__class__:ve});var we=function(t){fe.call(this,t,["attribute highp vec2 a_pos;","attribute lowp vec3 a_rgb;","attribute lowp float a_alpha;","varying lowp vec4 v_color;","void main (void) {","v_color = vec4(a_rgb*a_alpha, a_alpha);","gl_Position = vec4(a_pos, 0, 1);","}"].join("\n"),["varying lowp vec4 v_color;","void main (void) {","gl_FragColor = v_color;","}"].join("\n")),this.a_pos=this.getAttribLocation("a_pos"),this.a_rgb=this.getAttribLocation("a_rgb"),this.a_alpha=this.getAttribLocation("a_alpha")};we.__name__=!0,we.__super__=fe,we.prototype=_(fe.prototype,{prepare:function(){this._gl.enableVertexAttribArray(this.a_pos),this._gl.enableVertexAttribArray(this.a_rgb),this._gl.enableVertexAttribArray(this.a_alpha);var t=Float32Array.BYTES_PER_ELEMENT,e=6*t;this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,e,0*t),this._gl.vertexAttribPointer(this.a_rgb,3,5126,!1,e,2*t),this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,e,5*t)},__class__:we});var xe=function(){this._transitor=null,p.call(this),this.scenes=[],this.occludedScenes=[],this._root=new g};xe.__name__=!0,xe.__super__=p,xe.prototype=_(p.prototype,{get_name:function(){return"Director_1"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();var t=0,e=this.scenes;while(t<e.length){var n=e[t];++t,n.dispose()}this.scenes=[],this.occludedScenes=[],this._root.dispose()},onUpdate:function(t){null!=this._transitor&&this._transitor.update(t)&&this.completeTransition()},get_topScene:function(){var t=this.scenes.length;return t>0?this.scenes[t-1]:null},show:function(t){var e=t._compMap["Scene_3"];null!=e&&e.shown.emit()},invalidateVisibility:function(){var t=this.scenes.length;while(t>0){var e=this.scenes[--t],n=e._compMap["Scene_3"];if(null==n||n.opaque)break}this.occludedScenes=this.scenes.length>0?this.scenes.slice(t,this.scenes.length-1):[];e=this.get_topScene();null!=e&&this.show(e)},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},__class__:xe});var be=function(t,e,n,i){this._from=t,this._to=e,this._transition=n,this._onComplete=i};be.__name__=!0,be.prototype={update:function(t){return this._transition.update(t)},complete:function(){this._transition.complete(),this._onComplete()},__class__:be};var ye=function(t){null==t&&(t=!0),p.call(this),this.opaque=t,this.shown=new Le,this.hidden=new Le};ye.__name__=!0,ye.__super__=p,ye.prototype=_(p.prototype,{get_name:function(){return"Scene_3"},__class__:ye});var Se=function(){};Se.__name__=!0,Se.prototype={update:function(t){return!0},complete:function(){},__class__:Se};var Ae=s["flambe.subsystem.RendererType"]={__ename__:!0,__constructs__:null,Stage3D:{_hx_name:"Stage3D",_hx_index:0,__enum__:"flambe.subsystem.RendererType",toString:a},WebGL:{_hx_name:"WebGL",_hx_index:1,__enum__:"flambe.subsystem.RendererType",toString:a},Canvas:{_hx_name:"Canvas",_hx_index:2,__enum__:"flambe.subsystem.RendererType",toString:a}};Ae.__constructs__=[Ae.Stage3D,Ae.WebGL,Ae.Canvas];var Ce=function(){};Ce.__name__=!0,Ce.that=function(t,e,n){t||Ce.fail(e,n)},Ce.fail=function(t,e){var n="Assertion failed!";throw null!=t&&(n="Assertion failed! "+t),null!=e&&(n=ke.withFields(n,e)),Ye.thrown(n)};var Ee=function(){};Ee.__name__=!0,Ee.set=function(t,e,n){return n?t|e:t&~e};var Te=s["flambe.util.LogLevel"]={__ename__:!0,__constructs__:null,Info:{_hx_name:"Info",_hx_index:0,__enum__:"flambe.util.LogLevel",toString:a},Warn:{_hx_name:"Warn",_hx_index:1,__enum__:"flambe.util.LogLevel",toString:a},Error:{_hx_name:"Error",_hx_index:2,__enum__:"flambe.util.LogLevel",toString:a}};Te.__constructs__=[Te.Info,Te.Warn,Te.Error];var Me=function(){this.success=new C,this.error=new C,this.progressChanged=new Le,this.hasResult=!1,this._progress=0,this._total=0};Me.__name__=!0,Me.prototype={set_result:function(t){if(this.hasResult)throw Ye.thrown("Promise result already assigned");return this._result=t,this.hasResult=!0,this.success.emit(t),t},get:function(t){return this.hasResult?(t(this._result),null):this.success.connect(t).once()},set_progress:function(t){return this._progress!=t&&(this._progress=t,this.progressChanged.emit()),t},set_total:function(t){return this._total!=t&&(this._total=t,this.progressChanged.emit()),t},__class__:Me};var Le=function(t){S.call(this,t)};Le.__name__=!0,Le.__super__=S,Le.prototype=_(S.prototype,{connect:function(t,e){return null==e&&(e=!1),this.connectImpl(t,e)},emit:function(){var t=this;this._head==S.DISPATCHING_SENTINEL?this.defer((function(){t.emitImpl()})):this.emitImpl()},emitImpl:function(){var t=this.willEmit(),e=t;while(null!=e)e._listener(),e.stayInList||e.dispose(),e=e._next;this.didEmit(t)},__class__:Le});var Pe=function(t){this.next=null,this.fn=t};Pe.__name__=!0,Pe.prototype={__class__:Pe};var ke=function(){};ke.__name__=!0,ke.getFileExtension=function(t){var e=t.lastIndexOf(".");return e>0?u.substr(t,e+1,null):null},ke.removeFileExtension=function(t){var e=t.lastIndexOf(".");return e>0?u.substr(t,0,e):t},ke.getUrlExtension=function(t){var e=t.lastIndexOf("?");e>=0&&(t=u.substr(t,0,e));var n=t.lastIndexOf("/");return n>=0&&(t=u.substr(t,n+1,null)),ke.getFileExtension(t)},ke.joinPath=function(t,e){return t.length>0&&47!=t.charCodeAt(t.length-1)&&(t+="/"),t+e},ke.withFields=function(t,e){var n=e.length;if(n>0){t+=t.length>0?" [":"[";var i=0;while(i<n){i>0&&(t+=", ");var r=e[i],a=e[i+1];if(tn.__instanceof(a,Error)){var s=a.stack;null!=s&&(a=s)}t+=r+"="+c.string(a),i+=2}t+="]"}return t};var Ie=function(t){p.call(this),this.init(t)};Ie.__name__=!0,Ie.__super__=p,Ie.prototype=_(p.prototype,{get_name:function(){return"Background_18"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(t){this._root=new g,this._root.add(new W(t.getTexture("mainBack")));var e=t.getTexture("title");this._title=(new g).add(new W(e).centerAnchor().setXY(390+e.get_width()/2,179+e.get_height()/2)),this._title._compMap["Sprite_0"].rotation.set_behavior(new I(-3,3,5)),this._flamingo=new W(t.getTexture("flamingo")).setXY(1131,594),this._flamingo.x.set_behavior(new I(1101,1161,5)),this._flamingo.rotation.set_behavior(new I(-5,5,10));var n=new W(t.getTexture("cloud")).setXY(0,54),i=new W(t.getTexture("cloud")).setXY(1039,168),r=new W(t.getTexture("cloud")).setXY(1340,51);n.x.set_behavior(new I(-30,30,5)),n.y.set_behavior(new I(39,69,10)),i.x.set_behavior(new I(1009,1069,5)),i.y.set_behavior(new I(153,183,10)),r.x.set_behavior(new I(1310,1370,5)),r.y.set_behavior(new I(36,66,10)),this._root.addChild((new g).add(n)).addChild((new g).add(i)).addChild((new g).add(r)).add(new Ne(t)).addChild(this._title).addChild((new g).add(this._flamingo))},__class__:Ie});var Ne=function(t){p.call(this),this.init(t)};Ne.__name__=!0,Ne.__super__=p,Ne.prototype=_(p.prototype,{get_name:function(){return"BackgroundSun_17"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},onUpdate:function(t){var e=this._stripes.rotation;e.set__(e._value+20*t)},init:function(t){this._root=new g,this._root.add((new G).setXY(300,90)),this._root._compMap["Sprite_0"].anchorX.set_behavior(new I(-20,20,5)),this._root._compMap["Sprite_0"].anchorY.set_behavior(new I(20,0,2.5)),this._root.addChild((new g).add(this._stripes=new W(t.getTexture("sun/sunStripes")).centerAnchor())).addChild((new g).add(this._sun=new W(t.getTexture("sun/sun")).centerAnchor())).addChild((new g).add(new W(t.getTexture("sun/ear")).setXY(-125,-35))).addChild((new g).add(new Re(t,-14,-50))).addChild((new g).add(new Re(t,72,-50))).add(new Fe(t))},__class__:Ne});var Fe=function(t){p.call(this),this.init(t)};Fe.__name__=!0,Fe.__super__=p,Fe.prototype=_(p.prototype,{get_name:function(){return"BackgroundSunSmile_16"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(t){this._root=new g,this._root.addChild((new g).add(new W(t.getTexture("sun/mouthSmile")).setXY(10,55)))},__class__:Fe});var Re=function(t,e,n){p.call(this),this.init(t,e,n)};Re.__name__=!0,Re.__super__=p,Re.prototype=_(p.prototype,{get_name:function(){return"BackgroundSunEye_15"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(t,e,n){this._root=(new g).add((new G).setXY(e,n));var i=t.getTexture("sun/eye");this._root.addChild((new g).add(new X(16047817,i.get_width()-4,i.get_height()-4).setXY(2,2))),this._root.addChild((new g).add(this._pupil=new W(t.getTexture("sun/eyePupil")).setXY(38,70).centerAnchor())),this._root.addChild((new g).add(new W(i))),this._root.addChild((new g).add(this._brow=new W(t.getTexture("sun/eyebrow")).setXY(24,-12).centerAnchor()))},__class__:Re});var De=function(){};De.__name__=!0,De.addStates=function(t,e,n){null==n&&(n=new f);var i=!1;return n.add(t.get_pointerIn().connect((function(e){t.setScale(1.05)}))),n.add(t.get_pointerOut().connect((function(e){t.setScale(1),i=!1}))),n.add(t.get_pointerDown().connect((function(e){t.setScale(.95),i=!0}))),T.assertCalledInit(),n.add(T._platform.getPointer().up.connect((function(n){t.setScale(1),i&&(i=!1,e())}))),n};var Be=function(t,e){G.call(this),this._width=t,this._height=e,this.scissor=new st(0,0,this._width,this._height)};Be.__name__=!0,Be.getSize=n["game"]["Container"]["getSize"]=function(t,e,n,i){var r=e/t,a=i/n,s=0,_=0;return a<r?(_=i,s=i/r):(s=n,_=n*r),Be._scratch.scale=s/t,Be._scratch.x=(n-s)/2,Be._scratch.y=(i-_)/2,Be._scratch},Be.__super__=G,Be.prototype=_(G.prototype,{getNaturalWidth:function(){return this._width},getNaturalHeight:function(){return this._height},draw:function(t){t.fillRect(13421772,0,0,this._width,this._height)},setSize:function(t,e){var n=Be.getSize(this._width,this._height,t,e);return this.setScale(n.scale),this.setXY(n.x,n.y),this},__class__:Be});var Oe=function(t,e,n){this._rotation=new E(0),this._anchorY=new E(0),this._anchorX=new E(0),p.call(this),this.init(t,e,n)};Oe.__name__=!0,Oe.__super__=p,Oe.prototype=_(p.prototype,{get_name:function(){return"Game_7"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root),this._disposer.dispose()},onUpdate:function(t){},init:function(t,e,n){this._anchorX.set_behavior(new I(-40,40,2)),this._anchorY.set_behavior(new I(-10,20,3)),this._rotation.set_behavior(new I(-5,5,4)),this._disposer=new f,this._root=new g,this._meterTime=(new g).add(new We(20,40)),this._meterDrink=(new g).add(new We(e-120,40).setFill(.25)),this._root.add(new Ie(t)).add(new Xe(t)).add(this._barTable=new He(t,n))},__class__:Oe});var Ke=function(t,e,n){p.call(this),this.init(t,e,n)};Ke.__name__=!0,Ke.__super__=p,Ke.prototype=_(p.prototype,{get_name:function(){return"Loader_5"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root),this._disposer.dispose()},init:function(t,e,n){this._disposer=new f,this._root=new g,this._root.add(new W(t.getTexture("loadingBack"))).add(new Ue(t,e,n))},__class__:Ke});var Ue=function(t,e,n){p.call(this),this.init(t,e,n)};Ue.__name__=!0,Ue.__super__=p,Ue.prototype=_(p.prototype,{get_name:function(){return"LoaderBall_4"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(t,e,n){this._root=new g;var i=(new G).setXY(898,786);this._root.add(i);var r=new W(t.getTexture("ballLineWater")),a=new W(t.getTexture("ball")).centerAnchor().setXY(75,-250);this._root.addChild((new g).add(a)),this._root.addChild((new g).add(r)),a.rotation.set_behavior(new I(-10,10,4)),i.x.set_behavior(new I(848,948,4)),i.y.set_behavior(new I(786,796,2))},__class__:Ue});var Ge=function(){};Ge.__name__=!0,Ge.main=function(){T.init()},Ge.start=n["game"]["Main"]["start"]=function(t,e){var n=new Be(t,e);n.set_visible(!1),T.root.add(n),T.assertCalledInit(),T._platform.getStage().resize.connect((function(){var t=n;T.assertCalledInit();var e=T._platform.getStage().get_width();T.assertCalledInit(),t.setSize(e,T._platform.getStage().get_height())})),T.assertCalledInit(),T._platform.getStage().resize.emit();var i=O.fromAssets("bootstrap");T.assertCalledInit();var r=t,a=e,s=function(t){Ge.onDev(r,a,t)};T._platform.loadAssetPack(i).success.connect(s).once()},Ge.onDev=function(t,e,n){var i=new Ke(n,t,e);T.root.add(i);var r=T.root._compMap["Sprite_0"];(r instanceof Be?r:null).set_visible(!0);var a=O.fromAssets("main");T.assertCalledInit(),T._platform.loadAssetPack(a).success.connect((function(n){i.dispose(),Ge.onGameLoaded(t,e,n)})).once()},Ge.onGameLoaded=function(t,e,n){T.root.add(new Oe(n,t,e))};var Xe=function(t){p.call(this),this.init(t)};Xe.__name__=!0,Xe.__super__=p,Xe.prototype=_(p.prototype,{get_name:function(){return"PlayButton_19"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root),this._disposer.dispose()},init:function(t){this._root=new g,this._disposer=new f;var e=new W(t.getTexture("playButton")).centerAnchor().setXY(960,800);this._root.add(e),De.addStates(e,(function(){console.log("game/PlayButton.hx:32:","click")}),this._disposer)},__class__:Xe});var He=function(t,e){p.call(this),this.init(t,e)};He.__name__=!0,He.__super__=p,He.prototype=_(p.prototype,{get_name:function(){return"BarTable_11"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},addItem:function(t){var e=this._slots[t];e._compMap["Sprite_0"].set_visible(!0)},init:function(t,e){this._root=new g;var n=t.getTexture("table");this._root.addChild((new g).add(new W(n).setXY(-3,e-n.get_height()))),this._slots=[];var i=[{x:406,y:885},{x:573,y:913},{x:810,y:895},{x:1200,y:927},{x:1516,y:907}],r=t.getTexture("beerStar"),a=0,s=i.length;while(a<s){var _=a++,o=i[_],u=r.get_width()/2,l=r.get_height()-10,h=(new g).add((new G).setAnchor(u,l).setXY(o.x,o.y+l/2));h.addChild((new g).add(new W(r))),h._compMap["Sprite_0"].set_visible(!1),this._slots.push(h),this._root.addChild(h)}this.addItem(0),this.addItem(1),this.addItem(4)},__class__:He});var We=function(t,e){p.call(this),this.init(t,e)};We.__name__=!0,We.__super__=p,We.prototype=_(p.prototype,{get_name:function(){return"Meter_12"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},setFill:function(t){var e=rt.clamp(t,0,1);return this._fill.height.set__(We.HEIGHT_MAX*e),this._fill.y.set__(We.HEIGHT_MAX-this._fill.height._value+3),this},init:function(t,e){this._root=(new g).add((new G).setXY(t,e));var n=(new g).add(new X(1118481,100,700)),i=(new g).add(this._fill=new X(16755438,94,We.HEIGHT_MAX).setXY(3,3));this._root.addChild(n).addChild(i)},__class__:We});var je=function(){};je.__name__=!0,je.__isInterface__=!0;var Ye=function(t,e,n){Error.call(this,t),this.message=t,this.__previousException=e,this.__nativeException=null!=n?n:this};Ye.__name__=!0,Ye.caught=function(t){return t instanceof Ye?t:t instanceof Error?new Ye(t.message,null,t):new Ve(t,null,t)},Ye.thrown=function(t){if(t instanceof Ye)return t.get_native();if(t instanceof Error)return t;var e=new Ve(t);return e},Ye.__super__=Error,Ye.prototype=_(Error.prototype,{unwrap:function(){return this.__nativeException},get_native:function(){return this.__nativeException},__class__:Ye});var Ve=function(t,e,n){Ye.call(this,String(t),e,n),this.value=t};Ve.__name__=!0,Ve.__super__=Ye,Ve.prototype=_(Ye.prototype,{unwrap:function(){return this.value},__class__:Ve});var ze=function(){this.h={}};ze.__name__=!0,ze.__interfaces__=[je],ze.prototype={remove:function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},__class__:ze};var Qe=function(){this.h=Object.create(null)};Qe.__name__=!0,Qe.__interfaces__=[je],Qe.prototype={iterator:function(){return new qe(this.h)},__class__:Qe};var qe=function(t){this.h=t,this.keys=Object.keys(t),this.length=this.keys.length,this.current=0};qe.__name__=!0,qe.prototype={hasNext:function(){return this.current<this.length},next:function(){return this.h[this.keys[this.current++]]},__class__:qe};var Je=function(){};Je.__name__=!0;var Ze=function(t){this.current=0,this.array=t};Ze.__name__=!0,Ze.prototype={hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:Ze};var $e=function(){};$e.__name__=!0,$e.getType=function(t){var e=$e.getMeta(t);return null==e||null==e.obj?{}:e.obj},$e.getMeta=function(t){return t.__meta__};var tn=function(){};tn.__name__=!0,tn.getClass=function(t){if(null==t)return null;if(t instanceof Array)return Array;var e=t.__class__;if(null!=e)return e;var n=tn.__nativeClassName(t);return null!=n?tn.__resolveNativeClass(n):null},tn.__string_rec=function(t,e){if(null==t)return"null";if(e.length>=5)return"<...>";var n=typeof t;switch("function"==n&&(t.__name__||t.__ename__)&&(n="object"),n){case"function":return"<function>";case"object":if(t.__enum__){var i=s[t.__enum__],r=i.__constructs__[t._hx_index],a=r._hx_name;return r.__params__?(e+="\t",a+"("+function(n){var i,a=[],s=0,_=r.__params__;while(1){if(!(s<_.length))break;var o=_[s];s+=1,a.push(tn.__string_rec(t[o],e))}return i=a,i}().join(",")+")"):a}if(t instanceof Array){var _="[";e+="\t";var o=0,u=t.length;while(o<u){var l=o++;_+=(l>0?",":"")+tn.__string_rec(t[l],e)}return _+="]",_}var h;try{h=t.toString}catch(o){return"???"}if(null!=h&&h!=Object.toString&&"function"==typeof h){var c=t.toString();if("[object Object]"!=c)return c}_="{\n";e+="\t";var d=null!=t.hasOwnProperty,m=null;for(m in t)d&&!t.hasOwnProperty(m)||"prototype"!=m&&"__class__"!=m&&"__super__"!=m&&"__interfaces__"!=m&&"__properties__"!=m&&(2!=_.length&&(_+=", \n"),_+=e+m+" : "+tn.__string_rec(t[m],e));return e=e.substring(1),_+="\n"+e+"}",_;case"string":return t;default:return String(t)}},tn.__interfLoop=function(t,e){while(1){if(null==t)return!1;if(t==e)return!0;var n=t.__interfaces__;if(null!=n){var i=0,r=n.length;while(i<r){var a=i++,s=n[a];if(s==e||tn.__interfLoop(s,e))return!0}}t=t.__super__}},tn.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Array:return t instanceof Array;case un:return"boolean"==typeof t;case _n:return null!=t;case on:return"number"==typeof t;case sn:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof e){if(tn.__downcastCheck(t,e))return!0}else if("object"==typeof e&&tn.__isNativeObj(e)&&t instanceof e)return!0;return e==ln&&null!=t.__name__||(e==hn&&null!=t.__ename__||null!=t.__enum__&&s[t.__enum__]==e)}},tn.__downcastCheck=function(t,e){return t instanceof e||!!e.__isInterface__&&tn.__interfLoop(tn.getClass(t),e)},tn.__nativeClassName=function(t){var e=tn.__toStr.call(t).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},tn.__isNativeObj=function(t){return null!=tn.__nativeClassName(t)},tn.__resolveNativeClass=function(t){return i[t]};var en=function(){};en.__name__=!0,en.getLocalStorage=function(){try{var t=window.localStorage;if(t.getItem(""),0==t.length){var e="_hx_"+Math.random();t.setItem(e,e),t.removeItem(e)}return t}catch(n){return null}};var nn=function(){};function rn(t){return t instanceof Array?new Ze(t):t.iterator()}function an(t,e){return null==e?null:(null==e.__id__&&(e.__id__=i.$haxeUID++),null==t.hx__closures__?t.hx__closures__={}:n=t.hx__closures__[e.__id__],null==n&&(n=e.bind(t),t.hx__closures__[e.__id__]=n),n);var n}nn.__name__=!0,nn.getContextWebGL=function(t,e){var n=t.getContext("webgl",e);if(null!=n)return n;n=t.getContext("experimental-webgl",e);return null!=n?n:null},i.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(u.now=performance.now.bind(performance)),null==String.fromCodePoint&&(String.fromCodePoint=function(t){return t<65536?String.fromCharCode(t):String.fromCharCode(55232+(t>>10))+String.fromCharCode(56320+(1023&t))}),String.prototype.__class__=String,String.__name__=!0,Array.__name__=!0,Date.prototype.__class__=Date,Date.__name__="Date";var sn={},_n={},on=Number,un=Boolean,ln={},hn={};tn.__toStr={}.toString,x.instance=new x,S.DISPATCHING_SENTINEL=new y(null,null),T.root=new g,T.uncaughtError=new C,T.hidden=new b(!1),T.volume=new E(1),T._platform=x.instance,T._calledInit=!1,L.logger=new M(T._platform.createLogHandler("flambe")),O.__meta__={obj:{assets:[{main:[{name:"sun/sunStripes.png",md5:"2376226fe50a1fbf1450efe3deb713eb",bytes:14829},{name:"sun/mouthSmile.png",md5:"8a10b0cd842ed62fd3c755ec7d276bd1",bytes:1703},{name:"sun/eyebrow.png",md5:"e43b0bda8b52d0f73d27115ddaabbbac",bytes:469},{name:"sun/eyePupil.png",md5:"4dbeaf65cb862045f5ea8680ae5bb1ed",bytes:721},{name:"sun/ear.png",md5:"676aea963c0243b9e80a5a0e1fd20175",bytes:2430},{name:"sun/eye.png",md5:"722cb9af440c6a56896feee178edf3ab",bytes:1671},{name:"sun/sun.png",md5:"e4383a12b4058cc87a533b5b6edd1286",bytes:9654},{name:"sun/mouthOpen.png",md5:"d12e4144cf38ceeade58f71957339f60",bytes:775},{name:"beerStar.png",md5:"ceef9b8a475b27e2a3b335c200ce0b29",bytes:4346},{name:"title.png",md5:"070c12f83ea9fbad95327c9aece99404",bytes:63211},{name:"flamingo.png",md5:"2215f45f1f4f8954e195585438cc5878",bytes:12184},{name:"beerTriangle.png",md5:"b1676d257e6cb0ae7976fe3352982da5",bytes:4164},{name:"cloud.png",md5:"0610986236c0e18abf4773458c535d6e",bytes:2009},{name:"mainBack.png",md5:"fbd6bd9c5b9f149f2bfe9eb1d1f6340e",bytes:34518},{name:"beerCircle.png",md5:"7ddd7543b0232f56ccf6ad13a3d6ce16",bytes:4229},{name:"table.png",md5:"6c73b3a15bd70669fb4bc10d01c63740",bytes:15485},{name:"playButton.png",md5:"687c8dd6c4745aa7ae865a3c410871a9",bytes:3665}],bootstrap:[{name:"ball.png",md5:"cfbdbcf4cb3e3c4526b0746b49f2d805",bytes:26236},{name:"silence.mp3",md5:"607808d15b383bdf65355454bf314632",bytes:8950},{name:"ballLineWater.png",md5:"3aba2ce74b7d98656e300cbf6fe297ec",bytes:852},{name:"loadingBack.png",md5:"35effb32203feba71403df4a79c89468",bytes:71726},{name:"play.png",md5:"0bae891f519e596a553e1dc9fec9140f",bytes:3805}],".DS_Store":[]}]}},O._supportsCrossOrigin=function(t){var e,n;if(i.navigator.userAgent.indexOf("Linux; U; Android")>=0)n=!1;else{var r=new XMLHttpRequest;n=null!=r.withCredentials}return n||L.logger.warn("This browser does not support cross-domain asset loading, any Manifest.remoteBase setting will be ignored.",null),e=n,e}(),G._scratchPoint=new U,ct._sharedEvent=new J,mt._sharedEvent=new tt,ft._sharedEvent=new nt,Ht.CANVAS_TEXTURES=function(t){var e,n=new o("(iPhone|iPod|iPad)","");return e=n.match(window.navigator.userAgent),e}(),Yt._mediaRefCount=0,Yt._detectBlobSupport=!0,ae.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"],ae.SHOULD_HIDE_MOBILE_BROWSER=window.top==window&&new o("Mobile(/.*)? Safari","").match(i.navigator.userAgent),ue._detectSupport=!0,he._scratchMatrix=new at,Be._scratch={x:0,y:0,scale:1},We.HEIGHT_MAX=694,Ge.main()}).call(this,n("c8ba"))},"56d7":function(t,e,n){"use strict";n.r(e);var i=n("2b0e"),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[t.ui?e(t.ui.def,t._b({tag:"component",staticClass:"ui",style:{width:t.gameWidth+"px"}},"component",t.uiprops,!1)):t._e(),e("canvas",{ref:"canvas"})],1)},a=[],s={name:"App",data(){return{gameWidth:1920,gameHeight:1080,stack:[]}},computed:{ui(){const t=this.stack.length-1;return this.stack[t]},uiprops(){return{...this.ui.props}}},mounted(){window.flambe={canvas:this.$refs.canvas};const t=n("5085");this.stack=t.flambe.System.get_web().stack;const e=t.game.Container.getSize;window.addEventListener("resize",this.layoutScale.bind(this,e)),this.layoutScale(e),t.game.Main.start(this.gameWidth,this.gameHeight)},methods:{layoutScale(t){var e=t(this.gameWidth,this.gameHeight,window.innerWidth,window.innerHeight);document.documentElement.style.setProperty("--layout-scale",e.scale),document.documentElement.style.setProperty("--layout-x",e.x+"px"),document.documentElement.style.setProperty("--layout-y",e.y+"px")}}},_=s,o=(n("6938"),n("2877")),u=Object(o["a"])(_,r,a,!1,null,null,null),l=u.exports;i["a"].config.productionTip=!1,new i["a"]({render:t=>t(l)}).$mount("#app")},6938:function(t,e,n){"use strict";n("c960")},c960:function(t,e,n){}});
//# sourceMappingURL=app.eaa3a502.js.map