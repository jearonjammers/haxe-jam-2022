(function(t){function e(e){for(var i,s,_=e[0],o=e[1],u=e[2],l=0,c=[];l<_.length;l++)s=_[l],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&c.push(r[s][0]),r[s]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);h&&h(e);while(c.length)c.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,_=1;_<n.length;_++){var o=n[_];0!==r[o]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={app:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/haxe-jam-2022/";var _=window["webpackJsonp"]=window["webpackJsonp"]||[],o=_.push.bind(_);_.push=e,_=_.slice();for(var u=0;u<_.length;u++)e(_[u]);var h=o;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},5085:function(t,e,n){"use strict";(function(e){var i=t.exports,r=e;r.$hx_scope=r.$hx_scope||{};i["flambe"]=i["flambe"]||{},i["game"]=i["game"]||{},i["game"]["Container"]=i["game"]["Container"]||{},i["game"]["Main"]=i["game"]["Main"]||{};var a,s=function(){return Cn.__string_rec(this,"")},_=_||{};function o(t,e){var n=Object.create(t);for(var i in e)n[i]=e[i];return e.toString!==Object.prototype.toString&&(n.toString=e.toString),n}var u=function(t,e){this.r=new RegExp(t,e.split("u").join(""))};u.__name__=!0,u.prototype={match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},__class__:u};var h=function(){};h.__name__=!0,h.substr=function(t,e,n){if(null==n)n=t.length;else if(n<0){if(0!=e)return"";n=t.length+n}return t.substr(e,n)},h.remove=function(t,e){var n=t.indexOf(e);return-1!=n&&(t.splice(n,1),!0)},h.now=function(){return Date.now()};var l=function(){};l.__name__=!0,l.array=function(t){var e=[],n=Tn(t);while(n.hasNext()){var i=n.next();e.push(i)}return e},l.count=function(t,e){var n=0;if(null==e){var i=Tn(t);while(i.hasNext())i.next(),++n}else{var r=Tn(t);while(r.hasNext()){var a=r.next();e(a)&&++n}}return n},Math.__name__=!0;var c=function(){};c.__name__=!0,c.field=function(t,e){try{return t[e]}catch(n){return null}};var d=function(){};d.__name__=!0,d.string=function(t){return Cn.__string_rec(t,"")};var p=function(){};p.__name__=!0,p.startsWith=function(t,e){return t.length>=e.length&&0==t.lastIndexOf(e,0)},p.replace=function(t,e,n){return t.split(e).join(n)};var m=function(){};m.__name__=!0,m.__isInterface__=!0,m.prototype={__class__:m};var f=function(){this._flags=0,this.next=null,this.owner=null};f.__name__=!0,f.__interfaces__=[m],f.prototype={onAdded:function(){},onRemoved:function(){},onStart:function(){},onStop:function(){},onUpdate:function(t){},dispose:function(){null!=this.owner&&this.owner.remove(this)},get_name:function(){return null},__class__:f};var g=function(){f.call(this),this._disposables=[]};g.__name__=!0,g.__super__=f,g.prototype=o(f.prototype,{get_name:function(){return"Disposer_6"},add:function(t){return this._disposables.push(t),this},onRemoved:function(){this.freeDisposables()},dispose:function(){f.prototype.dispose.call(this),this.freeDisposables()},freeDisposables:function(){var t=this._disposables;this._disposables=[];var e=0;while(e<t.length){var n=t[e];++e,n.dispose()}},__class__:g});var v=function(){this.firstComponent=null,this.next=null,this.firstChild=null,this.parent=null,this._compMap={}};v.__name__=!0,v.__interfaces__=[m],v.prototype={add:function(t){null!=t.owner&&t.owner.remove(t);var e=t.get_name(),n=this._compMap[e];null!=n&&this.remove(n),this._compMap[e]=t;var i=null,r=this.firstComponent;while(null!=r)i=r,r=r.next;return null!=i?i.next=t:this.firstComponent=t,t.owner=this,t.next=null,t.onAdded(),this},remove:function(t){var e=null,n=this.firstComponent;while(null!=n){var i=n.next;if(n==t)return null==e?this.firstComponent=i:(e.owner=this,e.next=i),delete this._compMap[n.get_name()],0!=(1&n._flags)&&(n.onStop(),n._flags&=-2),n.onRemoved(),n.owner=null,n.next=null,!0;e=n,n=i}return!1},addChild:function(t,e){if(null==e&&(e=!0),null!=t.parent&&t.parent.removeChild(t),t.parent=this,e){var n=null,i=this.firstChild;while(null!=i)n=i,i=i.next;null!=n?n.next=t:this.firstChild=t}else t.next=this.firstChild,this.firstChild=t;return this},removeChild:function(t){var e=null,n=this.firstChild;while(null!=n){var i=n.next;if(n==t)return null==e?this.firstChild=i:e.next=i,n.parent=null,void(n.next=null);e=n,n=i}},disposeChildren:function(){while(null!=this.firstChild)this.firstChild.dispose()},dispose:function(){null!=this.parent&&this.parent.removeChild(this);while(null!=this.firstComponent)this.firstComponent.dispose();this.disposeChildren()},toString:function(){return this.toStringImpl("")},toStringImpl:function(t){var e="",n=this.firstComponent;while(null!=n)e+=n.get_name(),null!=n.next&&(e+=", "),n=n.next;e+="\n";var i=String.fromCodePoint(9492),r=String.fromCodePoint(9500),a=String.fromCodePoint(9472),s=String.fromCodePoint(9474);n=this.firstChild;while(null!=n){var _=null==n.next;e+=t+(_?i:r)+a+a+" ",e+=n.toStringImpl(t+(_?" ":s)+"   "),n=n.next}return e},__class__:v};var w=function(){};w.__name__=!0;var x=function(){};x.__name__=!0,x.__isInterface__=!0,x.prototype={__class__:x};var b=function(){};b.__name__=!0,b.__interfaces__=[x],b.prototype={init:function(){var t=this;ue.fixAndroidMath();var e=null;try{e=window.flambe.canvas}catch(w){}Ue.that(null!=e,"Could not find a Flambe canvas! Are you embedding with flambe.js?"),e.setAttribute("tabindex","0"),e.style.outlineStyle="none",e.style.webkitTapHighlightColor="transparent",this._stage=new _e(e),this._pointer=new wt,this._mouse=new ie(this._pointer,e),this._renderer=this.createRenderer(e),this.mainLoop=new Kt,this.musicPlaying=!1,this._canvas=e,this._container=e.parentElement,this._container.style.overflow="hidden",this._container.style.position="relative",this._container.style.msTouchAction="none";var n=0,i=function(i){if(!(i.timeStamp-n<1e3)){var r=e.getBoundingClientRect(),a=t.getX(i,r),s=t.getY(i,r);switch(i.type){case"mousedown":i.target==e&&(i.preventDefault(),t._mouse.submitDown(a,s,i.button),e.focus());break;case"mousemove":t._mouse.submitMove(a,s);break;case"mouseup":t._mouse.submitUp(a,s,i.button);break;case"DOMMouseScroll":case"mousewheel":var _="mousewheel"==i.type?i.wheelDelta/40:-i.detail;t._mouse.submitScroll(a,s,_)&&i.preventDefault();break}}};window.addEventListener("mousedown",i,!1),window.addEventListener("mousemove",i,!1),window.addEventListener("mouseup",i,!1),e.addEventListener("mousewheel",i,!1),e.addEventListener("DOMMouseScroll",i,!1),e.addEventListener("contextmenu",(function(t){t.preventDefault()}),!1);var a="undefined"!=typeof window.ontouchstart,s="msMaxTouchPoints"in window.navigator&&window.navigator.msMaxTouchPoints>1;if(a||s){var _=new yt(this._pointer,a?4:r.navigator.msMaxTouchPoints);this._touch=_;var o=function(e){var i=a?e.changedTouches:[e],r=e.target.getBoundingClientRect();switch(n=e.timeStamp,e.type){case"MSPointerMove":case"pointermove":case"touchmove":e.preventDefault();var s=0;while(s<i.length){var o=i[s];++s;var u=t.getX(o,r),h=t.getY(o,r),l=0|(a?o.identifier:o.pointerId);_.submitMove(l,u,h)}break;case"MSPointerUp":case"pointerup":case"touchcancel":case"touchend":s=0;while(s<i.length){o=i[s];++s;u=t.getX(o,r),h=t.getY(o,r),l=0|(a?o.identifier:o.pointerId);_.submitUp(l,u,h)}break;case"MSPointerDown":case"pointerdown":case"touchstart":e.preventDefault(),ue.SHOULD_HIDE_MOBILE_BROWSER&&ue.hideMobileBrowser();s=0;while(s<i.length){o=i[s];++s;u=t.getX(o,r),h=t.getY(o,r),l=0|(a?o.identifier:o.pointerId);_.submitDown(l,u,h)}break}};a?(e.addEventListener("touchstart",o,!1),e.addEventListener("touchmove",o,!1),e.addEventListener("touchend",o,!1),e.addEventListener("touchcancel",o,!1)):(e.addEventListener("MSPointerDown",o,!1),e.addEventListener("MSPointerMove",o,!1),e.addEventListener("MSPointerUp",o,!1))}else this._touch=new Pt;var u=window.onerror;window.onerror=function(t,e,n){return T.uncaughtError.emit(t),null!=u&&u(t,e,n)};var h=ue.loadExtension("hidden",window.document);if(null!=h.value){var l=function(t){T.hidden.set__(c.field(window.document,h.field))};l(null),window.document.addEventListener(h.prefix+"visibilitychange",l,!1)}else{var d=function(t){T.hidden.set__("pagehide"==t.type)};window.addEventListener("pageshow",d,!1),window.addEventListener("pagehide",d,!1)}T.hidden.get_changed().connect((function(e,n){e||(t._skipFrame=!0)})),this._skipFrame=!1,this._lastUpdate=Date.now();var p=ue.loadExtension("requestAnimationFrame").value;if(null!=p){var m=window.performance,f=null!=m&&ue.polyfill("now",m);f?this._lastUpdate=m.now():L.logger.warn("No monotonic timer support, falling back to the system date",null);var g=null;g=function(n){t.update(f?m.now():n),p(g,e)},p(g,e)}else L.logger.warn("No requestAnimationFrame support, falling back to setInterval",null),window.setInterval((function(){t.update(Date.now())}),16);new At(this),this._catapult=Qt.canUse()?new Qt:null;var v=["renderer",this._renderer.get_type()];L.logger.info("Initialized HTML platform",v)},loadAssetPack:function(t){return new qt(this,t).promise},getStage:function(){return this._stage},getStorage:function(){if(null==this._storage){var t=Mn.getLocalStorage();null!=t?this._storage=new oe(t):(L.logger.warn("localStorage is unavailable, falling back to unpersisted storage",null),this._storage=new Lt)}return this._storage},getLocale:function(){var t=r.navigator.language;return null==t&&(t=r.navigator.userLanguage),t},createLogHandler:function(t){return te.isSupported()?new te(t):null},getTime:function(){return Date.now()/1e3},getCatapultClient:function(){return this._catapult},update:function(t){var e=(t-this._lastUpdate)/1e3;this._lastUpdate=t,T.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(e),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getMouse:function(){return this._mouse},getTouch:function(){return this._touch},getKeyboard:function(){var t=this;if(null==this._keyboard){this._keyboard=new mt;var e=function(e){switch(e.type){case"keydown":t._keyboard.submitDown(e.keyCode)&&e.preventDefault();break;case"keyup":t._keyboard.submitUp(e.keyCode);break}};this._canvas.addEventListener("keydown",e,!1),this._canvas.addEventListener("keyup",e,!1)}return this._keyboard},getWeb:function(){return null==this._web&&(this._web=new le),this._web},getExternal:function(){return null==this._external&&(this._external=new Zt),this._external},getMotion:function(){return null==this._motion&&(this._motion=new ne),this._motion},getRenderer:function(){return this._renderer},getX:function(t,e){return(t.clientX-e.left)*this._stage.get_width()/e.width},getY:function(t,e){return(t.clientY-e.top)*this._stage.get_height()/e.height},createRenderer:function(t){try{var e=En.getContextWebGL(t,{depth:!1,failIfMajorPerformanceCaveat:!0});if(null!=e){if(!ue.detectSlowDriver(e))return new we(this._stage,e);L.logger.warn("Detected a slow WebGL driver, falling back to canvas",null)}}catch(n){}return new jt(t)},__class__:b};var y=function(t,e){this._value=t,this._changed=null!=e?new C(e):null};y.__name__=!0,y.prototype={watch:function(t){return t(this._value,this._value),this.get_changed().connect(t)},set__:function(t){var e=this._value;return t!=e&&(this._value=t,null!=this._changed&&this._changed.emit(t,e)),t},get_changed:function(){return null==this._changed&&(this._changed=new C),this._changed},toString:function(){return""+d.string(this._value)},__class__:y};var S=function(t,e){this._next=null,this._signal=t,this._listener=e,this.stayInList=!0};S.__name__=!0,S.__interfaces__=[m],S.prototype={once:function(){return this.stayInList=!1,this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:S};var A=function(t){this._head=null!=t?new S(this,t):null,this._deferredTasks=null};A.__name__=!0,A.prototype={connectImpl:function(t,e){var n=this,i=new S(this,t);return this._head==A.DISPATCHING_SENTINEL?this.defer((function(){n.listAdd(i,e)})):this.listAdd(i,e),i},disconnect:function(t){var e=this;this._head==A.DISPATCHING_SENTINEL?this.defer((function(){e.listRemove(t)})):this.listRemove(t)},defer:function(t){var e=null,n=this._deferredTasks;while(null!=n)e=n,n=n.next;var i=new Ve(t);null!=e?e.next=i:this._deferredTasks=i},willEmit:function(){Ue.that(this._head!=A.DISPATCHING_SENTINEL);var t=this._head;return this._head=A.DISPATCHING_SENTINEL,t},didEmit:function(t){this._head=t;var e=this._deferredTasks;this._deferredTasks=null;while(null!=e)e.fn(),e=e.next},listAdd:function(t,e){if(e)t._next=this._head,this._head=t;else{var n=null,i=this._head;while(null!=i)n=i,i=i._next;null!=n?n._next=t:this._head=t}},listRemove:function(t){var e=null,n=this._head;while(null!=n){if(n==t){var i=n._next;return void(null==e?this._head=i:e._next=i)}e=n,n=n._next}},__class__:A};var C=function(t){A.call(this,t)};C.__name__=!0,C.__super__=A,C.prototype=o(A.prototype,{connect:function(t,e){return null==e&&(e=!1),this.connectImpl(t,e)},emit:function(t,e){var n=this;this._head==A.DISPATCHING_SENTINEL?this.defer((function(){n.emitImpl(t,e)})):this.emitImpl(t,e)},emitImpl:function(t,e){var n=this.willEmit(),i=n;while(null!=i)i._listener(t,e),i.stayInList||i.dispose(),i=i._next;this.didEmit(n)},__class__:C});var M=function(t){A.call(this,t)};M.__name__=!0,M.__super__=A,M.prototype=o(A.prototype,{connect:function(t,e){return null==e&&(e=!1),this.connectImpl(t,e)},emit:function(t){var e=this;this._head==A.DISPATCHING_SENTINEL?this.defer((function(){e.emitImpl(t)})):this.emitImpl(t)},emitImpl:function(t){var e=this.willEmit(),n=e;while(null!=n)n._listener(t),n.stayInList||n.dispose(),n=n._next;this.didEmit(e)},__class__:M});var E=function(t,e){this._behavior=null,y.call(this,t,e)};E.__name__=!0,E.__super__=y,E.prototype=o(y.prototype,{set__:function(t){return this._behavior=null,y.prototype.set__.call(this,t)},update:function(t){null!=this._behavior&&(y.prototype.set__.call(this,this._behavior.update(t)),this._behavior.isComplete()&&(this._behavior=null))},animateTo:function(t,e,n){this.set_behavior(new D(this._value,t,e,n))},set_behavior:function(t){return this._behavior=t,this.update(0),t},__class__:E});var T=i["flambe"]["System"]=function(){};T.__name__=!0,T.init=function(){T._calledInit||(T._platform.init(),T._calledInit=!0)},T.loadAssetPack=function(t){return T.assertCalledInit(),T._platform.loadAssetPack(t)},T.createLogger=function(t){return new k(T._platform.createLogHandler(t))},T.get_time=function(){return T.assertCalledInit(),T._platform.getTime()},T.get_stage=function(){return T.assertCalledInit(),T._platform.getStage()},T.get_storage=function(){return T.assertCalledInit(),T._platform.getStorage()},T.get_pointer=function(){return T.assertCalledInit(),T._platform.getPointer()},T.get_mouse=function(){return T.assertCalledInit(),T._platform.getMouse()},T.get_touch=function(){return T.assertCalledInit(),T._platform.getTouch()},T.get_keyboard=function(){return T.assertCalledInit(),T._platform.getKeyboard()},T.get_web=function(){return T.assertCalledInit(),T._platform.getWeb()},T.get_external=function(){return T.assertCalledInit(),T._platform.getExternal()},T.get_locale=function(){return T.assertCalledInit(),T._platform.getLocale()},T.get_motion=function(){return T.assertCalledInit(),T._platform.getMotion()},T.get_renderer=function(){return T.assertCalledInit(),T._platform.getRenderer()},T.assertCalledInit=function(){Ue.that(T._calledInit,"You must call System.init() first")};var k=function(t){this._handler=t};k.__name__=!0,k.prototype={info:function(t,e){this.log(Ge.Info,t,e)},warn:function(t,e){this.log(Ge.Warn,t,e)},error:function(t,e){this.log(Ge.Error,t,e)},log:function(t,e,n){null!=this._handler&&(null==e&&(e=""),null!=n&&(e=je.withFields(e,n)),this._handler.log(t,e))},__class__:k};var L=function(){};L.__name__=!0,L.__super__=w,L.prototype=o(w.prototype,{__class__:L});var P=function(t){null==t&&(t=1),this._realDt=0,f.call(this),this.scale=new E(t)};P.__name__=!0,P.__super__=f,P.prototype=o(f.prototype,{get_name:function(){return"SpeedAdjuster_2"},onUpdate:function(t){this._realDt>0&&(t=this._realDt,this._realDt=0),this.scale.update(t)},__class__:P});var I=function(){};I.__name__=!0,I.__isInterface__=!0,I.prototype={__class__:I};var N=function(t,e){this._target=t,this._fn=e};N.__name__=!0,N.__interfaces__=[I],N.prototype={update:function(t){var e=this._target._value;return null!=this._fn?this._fn(e):e},isComplete:function(){return!1},__class__:N};var R=function(){};R.__name__=!0,R.linear=function(t){return t},R.cubeIn=function(t){return t*t*t},R.cubeOut=function(t){return 1+--t*t*t},R.bounceOut=function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-.5454545454545454)*(t-.5454545454545454)+.75:t<.9090909090909091?7.5625*(t-.8181818181818182)*(t-.8181818181818182)+.9375:7.5625*(t-.9545454545454546)*(t-.9545454545454546)+.984375};var F=function(t,e,n,i,r){null==r&&(r=0),null==i&&(i=0),null==n&&(n=1),this.start=t,this.end=e,this.cycles=i,this.speed=new E(n),this._count=1.5707963267948966+r*(3.141592653589793/n),this._distance=.5*(t-e),this._center=e+this._distance};F.__name__=!0,F.__interfaces__=[I],F.prototype={update:function(t){return this.speed.update(t),this._count+=t*(3.141592653589793/this.speed._value),this.isComplete()?this._center+3.141592653589793*this._distance:this._center+Math.sin(this._count)*this._distance},isComplete:function(){return this.cycles>0&&(this._count-1.5707963267948966)/3.141592653589793*.5>=this.cycles},__class__:F};var D=function(t,e,n,i){this._from=t,this._to=e,this._duration=n,this.elapsed=0,this._easing=null!=i?i:R.linear};D.__name__=!0,D.__interfaces__=[I],D.prototype={update:function(t){return this.elapsed+=t,this.elapsed>=this._duration?this._to:this._from+(this._to-this._from)*this._easing(this.elapsed/this._duration)},isComplete:function(){return this.elapsed>=this._duration},__class__:D};var B=function(){};B.__name__=!0,B.__isInterface__=!0,B.__interfaces__=[m],B.prototype={__class__:B};var O=_["flambe.asset.AssetFormat"]={__ename__:!0,__constructs__:null,WEBP:{_hx_name:"WEBP",_hx_index:0,__enum__:"flambe.asset.AssetFormat",toString:s},JXR:{_hx_name:"JXR",_hx_index:1,__enum__:"flambe.asset.AssetFormat",toString:s},PNG:{_hx_name:"PNG",_hx_index:2,__enum__:"flambe.asset.AssetFormat",toString:s},JPG:{_hx_name:"JPG",_hx_index:3,__enum__:"flambe.asset.AssetFormat",toString:s},GIF:{_hx_name:"GIF",_hx_index:4,__enum__:"flambe.asset.AssetFormat",toString:s},DDS:{_hx_name:"DDS",_hx_index:5,__enum__:"flambe.asset.AssetFormat",toString:s},PVR:{_hx_name:"PVR",_hx_index:6,__enum__:"flambe.asset.AssetFormat",toString:s},PKM:{_hx_name:"PKM",_hx_index:7,__enum__:"flambe.asset.AssetFormat",toString:s},MP3:{_hx_name:"MP3",_hx_index:8,__enum__:"flambe.asset.AssetFormat",toString:s},M4A:{_hx_name:"M4A",_hx_index:9,__enum__:"flambe.asset.AssetFormat",toString:s},OPUS:{_hx_name:"OPUS",_hx_index:10,__enum__:"flambe.asset.AssetFormat",toString:s},OGG:{_hx_name:"OGG",_hx_index:11,__enum__:"flambe.asset.AssetFormat",toString:s},WAV:{_hx_name:"WAV",_hx_index:12,__enum__:"flambe.asset.AssetFormat",toString:s},Data:{_hx_name:"Data",_hx_index:13,__enum__:"flambe.asset.AssetFormat",toString:s}};O.__constructs__=[O.WEBP,O.JXR,O.PNG,O.JPG,O.GIF,O.DDS,O.PVR,O.PKM,O.MP3,O.M4A,O.OPUS,O.OGG,O.WAV,O.Data];var K=function(t,e,n,i){this.name=t,this.url=e,this.format=n,this.bytes=i};K.__name__=!0,K.prototype={__class__:K};var U=function(){};U.__name__=!0,U.__isInterface__=!0,U.__interfaces__=[m],U.prototype={__class__:U};var X=function(){};X.__name__=!0,X.__isInterface__=!0,X.__interfaces__=[B];var G=function(){this._remoteBase=null,this._localBase=null,this._entries=[]};G.__name__=!0,G.fromAssets=function(t,e){null==e&&(e=!0);var n=c.field(An.getType(G).assets[0],t);if(null==n){if(e)throw gn.thrown(je.withFields("Missing asset pack",["name",t]));return null}var i=new G;i.set_localBase("assets");var r=0;while(r<n.length){var a=n[r];++r;var s=a.name,_=t+"/"+s+"?v="+d.string(a.md5),o=G.inferFormat(s);o!=O.Data&&(s=je.removeFileExtension(s)),i.add(s,_,a.bytes,o)}return i},G.inferFormat=function(t){var e=je.getUrlExtension(t);if(null!=e)switch(e.toLowerCase()){case"dds":return O.DDS;case"gif":return O.GIF;case"jpeg":case"jpg":return O.JPG;case"jxr":case"wdp":return O.JXR;case"m4a":return O.M4A;case"mp3":return O.MP3;case"ogg":return O.OGG;case"opus":return O.OPUS;case"pkm":return O.PKM;case"png":return O.PNG;case"pvr":return O.PVR;case"wav":return O.WAV;case"webp":return O.WEBP}else L.logger.warn("No file extension for asset, it will be loaded as data",["url",t]);return O.Data},G.prototype={add:function(t,e,n,i){null==n&&(n=0),null==i&&(i=G.inferFormat(e));var r=new K(t,e,i,n);return this._entries.push(r),r},iterator:function(){return new Sn(this._entries)},getFullURL:function(t){var e=null!=this.get_remoteBase()&&G._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=e?je.joinPath(e,t.url):t.url},get_localBase:function(){return this._localBase},set_localBase:function(t){return null!=t&&Ue.that(!p.startsWith(t,"http://")&&!p.startsWith(t,"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://"),this._localBase=t},get_remoteBase:function(){return this._remoteBase},__class__:G};var Y=_["flambe.display.BlendMode"]={__ename__:!0,__constructs__:null,Normal:{_hx_name:"Normal",_hx_index:0,__enum__:"flambe.display.BlendMode",toString:s},Add:{_hx_name:"Add",_hx_index:1,__enum__:"flambe.display.BlendMode",toString:s},Multiply:{_hx_name:"Multiply",_hx_index:2,__enum__:"flambe.display.BlendMode",toString:s},Screen:{_hx_name:"Screen",_hx_index:3,__enum__:"flambe.display.BlendMode",toString:s},Mask:{_hx_name:"Mask",_hx_index:4,__enum__:"flambe.display.BlendMode",toString:s},Copy:{_hx_name:"Copy",_hx_index:5,__enum__:"flambe.display.BlendMode",toString:s}};Y.__constructs__=[Y.Normal,Y.Add,Y.Multiply,Y.Screen,Y.Mask,Y.Copy];var W=function(t,e){null==e&&(e=0),null==t&&(t=0),this.x=t,this.y=e};W.__name__=!0,W.prototype={set:function(t,e){this.x=t,this.y=e},distanceTo:function(t,e){return Math.sqrt(this.distanceToSquared(t,e))},distanceToSquared:function(t,e){var n=this.x-t,i=this.y-e;return n*n+i*i},toString:function(){return"("+this.x+","+this.y+")"},__class__:W};var V=function(){this._cosCache=0,this._sinCache=0,this._parentViewMatrixUpdateCount=0,this._viewMatrixUpdateCount=0,this._viewMatrix=null,this.scissor=null,this.blendMode=null;var t=this;f.call(this),this._flags|=182,this._localMatrix=new ot;var e=function(e,n){t._flags|=24};this.x=new E(0,e),this.y=new E(0,e),this.rotation=new E(0,(function(e,n){t._flags|=152})),this.scaleX=new E(1,e),this.scaleY=new E(1,e),this.anchorX=new E(0,e),this.anchorY=new E(0,e),this.alpha=new E(1),this.disablePixelSnapping()};V.__name__=!0,V.hitTest=function(t,e,n){var i=t._compMap["Sprite_0"];if(null!=i){if(6!=(6&i._flags))return null;i.getLocalMatrix().inverseTransform(e,n,V._scratchPoint)&&(e=V._scratchPoint.x,n=V._scratchPoint.y);var r=i.scissor;if(null!=r&&!r.contains(e,n))return null}var a=V.hitTestBackwards(t.firstChild,e,n);return null!=a?a:null!=i&&i.containsLocal(e,n)?i:null},V.render=function(t,e){var n=t._compMap["Sprite_0"];if(null!=n){var i=n.alpha._value;if(0==(2&n._flags)||i<=0)return;e.save(),i<1&&e.multiplyAlpha(i),null!=n.blendMode&&e.setBlendMode(n.blendMode);var r=n.getLocalMatrix(),a=r.m02,s=r.m12;0!=(32&n._flags)&&(a=Math.round(a),s=Math.round(s)),e.transform(r.m00,r.m10,r.m01,r.m11,a,s);var _=n.scissor;null!=_&&e.applyScissor(_.x,_.y,_.width,_.height),n.draw(e)}var o=t._compMap["Director_1"];if(null!=o){var u=o.occludedScenes,h=0;while(h<u.length){var l=u[h];++h,V.render(l,e)}}var c=t.firstChild;while(null!=c){var d=c.next;V.render(c,e),c=d}null!=n&&e.restore()},V.hitTestBackwards=function(t,e,n){if(null!=t){var i=V.hitTestBackwards(t.next,e,n);return null!=i?i:V.hitTest(t,e,n)}return null},V.__super__=f,V.prototype=o(f.prototype,{get_name:function(){return"Sprite_0"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(t,e){return t>=0&&t<this.getNaturalWidth()&&e>=0&&e<this.getNaturalHeight()},getLocalMatrix:function(){if(0!=(8&this._flags)){if(this._flags&=-9,0!=(128&this._flags)){this._flags&=-129;var t=3.141592653589793*this.rotation._value/180;this._sinCache=Math.sin(t),this._cosCache=Math.cos(t)}var e=this.scaleX._value,n=this.scaleY._value;this._localMatrix.set(this._cosCache*e,this._sinCache*e,-this._sinCache*n,this._cosCache*n,this.x._value,this.y._value),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value)}return this._localMatrix},getViewMatrix:function(){if(this.isViewMatrixDirty()){var t=this.getParentSprite();this._viewMatrix=null!=t?ot.multiply(t.getViewMatrix(),this.getLocalMatrix(),this._viewMatrix):this.getLocalMatrix().clone(this._viewMatrix),this._flags&=-17,null!=t&&(this._parentViewMatrixUpdateCount=t._viewMatrixUpdateCount),++this._viewMatrixUpdateCount}return this._viewMatrix},setAnchor:function(t,e){return this.anchorX.set__(t),this.anchorY.set__(e),this},centerAnchor:function(){return this.anchorX.set__(this.getNaturalWidth()/2),this.anchorY.set__(this.getNaturalHeight()/2),this},setXY:function(t,e){return this.x.set__(t),this.y.set__(e),this},setRotation:function(t){return this.rotation.set__(t),this},setScale:function(t){return this.scaleX.set__(t),this.scaleY.set__(t),this},disablePixelSnapping:function(){return this.set_pixelSnapping(!1),this},onAdded:function(){0!=(64&this._flags)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onUpdate:function(t){this.x.update(t),this.y.update(t),this.rotation.update(t),this.scaleX.update(t),this.scaleY.update(t),this.alpha.update(t),this.anchorX.update(t),this.anchorY.update(t)},draw:function(t){},isViewMatrixDirty:function(){if(0!=(16&this._flags))return!0;var t=this.getParentSprite();return null!=t&&(this._parentViewMatrixUpdateCount!=t._viewMatrixUpdateCount||t.isViewMatrixDirty())},getParentSprite:function(){if(null==this.owner)return null;var t=this.owner.parent;while(null!=t){var e=t._compMap["Sprite_0"];if(null!=e)return e;t=t.parent}return null},get_pointerDown:function(){return null==this._pointerDown&&(this._pointerDown=new M),this._pointerDown},get_pointerIn:function(){return null==this._pointerIn&&(this._pointerIn=new M),this._pointerIn},get_pointerOut:function(){return null==this._pointerOut&&(this._pointerOut=new M),this._pointerOut},connectHover:function(){var t=this;null==this._hoverConnection&&(T.assertCalledInit(),this._hoverConnection=T._platform.getPointer().move.connect((function(e){var n=e.hit;while(null!=n){if(n==t)return;n=n.getParentSprite()}null!=t._pointerOut&&0!=(64&t._flags)&&t._pointerOut.emit(e),t._flags&=-65,null!=t._hoverConnection&&(t._hoverConnection.dispose(),t._hoverConnection=null)})))},set_visible:function(t){return this._flags=Xe.set(this._flags,2,t),t},set_pixelSnapping:function(t){return this._flags=Xe.set(this._flags,32,t),t},onPointerDown:function(t){this.onHover(t),null!=this._pointerDown&&this._pointerDown.emit(t)},onPointerMove:function(t){this.onHover(t),null!=this._pointerMove&&this._pointerMove.emit(t)},onHover:function(t){0==(64&this._flags)&&(this._flags|=64,null==this._pointerIn&&null==this._pointerOut||(null!=this._pointerIn&&this._pointerIn.emit(t),this.connectHover()))},onPointerUp:function(t){1==t.source._hx_index&&(null!=this._pointerOut&&0!=(64&this._flags)&&this._pointerOut.emit(t),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)),null!=this._pointerUp&&this._pointerUp.emit(t)},__class__:V});var j=function(t,e,n){V.call(this),this.color=t,this.width=new E(e),this.height=new E(n)};j.__name__=!0,j.__super__=V,j.prototype=o(V.prototype,{draw:function(t){t.fillRect(this.color,0,0,this.width._value,this.height._value)},getNaturalWidth:function(){return this.width._value},getNaturalHeight:function(){return this.height._value},onUpdate:function(t){V.prototype.onUpdate.call(this,t),this.width.update(t),this.height.update(t)},__class__:j});var H=function(){};H.__name__=!0,H.__isInterface__=!0,H.prototype={__class__:H};var z=function(t){V.call(this),this.texture=t};z.__name__=!0,z.__super__=V,z.prototype=o(V.prototype,{draw:function(t){null!=this.texture&&t.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:z});var q=_["flambe.display.Orientation"]={__ename__:!0,__constructs__:null,Portrait:{_hx_name:"Portrait",_hx_index:0,__enum__:"flambe.display.Orientation",toString:s},Landscape:{_hx_name:"Landscape",_hx_index:1,__enum__:"flambe.display.Orientation",toString:s}};q.__constructs__=[q.Portrait,q.Landscape];var Q=function(){};Q.__name__=!0,Q.__isInterface__=!0,Q.__interfaces__=[B],Q.prototype={__class__:Q};var J=function(){};J.__name__=!0,J.__isInterface__=!0,J.__interfaces__=[Q];var Z=function(){this.init(0,0,0)};Z.__name__=!0,Z.prototype={init:function(t,e,n){this.x=t,this.y=e,this.z=n},__class__:Z};var $=function(){this.init(0,0,0)};$.__name__=!0,$.prototype={init:function(t,e,n){this.pitch=t,this.roll=e,this.azimuth=n},__class__:$};var tt=_["flambe.input.Key"]={__ename__:!0,__constructs__:null,A:{_hx_name:"A",_hx_index:0,__enum__:"flambe.input.Key",toString:s},B:{_hx_name:"B",_hx_index:1,__enum__:"flambe.input.Key",toString:s},C:{_hx_name:"C",_hx_index:2,__enum__:"flambe.input.Key",toString:s},D:{_hx_name:"D",_hx_index:3,__enum__:"flambe.input.Key",toString:s},E:{_hx_name:"E",_hx_index:4,__enum__:"flambe.input.Key",toString:s},F:{_hx_name:"F",_hx_index:5,__enum__:"flambe.input.Key",toString:s},G:{_hx_name:"G",_hx_index:6,__enum__:"flambe.input.Key",toString:s},H:{_hx_name:"H",_hx_index:7,__enum__:"flambe.input.Key",toString:s},I:{_hx_name:"I",_hx_index:8,__enum__:"flambe.input.Key",toString:s},J:{_hx_name:"J",_hx_index:9,__enum__:"flambe.input.Key",toString:s},K:{_hx_name:"K",_hx_index:10,__enum__:"flambe.input.Key",toString:s},L:{_hx_name:"L",_hx_index:11,__enum__:"flambe.input.Key",toString:s},M:{_hx_name:"M",_hx_index:12,__enum__:"flambe.input.Key",toString:s},N:{_hx_name:"N",_hx_index:13,__enum__:"flambe.input.Key",toString:s},O:{_hx_name:"O",_hx_index:14,__enum__:"flambe.input.Key",toString:s},P:{_hx_name:"P",_hx_index:15,__enum__:"flambe.input.Key",toString:s},Q:{_hx_name:"Q",_hx_index:16,__enum__:"flambe.input.Key",toString:s},R:{_hx_name:"R",_hx_index:17,__enum__:"flambe.input.Key",toString:s},S:{_hx_name:"S",_hx_index:18,__enum__:"flambe.input.Key",toString:s},T:{_hx_name:"T",_hx_index:19,__enum__:"flambe.input.Key",toString:s},U:{_hx_name:"U",_hx_index:20,__enum__:"flambe.input.Key",toString:s},V:{_hx_name:"V",_hx_index:21,__enum__:"flambe.input.Key",toString:s},W:{_hx_name:"W",_hx_index:22,__enum__:"flambe.input.Key",toString:s},X:{_hx_name:"X",_hx_index:23,__enum__:"flambe.input.Key",toString:s},Y:{_hx_name:"Y",_hx_index:24,__enum__:"flambe.input.Key",toString:s},Z:{_hx_name:"Z",_hx_index:25,__enum__:"flambe.input.Key",toString:s},Number0:{_hx_name:"Number0",_hx_index:26,__enum__:"flambe.input.Key",toString:s},Number1:{_hx_name:"Number1",_hx_index:27,__enum__:"flambe.input.Key",toString:s},Number2:{_hx_name:"Number2",_hx_index:28,__enum__:"flambe.input.Key",toString:s},Number3:{_hx_name:"Number3",_hx_index:29,__enum__:"flambe.input.Key",toString:s},Number4:{_hx_name:"Number4",_hx_index:30,__enum__:"flambe.input.Key",toString:s},Number5:{_hx_name:"Number5",_hx_index:31,__enum__:"flambe.input.Key",toString:s},Number6:{_hx_name:"Number6",_hx_index:32,__enum__:"flambe.input.Key",toString:s},Number7:{_hx_name:"Number7",_hx_index:33,__enum__:"flambe.input.Key",toString:s},Number8:{_hx_name:"Number8",_hx_index:34,__enum__:"flambe.input.Key",toString:s},Number9:{_hx_name:"Number9",_hx_index:35,__enum__:"flambe.input.Key",toString:s},Numpad0:{_hx_name:"Numpad0",_hx_index:36,__enum__:"flambe.input.Key",toString:s},Numpad1:{_hx_name:"Numpad1",_hx_index:37,__enum__:"flambe.input.Key",toString:s},Numpad2:{_hx_name:"Numpad2",_hx_index:38,__enum__:"flambe.input.Key",toString:s},Numpad3:{_hx_name:"Numpad3",_hx_index:39,__enum__:"flambe.input.Key",toString:s},Numpad4:{_hx_name:"Numpad4",_hx_index:40,__enum__:"flambe.input.Key",toString:s},Numpad5:{_hx_name:"Numpad5",_hx_index:41,__enum__:"flambe.input.Key",toString:s},Numpad6:{_hx_name:"Numpad6",_hx_index:42,__enum__:"flambe.input.Key",toString:s},Numpad7:{_hx_name:"Numpad7",_hx_index:43,__enum__:"flambe.input.Key",toString:s},Numpad8:{_hx_name:"Numpad8",_hx_index:44,__enum__:"flambe.input.Key",toString:s},Numpad9:{_hx_name:"Numpad9",_hx_index:45,__enum__:"flambe.input.Key",toString:s},NumpadAdd:{_hx_name:"NumpadAdd",_hx_index:46,__enum__:"flambe.input.Key",toString:s},NumpadDecimal:{_hx_name:"NumpadDecimal",_hx_index:47,__enum__:"flambe.input.Key",toString:s},NumpadDivide:{_hx_name:"NumpadDivide",_hx_index:48,__enum__:"flambe.input.Key",toString:s},NumpadEnter:{_hx_name:"NumpadEnter",_hx_index:49,__enum__:"flambe.input.Key",toString:s},NumpadMultiply:{_hx_name:"NumpadMultiply",_hx_index:50,__enum__:"flambe.input.Key",toString:s},NumpadSubtract:{_hx_name:"NumpadSubtract",_hx_index:51,__enum__:"flambe.input.Key",toString:s},F1:{_hx_name:"F1",_hx_index:52,__enum__:"flambe.input.Key",toString:s},F2:{_hx_name:"F2",_hx_index:53,__enum__:"flambe.input.Key",toString:s},F3:{_hx_name:"F3",_hx_index:54,__enum__:"flambe.input.Key",toString:s},F4:{_hx_name:"F4",_hx_index:55,__enum__:"flambe.input.Key",toString:s},F5:{_hx_name:"F5",_hx_index:56,__enum__:"flambe.input.Key",toString:s},F6:{_hx_name:"F6",_hx_index:57,__enum__:"flambe.input.Key",toString:s},F7:{_hx_name:"F7",_hx_index:58,__enum__:"flambe.input.Key",toString:s},F8:{_hx_name:"F8",_hx_index:59,__enum__:"flambe.input.Key",toString:s},F9:{_hx_name:"F9",_hx_index:60,__enum__:"flambe.input.Key",toString:s},F10:{_hx_name:"F10",_hx_index:61,__enum__:"flambe.input.Key",toString:s},F11:{_hx_name:"F11",_hx_index:62,__enum__:"flambe.input.Key",toString:s},F12:{_hx_name:"F12",_hx_index:63,__enum__:"flambe.input.Key",toString:s},F13:{_hx_name:"F13",_hx_index:64,__enum__:"flambe.input.Key",toString:s},F14:{_hx_name:"F14",_hx_index:65,__enum__:"flambe.input.Key",toString:s},F15:{_hx_name:"F15",_hx_index:66,__enum__:"flambe.input.Key",toString:s},Left:{_hx_name:"Left",_hx_index:67,__enum__:"flambe.input.Key",toString:s},Up:{_hx_name:"Up",_hx_index:68,__enum__:"flambe.input.Key",toString:s},Right:{_hx_name:"Right",_hx_index:69,__enum__:"flambe.input.Key",toString:s},Down:{_hx_name:"Down",_hx_index:70,__enum__:"flambe.input.Key",toString:s},Alt:{_hx_name:"Alt",_hx_index:71,__enum__:"flambe.input.Key",toString:s},Backquote:{_hx_name:"Backquote",_hx_index:72,__enum__:"flambe.input.Key",toString:s},Backslash:{_hx_name:"Backslash",_hx_index:73,__enum__:"flambe.input.Key",toString:s},Backspace:{_hx_name:"Backspace",_hx_index:74,__enum__:"flambe.input.Key",toString:s},CapsLock:{_hx_name:"CapsLock",_hx_index:75,__enum__:"flambe.input.Key",toString:s},Comma:{_hx_name:"Comma",_hx_index:76,__enum__:"flambe.input.Key",toString:s},Command:{_hx_name:"Command",_hx_index:77,__enum__:"flambe.input.Key",toString:s},Control:{_hx_name:"Control",_hx_index:78,__enum__:"flambe.input.Key",toString:s},Delete:{_hx_name:"Delete",_hx_index:79,__enum__:"flambe.input.Key",toString:s},End:{_hx_name:"End",_hx_index:80,__enum__:"flambe.input.Key",toString:s},Enter:{_hx_name:"Enter",_hx_index:81,__enum__:"flambe.input.Key",toString:s},Equals:{_hx_name:"Equals",_hx_index:82,__enum__:"flambe.input.Key",toString:s},Escape:{_hx_name:"Escape",_hx_index:83,__enum__:"flambe.input.Key",toString:s},Home:{_hx_name:"Home",_hx_index:84,__enum__:"flambe.input.Key",toString:s},Insert:{_hx_name:"Insert",_hx_index:85,__enum__:"flambe.input.Key",toString:s},LeftBracket:{_hx_name:"LeftBracket",_hx_index:86,__enum__:"flambe.input.Key",toString:s},Minus:{_hx_name:"Minus",_hx_index:87,__enum__:"flambe.input.Key",toString:s},PageDown:{_hx_name:"PageDown",_hx_index:88,__enum__:"flambe.input.Key",toString:s},PageUp:{_hx_name:"PageUp",_hx_index:89,__enum__:"flambe.input.Key",toString:s},Period:{_hx_name:"Period",_hx_index:90,__enum__:"flambe.input.Key",toString:s},Quote:{_hx_name:"Quote",_hx_index:91,__enum__:"flambe.input.Key",toString:s},RightBracket:{_hx_name:"RightBracket",_hx_index:92,__enum__:"flambe.input.Key",toString:s},Semicolon:{_hx_name:"Semicolon",_hx_index:93,__enum__:"flambe.input.Key",toString:s},Shift:{_hx_name:"Shift",_hx_index:94,__enum__:"flambe.input.Key",toString:s},Slash:{_hx_name:"Slash",_hx_index:95,__enum__:"flambe.input.Key",toString:s},Space:{_hx_name:"Space",_hx_index:96,__enum__:"flambe.input.Key",toString:s},Tab:{_hx_name:"Tab",_hx_index:97,__enum__:"flambe.input.Key",toString:s},Menu:{_hx_name:"Menu",_hx_index:98,__enum__:"flambe.input.Key",toString:s},Search:{_hx_name:"Search",_hx_index:99,__enum__:"flambe.input.Key",toString:s},Unknown:(a=function(t){return{_hx_index:100,keyCode:t,__enum__:"flambe.input.Key",toString:s}},a._hx_name="Unknown",a.__params__=["keyCode"],a)};tt.__constructs__=[tt.A,tt.B,tt.C,tt.D,tt.E,tt.F,tt.G,tt.H,tt.I,tt.J,tt.K,tt.L,tt.M,tt.N,tt.O,tt.P,tt.Q,tt.R,tt.S,tt.T,tt.U,tt.V,tt.W,tt.X,tt.Y,tt.Z,tt.Number0,tt.Number1,tt.Number2,tt.Number3,tt.Number4,tt.Number5,tt.Number6,tt.Number7,tt.Number8,tt.Number9,tt.Numpad0,tt.Numpad1,tt.Numpad2,tt.Numpad3,tt.Numpad4,tt.Numpad5,tt.Numpad6,tt.Numpad7,tt.Numpad8,tt.Numpad9,tt.NumpadAdd,tt.NumpadDecimal,tt.NumpadDivide,tt.NumpadEnter,tt.NumpadMultiply,tt.NumpadSubtract,tt.F1,tt.F2,tt.F3,tt.F4,tt.F5,tt.F6,tt.F7,tt.F8,tt.F9,tt.F10,tt.F11,tt.F12,tt.F13,tt.F14,tt.F15,tt.Left,tt.Up,tt.Right,tt.Down,tt.Alt,tt.Backquote,tt.Backslash,tt.Backspace,tt.CapsLock,tt.Comma,tt.Command,tt.Control,tt.Delete,tt.End,tt.Enter,tt.Equals,tt.Escape,tt.Home,tt.Insert,tt.LeftBracket,tt.Minus,tt.PageDown,tt.PageUp,tt.Period,tt.Quote,tt.RightBracket,tt.Semicolon,tt.Shift,tt.Slash,tt.Space,tt.Tab,tt.Menu,tt.Search,tt.Unknown];var et=function(){this.init(0,null)};et.__name__=!0,et.prototype={init:function(t,e){this.id=t,this.key=e},__class__:et};var nt=_["flambe.input.MouseButton"]={__ename__:!0,__constructs__:null,Left:{_hx_name:"Left",_hx_index:0,__enum__:"flambe.input.MouseButton",toString:s},Middle:{_hx_name:"Middle",_hx_index:1,__enum__:"flambe.input.MouseButton",toString:s},Right:{_hx_name:"Right",_hx_index:2,__enum__:"flambe.input.MouseButton",toString:s},Unknown:(a=function(t){return{_hx_index:3,buttonCode:t,__enum__:"flambe.input.MouseButton",toString:s}},a._hx_name="Unknown",a.__params__=["buttonCode"],a)};nt.__constructs__=[nt.Left,nt.Middle,nt.Right,nt.Unknown];var it=_["flambe.input.MouseCursor"]={__ename__:!0,__constructs__:null,Default:{_hx_name:"Default",_hx_index:0,__enum__:"flambe.input.MouseCursor",toString:s},Button:{_hx_name:"Button",_hx_index:1,__enum__:"flambe.input.MouseCursor",toString:s},None:{_hx_name:"None",_hx_index:2,__enum__:"flambe.input.MouseCursor",toString:s}};it.__constructs__=[it.Default,it.Button,it.None];var rt=function(){this.init(0,0,0,null)};rt.__name__=!0,rt.prototype={init:function(t,e,n,i){this.id=t,this.viewX=e,this.viewY=n,this.button=i},__class__:rt};var at=_["flambe.input.EventSource"]={__ename__:!0,__constructs__:null,Mouse:(a=function(t){return{_hx_index:0,event:t,__enum__:"flambe.input.EventSource",toString:s}},a._hx_name="Mouse",a.__params__=["event"],a),Touch:(a=function(t){return{_hx_index:1,point:t,__enum__:"flambe.input.EventSource",toString:s}},a._hx_name="Touch",a.__params__=["point"],a)};at.__constructs__=[at.Mouse,at.Touch];var st=function(){this.init(0,0,0,null,null)};st.__name__=!0,st.prototype={init:function(t,e,n,i,r){this.id=t,this.viewX=e,this.viewY=n,this.hit=i,this.source=r,this._stopped=!1},__class__:st};var _t=function(t){this.id=t,this._source=at.Touch(this)};_t.__name__=!0,_t.prototype={init:function(t,e){this.viewX=t,this.viewY=e},__class__:_t};var ot=function(){this.identity()};ot.__name__=!0,ot.multiply=function(t,e,n){null==n&&(n=new ot);var i=t.m00*e.m00+t.m01*e.m10,r=t.m00*e.m01+t.m01*e.m11,a=t.m00*e.m02+t.m01*e.m12+t.m02;return n.m00=i,n.m01=r,n.m02=a,i=t.m10*e.m00+t.m11*e.m10,r=t.m10*e.m01+t.m11*e.m11,a=t.m10*e.m02+t.m11*e.m12+t.m12,n.m10=i,n.m11=r,n.m12=a,n},ot.prototype={set:function(t,e,n,i,r,a){this.m00=t,this.m01=n,this.m02=r,this.m10=e,this.m11=i,this.m12=a},identity:function(){this.set(1,0,0,1,0,0)},translate:function(t,e){this.m02+=this.m00*t+this.m01*e,this.m12+=this.m11*e+this.m10*t},invert:function(){var t=this.determinant();return 0!=t&&(this.set(this.m11/t,-this.m01/t,-this.m10/t,this.m00/t,(this.m01*this.m12-this.m11*this.m02)/t,(this.m10*this.m02-this.m00*this.m12)/t),!0)},transformArray:function(t,e,n){var i=0;while(i<e){var r=t[i],a=t[i+1];n[i++]=r*this.m00+a*this.m01+this.m02,n[i++]=r*this.m10+a*this.m11+this.m12}},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(t,e,n){var i=this.determinant();return 0!=i&&(t-=this.m02,e-=this.m12,n.x=(t*this.m11-e*this.m01)/i,n.y=(e*this.m00-t*this.m10)/i,!0)},clone:function(t){return null==t&&(t=new ot),t.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12),t},toString:function(){return this.m00+" "+this.m01+" "+this.m02+" \\ "+this.m10+" "+this.m11+" "+this.m12},__class__:ot};var ut=function(t,e,n,i){null==i&&(i=0),null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),this.set(t,e,n,i)};ut.__name__=!0,ut.prototype={set:function(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i},contains:function(t,e){if(t-=this.x,this.width>=0){if(t<0||t>this.width)return!1}else if(t>0||t<this.width)return!1;if(e-=this.y,this.height>=0){if(e<0||e>this.height)return!1}else if(e>0||e<this.height)return!1;return!0},clone:function(t){return null==t&&(t=new ut),t.set(this.x,this.y,this.width,this.height),t},equals:function(t){return this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},toString:function(){return"("+this.x+","+this.y+" "+this.width+"x"+this.height+")"},__class__:ut};var ht=function(){this._reloadCount=null,this._disposed=!1};ht.__name__=!0,ht.__interfaces__=[B],ht.prototype={reload:function(t){this.dispose(),this._disposed=!1,this.copyFrom(t);var e=this.get_reloadCount();e.set__(e._value+1)},dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},copyFrom:function(t){Ue.fail()},onDisposed:function(){Ue.fail()},get_reloadCount:function(){return null==this._reloadCount&&(this._reloadCount=new y(0)),this._reloadCount},__class__:ht};var lt=function(t,e){var n=this;this.manifest=e,this._platform=t,this.promise=new Ye,this._bytesLoaded=new xn,this._pack=new ct(e,this);var i=l.array(e);if(0==i.length)this.handleSuccess();else{var r=new xn,a=0;while(a<i.length){var s=i[a];++a;var _=r.h[s.name];null==_&&(_=[],r.h[s.name]=_),_.push(s)}this._assetsRemaining=l.count(r);var o=r.h,u=Object.keys(o),h=u.length,c=0;while(c<h){_=[o[u[c++]]];this.pickBestEntry(_[0],function(t){return function(i){if(null!=i){var r=e.getFullURL(i);try{n.loadEntry(r,i)}catch(a){var s=gn.caught(a).unwrap();n.handleError(i,"Unexpected error: "+d.string(s))}var _=n.promise;_.set_total(_._total+i.bytes)}else{var o=t[0][0];lt.isAudio(o.format)?(L.logger.warn("Could not find a supported audio format to load",["name",o.name]),n.handleLoad(o,Mt.getInstance())):n.handleError(o,"Could not find a supported format to load")}}}(_))}}var p=this._platform.getCatapultClient();null!=p&&p.add(this)};lt.__name__=!0,lt.removeUrlParams=function(t){var e=t.indexOf("?");return e>0?h.substr(t,0,e):t},lt.isAudio=function(t){switch(t._hx_index){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}},lt.prototype={reload:function(t){var e=this,n=lt.removeUrlParams(t),i=null,r=this.manifest._entries,a=0;while(a<r.length){var s=r[a++];if(n==lt.removeUrlParams(s.url)){i=s;break}}null!=i&&this.getAssetFormats((function(n){if(n.indexOf(i.format)>=0){var r=new K(i.name,t,i.format,0);e.loadEntry(e.manifest.getFullURL(r),r)}}))},onDisposed:function(){var t=this._platform.getCatapultClient();null!=t&&t.remove(this)},pickBestEntry:function(t,e){var n=function(n){var i=0;while(i<n.length){var r=n[i];++i;var a=0;while(a<t.length){var s=t[a];if(++a,s.format==r)return void e(s)}}e(null)};this.getAssetFormats(n)},loadEntry:function(t,e){Ue.fail()},getAssetFormats:function(t){Ue.fail()},handleLoad:function(t,e){if(!this._pack.disposed){var n;switch(this.handleProgress(t,t.bytes),t.format._hx_index){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:n=this._pack.sounds;break;case 13:n=this._pack.files;break}var i=n.h[t.name];null!=i?(L.logger.info("Reloaded asset",["url",t.url]),i.reload(e)):(n.h[t.name]=e,this._assetsRemaining-=1,0==this._assetsRemaining&&this.handleSuccess())}},handleProgress:function(t,e){this._bytesLoaded.h[t.name]=e;var n=0,i=this._bytesLoaded.h,r=Object.keys(i),a=r.length,s=0;while(s<a){var _=i[r[s++]];n+=_}this.promise.set_progress(n)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(t,e){L.logger.warn("Error loading asset pack",["error",e,"url",t.url]),this.promise.error.emit(je.withFields(e,["url",t.url]))},handleTextureError:function(t){this.handleError(t,"Failed to create texture. Is the GPU context unavailable?")},__class__:lt};var ct=function(t,e){this.disposed=!1,this._manifest=t,this.loader=e,this.textures=new xn,this.sounds=new xn,this.files=new xn};ct.__name__=!0,ct.__interfaces__=[U],ct.warnOnExtension=function(t){var e=je.getFileExtension(t);if(null!=e&&3==e.length){var n='Requested asset "'+t+'" should not have a file extension, did you mean "'+je.removeFileExtension(t)+'"?';L.logger.warn(n,null)}},ct.prototype={getTexture:function(t,e){null==e&&(e=!0),Ue.that(!this.disposed,"AssetPack cannot be used after being disposed"),ct.warnOnExtension(t);var n=this.textures.h[t];if(null==n&&e)throw gn.thrown(je.withFields("Missing texture",["name",t]));return n},getSound:function(t,e){null==e&&(e=!0),Ue.that(!this.disposed,"AssetPack cannot be used after being disposed"),ct.warnOnExtension(t);var n=this.sounds.h[t];if(null==n&&e)throw gn.thrown(je.withFields("Missing sound",["name",t]));return n},dispose:function(){if(!this.disposed){this.disposed=!0;var t=this.textures.h,e=Object.keys(t),n=e.length,i=0;while(i<n){var r=t[e[i++]];r.dispose()}this.textures=null;t=this.sounds.h;var a=Object.keys(t),s=a.length,_=0;while(_<s){var o=t[a[_++]];o.dispose()}this.sounds=null;t=this.files.h;var u=Object.keys(t),h=u.length,l=0;while(l<h){var c=t[u[l++]];c.dispose()}this.files=null,this.loader.onDisposed()}},__class__:ct};var dt=function(t){ht.call(this),this._content=t};dt.__name__=!0,dt.__interfaces__=[X],dt.__super__=ht,dt.prototype=o(ht.prototype,{copyFrom:function(t){this._content=t._content},onDisposed:function(){this._content=null},__class__:dt});var pt=function(){};pt.__name__=!0,pt.__isInterface__=!0,pt.prototype={__class__:pt};var mt=function(){this.down=new M,this.up=new M,this.backButton=new We,this._keyStates=new wn};mt.__name__=!0,mt.__interfaces__=[pt],mt.prototype={isDown:function(t){return this._keyStates.h.hasOwnProperty(Ot.toKeyCode(t))},submitDown:function(t){return 16777238==t?null!=this.backButton._head&&(this.backButton.emit(),!0):(this._keyStates.h.hasOwnProperty(t)||(this._keyStates.h[t]=!0,mt._sharedEvent.init(mt._sharedEvent.id+1,Ot.toKey(t)),this.down.emit(mt._sharedEvent)),!0)},submitUp:function(t){this._keyStates.h.hasOwnProperty(t)&&(this._keyStates.remove(t),mt._sharedEvent.init(mt._sharedEvent.id+1,Ot.toKey(t)),this.up.emit(mt._sharedEvent))},__class__:mt};var ft=function(){};ft.__name__=!0,ft.__isInterface__=!0;var gt=function(t){this._pointer=t,this._source=at.Mouse(gt._sharedEvent),this.down=new M,this.move=new M,this.up=new M,this.scroll=new M,this._x=0,this._y=0,this._cursor=it.Default,this._buttonStates=new wn};gt.__name__=!0,gt.__interfaces__=[ft],gt.prototype={submitDown:function(t,e,n){this._buttonStates.h.hasOwnProperty(n)||(this._buttonStates.h[n]=!0,this.prepare(t,e,Xt.toButton(n)),this._pointer.submitDown(t,e,this._source),this.down.emit(gt._sharedEvent))},submitMove:function(t,e){this.prepare(t,e,null),this._pointer.submitMove(t,e,this._source),this.move.emit(gt._sharedEvent)},submitUp:function(t,e,n){this._buttonStates.h.hasOwnProperty(n)&&(this._buttonStates.remove(n),this.prepare(t,e,Xt.toButton(n)),this._pointer.submitUp(t,e,this._source),this.up.emit(gt._sharedEvent))},submitScroll:function(t,e,n){return this._x=t,this._y=e,null!=this.scroll._head&&(this.scroll.emit(n),!0)},prepare:function(t,e,n){this._x=t,this._y=e,gt._sharedEvent.init(gt._sharedEvent.id+1,t,e,n)},__class__:gt};var vt=function(){};vt.__name__=!0,vt.__isInterface__=!0,vt.prototype={__class__:vt};var wt=function(t,e,n){null==n&&(n=!1),null==e&&(e=0),null==t&&(t=0),this.down=new M,this.move=new M,this.up=new M,this._x=t,this._y=e,this._isDown=n};wt.__name__=!0,wt.__interfaces__=[vt],wt.prototype={submitDown:function(t,e,n){if(!this._isDown){this.submitMove(t,e,n),this._isDown=!0;var i=[],r=V.hitTest(T.root,t,e);if(null!=r){var a=r.owner;while(1){var s=a._compMap["Sprite_0"];if(null!=s&&i.push(s),a=a.parent,null==a)break}}this.prepare(t,e,r,n);var _=0;while(_<i.length){s=i[_];if(++_,s.onPointerDown(wt._sharedEvent),wt._sharedEvent._stopped)return}this.down.emit(wt._sharedEvent)}},submitMove:function(t,e,n){if(t!=this._x||e!=this._y){var i=[],r=V.hitTest(T.root,t,e);if(null!=r){var a=r.owner;while(1){var s=a._compMap["Sprite_0"];if(null!=s&&i.push(s),a=a.parent,null==a)break}}this.prepare(t,e,r,n);var _=0;while(_<i.length){s=i[_];if(++_,s.onPointerMove(wt._sharedEvent),wt._sharedEvent._stopped)return}this.move.emit(wt._sharedEvent)}},submitUp:function(t,e,n){if(this._isDown){this.submitMove(t,e,n),this._isDown=!1;var i=[],r=V.hitTest(T.root,t,e);if(null!=r){var a=r.owner;while(1){var s=a._compMap["Sprite_0"];if(null!=s&&i.push(s),a=a.parent,null==a)break}}this.prepare(t,e,r,n);var _=0;while(_<i.length){s=i[_];if(++_,s.onPointerUp(wt._sharedEvent),wt._sharedEvent._stopped)return}this.up.emit(wt._sharedEvent)}},prepare:function(t,e,n,i){this._x=t,this._y=e,wt._sharedEvent.init(wt._sharedEvent.id+1,t,e,n,i)},__class__:wt};var xt=function(t,e,n){this._y=0,this._x=0,this._parent=null,this.rootY=0,this.rootX=0,ht.call(this),this.root=t,this._width=e,this._height=n};xt.__name__=!0,xt.__interfaces__=[J],xt.__super__=ht,xt.prototype=o(ht.prototype,{copyFrom:function(t){this.root._disposed=!1,this.root.copyFrom(t.root),this._width=t._width,this._height=t._height,Ue.that(this.rootX==t.rootX&&this.rootY==t.rootY&&this._x==t._x&&this._y==t._y)},onDisposed:function(){null==this._parent&&this.root.dispose()},get_reloadCount:function(){return this.root.get_reloadCount()},get_width:function(){return this._width},get_height:function(){return this._height},__class__:xt});var bt=function(){};bt.__name__=!0,bt.__isInterface__=!0;var yt=function(t,e){null==e&&(e=4),this._pointer=t,this._maxPoints=e,this._pointMap=new wn,this._points=[],this.down=new M,this.move=new M,this.up=new M};yt.__name__=!0,yt.__interfaces__=[bt],yt.prototype={submitDown:function(t,e,n){if(!this._pointMap.h.hasOwnProperty(t)){var i=new _t(t);i.init(e,n),this._pointMap.h[t]=i,this._points.push(i),null==this._pointerTouch&&(this._pointerTouch=i,this._pointer.submitDown(e,n,i._source)),this.down.emit(i)}},submitMove:function(t,e,n){var i=this._pointMap.h[t];null!=i&&(i.init(e,n),this._pointerTouch==i&&this._pointer.submitMove(e,n,i._source),this.move.emit(i))},submitUp:function(t,e,n){var i=this._pointMap.h[t];null!=i&&(i.init(e,n),this._pointMap.remove(t),h.remove(this._points,i),this._pointerTouch==i&&(this._pointerTouch=null,this._pointer.submitUp(e,n,i._source)),this.up.emit(i))},__class__:yt};var St=function(){this._loaders=[]};St.__name__=!0,St.prototype={add:function(t){"assets"==t.manifest.get_localBase()&&this._loaders.push(t)},remove:function(t){h.remove(this._loaders,t)},onError:function(t){L.logger.warn("Unable to connect to Catapult",["cause",t])},onMessage:function(t){var e=JSON.parse(t);switch(e.type){case"file_changed":var n=e.name+"?v="+e.md5;n=p.replace(n,"\\","/");var i=0,r=this._loaders;while(i<r.length){var a=r[i];++i,a.reload(n)}break;case"restart":this.onRestart();break}},onRestart:function(){Ue.fail()},__class__:St};var At=function(t){var e=this;this._platform=t,t.getKeyboard().down.connect((function(n){n.key==tt.O&&t.getKeyboard().isDown(tt.Control)&&e.toggleOverdrawGraphics()&&L.logger.info("Enabled overdraw visualizer, press Ctrl-O again to disable",null)}))};At.__name__=!0,At.prototype={toggleOverdrawGraphics:function(){var t=this._platform.getRenderer();if(null!=this._savedGraphics)t.graphics=this._savedGraphics,this._savedGraphics=null;else if(null!=t.graphics)return this._savedGraphics=t.graphics,t.graphics=new Gt(this._savedGraphics),!0;return!1},__class__:At};var Ct=function(){};Ct.__name__=!0,Ct.__isInterface__=!0,Ct.__interfaces__=[B],Ct.prototype={__class__:Ct};var Mt=function(){ht.call(this),this._playback=new Tt(this)};Mt.__name__=!0,Mt.__interfaces__=[Ct],Mt.getInstance=function(){return null==Mt._instance&&(Mt._instance=new Mt),Mt._instance},Mt.__super__=ht,Mt.prototype=o(ht.prototype,{play:function(t){return null==t&&(t=1),this._playback},copyFrom:function(t){},onDisposed:function(){},__class__:Mt});var Et=function(){};Et.__name__=!0,Et.__isInterface__=!0,Et.__interfaces__=[m];var Tt=function(t){this._sound=t,this.volume=new E(0),this._complete=new y(!0)};Tt.__name__=!0,Tt.__interfaces__=[Et],Tt.prototype={dispose:function(){},__class__:Tt};var kt=function(){};kt.__name__=!0,kt.__isInterface__=!0;var Lt=function(){this.clear()};Lt.__name__=!0,Lt.__interfaces__=[kt],Lt.prototype={clear:function(){this._hash=new xn},__class__:Lt};var Pt=function(){this.down=new M,this.move=new M,this.up=new M};Pt.__name__=!0,Pt.__interfaces__=[bt],Pt.prototype={__class__:Pt};var It=function(){this._entries=[]};It.__name__=!0,It.__interfaces__=[m],It.prototype={addListener:function(t,e,n){t.addEventListener(e,n,!1),this._entries.push(new Nt(t,e,n))},addDisposingListener:function(t,e,n){var i=this;this.addListener(t,e,(function(t){i.dispose(),n(t)}))},dispose:function(){var t=0,e=this._entries;while(t<e.length){var n=e[t];++t,n.dispatcher.removeEventListener(n.type,n.listener,!1)}this._entries=[]},__class__:It};var Nt=function(t,e,n){this.dispatcher=t,this.type=e,this.listener=n};Nt.__name__=!0,Nt.prototype={__class__:Nt};var Rt=function(t){M.call(this,t),this.hasListenersValue=new y(null!=this._head)};Rt.__name__=!0,Rt.__super__=M,Rt.prototype=o(M.prototype,{connect:function(t,e){null==e&&(e=!1);var n=M.prototype.connect.call(this,t,e);return this.hasListenersValue.set__(null!=this._head),n},disconnect:function(t){M.prototype.disconnect.call(this,t),this.hasListenersValue.set__(null!=this._head)},didEmit:function(t){M.prototype.didEmit.call(this,t),this.hasListenersValue.set__(null!=this._head)},__class__:Rt});var Ft=function(){};Ft.__name__=!0,Ft.__isInterface__=!0,Ft.__interfaces__=[H],Ft.prototype={__class__:Ft};var Dt=function(){};Dt.__name__=!0,Dt.__isInterface__=!0,Dt.prototype={__class__:Dt};var Bt=function(){};Bt.__name__=!0,Bt.__isInterface__=!0,Bt.__interfaces__=[Dt],Bt.prototype={__class__:Bt};var Ot=function(){};Ot.__name__=!0,Ot.toKey=function(t){switch(t){case 8:return tt.Backspace;case 9:return tt.Tab;case 13:return tt.Enter;case 15:return tt.Command;case 16:return tt.Shift;case 17:return tt.Control;case 18:return tt.Alt;case 20:return tt.CapsLock;case 27:return tt.Escape;case 32:return tt.Space;case 33:return tt.PageUp;case 34:return tt.PageDown;case 35:return tt.End;case 36:return tt.Home;case 37:return tt.Left;case 38:return tt.Up;case 39:return tt.Right;case 40:return tt.Down;case 45:return tt.Insert;case 46:return tt.Delete;case 48:return tt.Number0;case 49:return tt.Number1;case 50:return tt.Number2;case 51:return tt.Number3;case 52:return tt.Number4;case 53:return tt.Number5;case 54:return tt.Number6;case 55:return tt.Number7;case 56:return tt.Number8;case 57:return tt.Number9;case 65:return tt.A;case 66:return tt.B;case 67:return tt.C;case 68:return tt.D;case 69:return tt.E;case 70:return tt.F;case 71:return tt.G;case 72:return tt.H;case 73:return tt.I;case 74:return tt.J;case 75:return tt.K;case 76:return tt.L;case 77:return tt.M;case 78:return tt.N;case 79:return tt.O;case 80:return tt.P;case 81:return tt.Q;case 82:return tt.R;case 83:return tt.S;case 84:return tt.T;case 85:return tt.U;case 86:return tt.V;case 87:return tt.W;case 88:return tt.X;case 89:return tt.Y;case 90:return tt.Z;case 96:return tt.Numpad0;case 97:return tt.Numpad1;case 98:return tt.Numpad2;case 99:return tt.Numpad3;case 100:return tt.Numpad4;case 101:return tt.Numpad5;case 102:return tt.Numpad6;case 103:return tt.Numpad7;case 104:return tt.Numpad8;case 105:return tt.Numpad9;case 106:return tt.NumpadMultiply;case 107:return tt.NumpadAdd;case 108:return tt.NumpadEnter;case 109:return tt.NumpadSubtract;case 110:return tt.NumpadDecimal;case 111:return tt.NumpadDivide;case 112:return tt.F1;case 113:return tt.F2;case 114:return tt.F3;case 115:return tt.F4;case 116:return tt.F5;case 117:return tt.F6;case 118:return tt.F7;case 119:return tt.F8;case 120:return tt.F9;case 121:return tt.F10;case 122:return tt.F11;case 123:return tt.F12;case 186:return tt.Semicolon;case 187:return tt.Equals;case 188:return tt.Comma;case 189:return tt.Minus;case 190:return tt.Period;case 191:return tt.Slash;case 192:return tt.Backquote;case 219:return tt.LeftBracket;case 220:return tt.Backslash;case 221:return tt.RightBracket;case 222:return tt.Quote;case 16777234:return tt.Menu;case 16777247:return tt.Search}return tt.Unknown(t)},Ot.toKeyCode=function(t){switch(t._hx_index){case 0:return 65;case 1:return 66;case 2:return 67;case 3:return 68;case 4:return 69;case 5:return 70;case 6:return 71;case 7:return 72;case 8:return 73;case 9:return 74;case 10:return 75;case 11:return 76;case 12:return 77;case 13:return 78;case 14:return 79;case 15:return 80;case 16:return 81;case 17:return 82;case 18:return 83;case 19:return 84;case 20:return 85;case 21:return 86;case 22:return 87;case 23:return 88;case 24:return 89;case 25:return 90;case 26:return 48;case 27:return 49;case 28:return 50;case 29:return 51;case 30:return 52;case 31:return 53;case 32:return 54;case 33:return 55;case 34:return 56;case 35:return 57;case 36:return 96;case 37:return 97;case 38:return 98;case 39:return 99;case 40:return 100;case 41:return 101;case 42:return 102;case 43:return 103;case 44:return 104;case 45:return 105;case 46:return 107;case 47:return 110;case 48:return 111;case 49:return 108;case 50:return 106;case 51:return 109;case 52:return 112;case 53:return 113;case 54:return 114;case 55:return 115;case 56:return 116;case 57:return 117;case 58:return 118;case 59:return 119;case 60:return 120;case 61:return 121;case 62:return 122;case 63:return 123;case 64:return 124;case 65:return 125;case 66:return 126;case 67:return 37;case 68:return 38;case 69:return 39;case 70:return 40;case 71:return 18;case 72:return 192;case 73:return 220;case 74:return 8;case 75:return 20;case 76:return 188;case 77:return 15;case 78:return 17;case 79:return 46;case 80:return 35;case 81:return 13;case 82:return 187;case 83:return 27;case 84:return 36;case 85:return 45;case 86:return 219;case 87:return 189;case 88:return 34;case 89:return 33;case 90:return 190;case 91:return 222;case 92:return 221;case 93:return 186;case 94:return 16;case 95:return 191;case 96:return 32;case 97:return 9;case 98:return 16777234;case 99:return 16777247;case 100:return t.keyCode}};var Kt=function(){this._tickables=[]};Kt.__name__=!0,Kt.updateEntity=function(t,e){var n=t._compMap["SpeedAdjuster_2"];if(null!=n&&(n._realDt=e,e*=n.scale._value,e<=0))n.onUpdate(e);else{var i=t.firstComponent;while(null!=i){var r=i.next;0==(1&i._flags)&&(i._flags|=1,i.onStart()),i.onUpdate(e),i=r}i=t.firstChild;while(null!=i){r=i.next;Kt.updateEntity(i,e),i=r}}},Kt.prototype={update:function(t){if(t<=0)L.logger.warn("Zero or negative time elapsed since the last frame!",["dt",t]);else{t>1&&(t=1);var e=0;while(e<this._tickables.length){var n=this._tickables[e];null==n||n.update(t)?this._tickables.splice(e,1):++e}T.volume.update(t),Kt.updateEntity(T.root,t)}},render:function(t){var e=t.graphics;null!=e&&(t.willRender(),V.render(T.root,e),t.didRender())},addTickable:function(t){this._tickables.push(t)},__class__:Kt};var Ut=function(){};Ut.__name__=!0,Ut.nextPowerOfTwo=function(t){var e=1;while(e<t)e<<=1;return e};var Xt=function(){};Xt.__name__=!0,Xt.toButton=function(t){switch(t){case 0:return nt.Left;case 1:return nt.Middle;case 2:return nt.Right}return nt.Unknown(t)};var Gt=function(t){this._impl=t};Gt.__name__=!0,Gt.__interfaces__=[Ft],Gt.prototype={save:function(){this._impl.save()},transform:function(t,e,n,i,r,a){this._impl.transform(t,e,n,i,r,a)},multiplyAlpha:function(t){},setBlendMode:function(t){},applyScissor:function(t,e,n,i){this._impl.applyScissor(t,e,n,i)},restore:function(){this._impl.restore()},drawTexture:function(t,e,n){this.drawRegion(e,n,t.get_width(),t.get_height())},fillRect:function(t,e,n,i,r){this.drawRegion(e,n,i,r)},willRender:function(){this._impl.willRender(),this._impl.save(),this._impl.setBlendMode(Y.Add)},didRender:function(){this._impl.restore(),this._impl.didRender()},onResize:function(t,e){this._impl.onResize(t,e)},drawRegion:function(t,e,n,i){this._impl.fillRect(1052680,t,e,n,i)},__class__:Gt};var Yt=function(){};Yt.__name__=!0,Yt.__isInterface__=!0;var Wt=function(){};Wt.__name__=!0,Wt.__isInterface__=!0,Wt.prototype={__class__:Wt};var Vt=function(t,e){this._firstDraw=!1,this._canvasCtx=t.getContext("2d",{alpha:e})};Vt.__name__=!0,Vt.__interfaces__=[Ft],Vt.prototype={save:function(){this._canvasCtx.save()},transform:function(t,e,n,i,r,a){this._canvasCtx.transform(t,e,n,i,r,a)},restore:function(){this._canvasCtx.restore()},drawTexture:function(t,e,n){this.drawSubTexture(t,e,n,0,0,t.get_width(),t.get_height())},drawSubTexture:function(t,e,n,i,r,a,s){if(this._firstDraw)return this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(t,e,n,i,r,a,s),void(this._canvasCtx.globalCompositeOperation="source-over");var _=t,o=_.root;Ue.that(!o._disposed,"Asset cannot be used after being disposed"),this._canvasCtx.drawImage(o.image,_.rootX+i|0,_.rootY+r|0,0|a,0|s,0|e,0|n,0|a,0|s)},fillRect:function(t,e,n,i,r){if(this._firstDraw)return this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(t,e,n,i,r),void(this._canvasCtx.globalCompositeOperation="source-over");var a=(16777215&t).toString(16);while(a.length<6)a="0"+a;this._canvasCtx.fillStyle="#"+a,this._canvasCtx.fillRect(0|e,0|n,0|i,0|r)},multiplyAlpha:function(t){this._canvasCtx.globalAlpha*=t},setBlendMode:function(t){var e;switch(t._hx_index){case 0:e="source-over";break;case 1:e="lighter";break;case 2:e="multiply";break;case 3:e="screen";break;case 4:e="destination-in";break;case 5:e="copy";break}this._canvasCtx.globalCompositeOperation=e},applyScissor:function(t,e,n,i){this._canvasCtx.beginPath(),this._canvasCtx.rect(0|t,0|e,0|n,0|i),this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},onResize:function(t,e){},__class__:Vt};var jt=function(t){this.graphics=new Vt(t,!0),this._hasGPU=new y(!0)};jt.__name__=!0,jt.__interfaces__=[Bt],jt.prototype={get_type:function(){return Ke.Canvas},createTextureFromImage:function(t){var e=new zt(jt.CANVAS_TEXTURES?ue.createCanvas(t):t);return e.createTexture(e.width,e.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(t,e){return Ue.fail(),null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:jt};var Ht=function(t,e,n){xt.call(this,t,e,n)};Ht.__name__=!0,Ht.__super__=xt,Ht.prototype=o(xt.prototype,{__class__:Ht});var zt=function(t){this._graphics=null,this.updateCount=0,ht.call(this),this.image=t,this.width=t.width,this.height=t.height};zt.__name__=!0,zt.__interfaces__=[Yt],zt.__super__=ht,zt.prototype=o(ht.prototype,{createTexture:function(t,e){return new Ht(this,t,e)},copyFrom:function(t){this.image=t.image,this._graphics=t._graphics,++this.updateCount},onDisposed:function(){this.image=null,this._graphics=null},__class__:zt});var qt=function(t,e){lt.call(this,t,e)};qt.__name__=!0,qt.detectImageFormats=function(t){var e=[O.PNG,O.JPG,O.GIF],n=2,i=function(){n-=1,0==n&&t(e)},r=window.document.createElement("img");r.onload=r.onerror=function(t){1==r.width&&e.unshift(O.WEBP),i()},r.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var a=window.document.createElement("img");a.onload=a.onerror=function(t){1==a.width&&e.unshift(O.JXR),i()},a.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="},qt.detectAudioFormats=function(){var t=window.document.createElement("audio");if(null==t||null==t.canPlayType)return L.logger.warn("Audio is not supported at all in this browser!",null),[];var e=new u("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),n=r.navigator.userAgent;if(!pe.get_supported()&&e.match(n))return L.logger.warn("HTML5 audio is blacklisted for this browser",["userAgent",n]),[];var i=[{format:O.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:O.MP3,mimeType:"audio/mpeg"},{format:O.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:O.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:O.WAV,mimeType:"audio/wav"}],a=[],s=0;while(s<i.length){var _=i[s];++s;var o="";try{o=t.canPlayType(_.mimeType)}catch(h){}""!=o&&a.push(_.format)}return a},qt.supportsBlob=function(){if(qt._detectBlobSupport){if(qt._detectBlobSupport=!1,new u("\\bSilk\\b","").match(r.navigator.userAgent))return!1;if(null==window.Blob)return!1;var t=new XMLHttpRequest;if(t.open("GET",".",!0),""!=t.responseType)return!1;if(t.responseType="blob","blob"!=t.responseType)return!1;qt._URL=ue.loadExtension("URL").value}return null!=qt._URL&&null!=qt._URL.createObjectURL},qt.__super__=lt,qt.prototype=o(lt.prototype,{loadEntry:function(t,e){var n=this;switch(e.format._hx_index){case 0:case 1:case 2:case 3:case 4:var i=window.document.createElement("img"),r=new It;r.addDisposingListener(i,"load",(function(r){(i.width>1024||i.height>1024)&&L.logger.warn("Images larger than 1024px on a side will prevent GPU acceleration on some platforms (iOS)",["url",t,"width",i.width,"height",i.height]),qt.supportsBlob()&&qt._URL.revokeObjectURL(i.src);var a=n._platform.getRenderer().createTextureFromImage(i);null!=a?n.handleLoad(e,a):n.handleTextureError(e)})),r.addDisposingListener(i,"error",(function(t){n.handleError(e,"Failed to load image")})),qt.supportsBlob()?this.download(t,e,"blob",(function(t){i.src=qt._URL.createObjectURL(t)})):i.src=t;break;case 5:case 6:case 7:this.download(t,e,"arraybuffer",(function(t){var i=n._platform.getRenderer().createCompressedTexture(e.format,null);null!=i?n.handleLoad(e,i):n.handleTextureError(e)}));break;case 8:case 9:case 10:case 11:case 12:if(pe.get_supported())this.download(t,e,"arraybuffer",(function(i){pe.ctx.decodeAudioData(i,(function(t){n.handleLoad(e,new pe(t))}),(function(){L.logger.warn("Couldn't decode Web Audio, ignoring this asset",["url",t]),n.handleLoad(e,Mt.getInstance())}))}));else{var a=window.document.createElement("audio");a.preload="auto";var s=++qt._mediaRefCount;null==qt._mediaElements&&(qt._mediaElements=new wn),qt._mediaElements.h[s]=a;r=new It;r.addDisposingListener(a,"canplaythrough",(function(t){qt._mediaElements.remove(s),n.handleLoad(e,new re(a))})),r.addDisposingListener(a,"error",(function(i){qt._mediaElements.remove(s);var r=a.error.code;3==r||4==r?(L.logger.warn("Couldn't decode HTML5 audio, ignoring this asset",["url",t,"code",r]),n.handleLoad(e,Mt.getInstance())):n.handleError(e,"Failed to load audio: "+a.error.code)})),r.addListener(a,"progress",(function(t){if(a.buffered.length>0&&a.duration>0){var i=a.buffered.end(0)/a.duration;n.handleProgress(e,i*e.bytes|0)}})),a.src=t,a.load()}break;case 13:this.download(t,e,"text",(function(t){n.handleLoad(e,new dt(t))}));break}},getAssetFormats:function(t){var e=this;null==qt._supportedFormats&&(qt._supportedFormats=new Ye,qt.detectImageFormats((function(t){qt._supportedFormats.set_result(e._platform.getRenderer().getCompressedTextureFormats().concat(t).concat(qt.detectAudioFormats()).concat([O.Data]))}))),qt._supportedFormats.get(t)},download:function(t,e,n,i){var r=this,a=null,s=null,_=0,o=!1,u=function(){o&&(o=!1,window.clearInterval(_))},h=3,l=function(){return h-=1,h>=0&&(L.logger.warn("Retrying asset download",["url",e.url]),s(),!0)};s=function(){u(),null!=a&&a.abort(),a=new XMLHttpRequest,a.open("GET",t,!0),a.responseType=n;var s=0;a.onprogress=function(t){o||(o=!0,_=window.setInterval((function(){4!=a.readyState&&Date.now()-s>5e3&&(l()||(u(),r.handleError(e,"Download stalled")))}),1e3)),s=Date.now(),r.handleProgress(e,t.loaded)},a.onerror=function(t){0==a.status&&l()||(u(),r.handleError(e,"HTTP error "+a.status))},a.onload=function(t){var e=a.response;null==e&&(e=a.responseText),u(),i(e)},a.send()},s()},__class__:qt});var Qt=function(){var t=this;St.call(this),this._socket=new WebSocket("ws://"+r.location.host),this._socket.onerror=function(e){t.onError("unknown")},this._socket.onopen=function(t){L.logger.info("Catapult connected",null)},this._socket.onmessage=function(e){t.onMessage(e.data)}};Qt.__name__=!0,Qt.canUse=function(){return!1},Qt.__super__=St,Qt.prototype=o(St.prototype,{onRestart:function(){window.top.location.reload()},__class__:Qt});var Jt=function(){};Jt.__name__=!0,Jt.__isInterface__=!0;var Zt=function(){};Zt.__name__=!0,Zt.__interfaces__=[Jt],Zt.prototype={__class__:Zt};var $t=function(){};$t.__name__=!0,$t.__isInterface__=!0,$t.prototype={__class__:$t};var te=function(t){this._tagPrefix=t+": "};te.__name__=!0,te.__interfaces__=[$t],te.isSupported=function(){return"object"==typeof console&&null!=console.info},te.prototype={log:function(t,e){switch(e=this._tagPrefix+e,t._hx_index){case 0:console.info(e);break;case 1:console.warn(e);break;case 2:console.error(e);break}},__class__:te};var ee=function(){};ee.__name__=!0,ee.__isInterface__=!0;var ne=function(){var t=this,e=new Rt;this.acceleration=e;var n=new Rt;this.accelerationIncludingGravity=n;var i=new Rt;if(this.attitude=i,this.get_accelerationSupported()){this._sharedAcceleration=new Z,this._sharedAccelerationIncludingGravity=new Z;var r=null,a=function(i,a){null!=e._head||null!=n._head?null==r&&(r=new It,r.addListener(window,"devicemotion",kn(t,t.onDeviceMotion))):null!=r&&(r.dispose(),r=null)};e.hasListenersValue.get_changed().connect(a),n.hasListenersValue.get_changed().connect(a)}if(this.get_attitudeSupported()){this._sharedAttitude=new $;var s=null;i.hasListenersValue.get_changed().connect((function(e,n){e?(s=new It,s.addListener(window,"deviceorientation",kn(t,t.onDeviceOrientation))):(s.dispose(),s=null)}))}};ne.__name__=!0,ne.__interfaces__=[ee],ne.initAcceleration=function(t,e){switch(window.orientation){case-90:t.init(e.y,-e.x,e.z);break;case 0:t.init(e.x,e.y,e.z);break;case 90:t.init(-e.y,e.x,e.z);break;case 180:t.init(-e.x,-e.y,e.z);break}},ne.prototype={get_accelerationSupported:function(){return null!=window.DeviceMotionEvent},onDeviceMotion:function(t){null!=t.acceleration&&(ne.initAcceleration(this._sharedAcceleration,t.acceleration),this.acceleration.emit(this._sharedAcceleration)),null!=t.accelerationIncludingGravity&&(ne.initAcceleration(this._sharedAccelerationIncludingGravity,t.accelerationIncludingGravity),this.accelerationIncludingGravity.emit(this._sharedAccelerationIncludingGravity))},get_attitudeSupported:function(){return null!=window.DeviceOrientationEvent},onDeviceOrientation:function(t){switch(window.orientation){case-90:this._sharedAttitude.init(t.gamma,-t.beta,t.alpha);break;case 0:this._sharedAttitude.init(t.beta,t.gamma,t.alpha);break;case 90:this._sharedAttitude.init(-t.gamma,t.beta,t.alpha);break;case 180:this._sharedAttitude.init(-t.beta,-t.gamma,t.alpha);break}this.attitude.emit(this._sharedAttitude)},__class__:ne};var ie=function(t,e){gt.call(this,t),this._canvas=e};ie.__name__=!0,ie.__super__=gt,ie.prototype=o(gt.prototype,{__class__:ie});var re=function(t){ht.call(this),this.audioElement=t};re.__name__=!0,re.__interfaces__=[Ct],re.__super__=ht,re.prototype=o(ht.prototype,{play:function(t){return null==t&&(t=1),Ue.that(!this._disposed,"Asset cannot be used after being disposed"),new ae(this,t,!1)},copyFrom:function(t){this.audioElement=t.audioElement},onDisposed:function(){this.audioElement=null},__class__:re});var ae=function(t,e,n){var i=this;this._sound=t,this._tickableAdded=!1,this._clonedElement=window.document.createElement("audio"),this._clonedElement.loop=n,this._clonedElement.src=t.audioElement.src,this.volume=new E(e,(function(t,e){i.updateVolume()})),this.updateVolume(),this._complete=new y(!1),this.playAudio(),T.hidden._value&&this.set_paused(!0)};ae.__name__=!0,ae.__interfaces__=[Wt,Et],ae.prototype={set_paused:function(t){return this._clonedElement.paused!=t&&(t?this._clonedElement.pause():this.playAudio()),t},update:function(t){return this.volume.update(t),this._complete.set__(this._clonedElement.ended),!(!this._complete._value&&!this._clonedElement.paused)&&(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0)},dispose:function(){this.set_paused(!0),this._complete.set__(!0)},playAudio:function(){var t=this;this._clonedElement.play(),this._tickableAdded||(b.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=T.volume.get_changed().connect((function(e,n){t.updateVolume()})),this._hideBinding=T.hidden.get_changed().connect((function(e,n){e?(t._wasPaused=t._clonedElement.paused,t.set_paused(!0)):t.set_paused(t._wasPaused)})))},updateVolume:function(){this._clonedElement.volume=T.volume._value*this.volume._value},__class__:ae};var se=function(){};se.__name__=!0,se.__isInterface__=!0,se.prototype={__class__:se};var _e=function(t){var e=this;this._canvas=t,this.resize=new We,this.scaleFactor=_e.computeScaleFactor(),1!=this.scaleFactor&&(L.logger.info("Reversing device DPI scaling",["scaleFactor",this.scaleFactor]),ue.setVendorStyle(this._canvas,"transform-origin","top left"),ue.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")")),ue.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",(function(t){ue.callLater(kn(e,e.hideMobileBrowser),200)}),!1),this.hideMobileBrowser()),window.addEventListener("resize",kn(this,this.onWindowResize),!1),this.onWindowResize(null),this.orientation=new y(null),null!=window.orientation&&(window.addEventListener("orientationchange",kn(this,this.onOrientationChange),!1),this.onOrientationChange(null)),this.fullscreen=new y(!1),ue.addVendorListener(window.document,"fullscreenchange",(function(t){e.updateFullscreen()}),!1),ue.addVendorListener(window.document,"fullscreenerror",(function(t){L.logger.warn("Error when requesting fullscreen",null)}),!1),this.updateFullscreen()};_e.__name__=!0,_e.__interfaces__=[se],_e.computeScaleFactor=function(){var t=window.devicePixelRatio;null==t&&(t=1);var e=window.document.createElement("canvas"),n=e.getContext("2d",null),i=ue.loadExtension("backingStorePixelRatio",n).value;null==i&&(i=1);var r=t/i,a=window.screen.width,s=window.screen.height;return r*a>1136||r*s>1136?1:r},_e.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},onWindowResize:function(t){var e=this._canvas.parentElement,n=e.getBoundingClientRect();this.resizeCanvas(n.width,n.height)},resizeCanvas:function(t,e){var n=this.scaleFactor*t,i=this.scaleFactor*e;return(this._canvas.width!=n||this._canvas.height!=i)&&(this._canvas.width=0|n,this._canvas.height=0|i,this.resize.emit(),!0)},hideMobileBrowser:function(){var t=this,e=window.document.documentElement.style,n=d.string(window.innerHeight+100);e.height=n+"px";n=d.string(window.innerWidth);e.width=n+"px",e.overflow="visible",ue.callLater((function(){ue.hideMobileBrowser(),ue.callLater((function(){var n=d.string(window.innerHeight);e.height=n+"px",t.onWindowResize(null)}),100)}))},onOrientationChange:function(t){var e=ue.orientation(window.orientation);this.orientation.set__(e)},updateFullscreen:function(){var t=ue.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value;this.fullscreen.set__(1==t)},__class__:_e};var oe=function(t){this._storage=t};oe.__name__=!0,oe.__interfaces__=[kt],oe.prototype={__class__:oe};var ue=function(){};ue.__name__=!0,ue.callLater=function(t,e){null==e&&(e=0),window.setTimeout(t,e)},ue.hideMobileBrowser=function(){window.scrollTo(1,0)},ue.loadExtension=function(t,e){null==e&&(e=window);var n=c.field(e,t);if(null!=n)return{prefix:"",field:t,value:n};var i=t.charAt(0).toUpperCase()+h.substr(t,1,null),r=0,a=ue.VENDOR_PREFIXES;while(r<a.length){var s=a[r];++r;var _=s+i;n=c.field(e,_);if(null!=n)return{prefix:s,field:_,value:n}}return{prefix:null,field:null,value:null}},ue.loadFirstExtension=function(t,e){var n=0;while(n<t.length){var i=t[n];++n;var r=ue.loadExtension(i,e);if(null!=r.field)return r}return{prefix:null,field:null,value:null}},ue.polyfill=function(t,e){null==e&&(e=window);var n=ue.loadExtension(t,e).value;return null!=n&&(e[t]=n,!0)},ue.setVendorStyle=function(t,e,n){var i=t.style,r=0,a=ue.VENDOR_PREFIXES;while(r<a.length){var s=a[r];++r,i.setProperty("-"+s+"-"+e,n)}i.setProperty(e,n)},ue.addVendorListener=function(t,e,n,i){var r=0,a=ue.VENDOR_PREFIXES;while(r<a.length){var s=a[r];++r,t.addEventListener(s+e,n,i)}t.addEventListener(e,n,i)},ue.orientation=function(t){switch(t){case-90:case 90:return q.Landscape;default:return q.Portrait}},ue.createEmptyCanvas=function(t,e){var n=window.document.createElement("canvas");return n.width=t,n.height=e,n},ue.createCanvas=function(t){var e=ue.createEmptyCanvas(t.width,t.height),n=e.getContext("2d",null);return n.save(),n.globalCompositeOperation="copy",n.drawImage(t,0,0),n.restore(),e},ue.detectSlowDriver=function(t){var e=r.navigator.platform.indexOf("Win")>=0;if(e){var n=null!=window.chrome;if(n){var i=0,a=t.getSupportedExtensions();while(i<a.length){var s=a[i];if(++i,s.indexOf("WEBGL_compressed_texture")>=0)return!1}return!0}}return!1},ue.fixAndroidMath=function(){if(r.navigator.userAgent.indexOf("Linux; U; Android 4")>=0){L.logger.warn("Monkey patching around Android sin/cos bug",null);var t=Math.sin,e=Math.cos;Math.sin=function(e){return 0==e?0:t(e)},Math.cos=function(t){return 0==t?1:e(t)}}};var he=function(){};he.__name__=!0,he.__isInterface__=!0,he.prototype={__class__:he};var le=function(){this.stack=[]};le.__name__=!0,le.__interfaces__=[he],le.prototype={addView:function(t,e,n){var i={extends:t.default,methods:e},r=new de(i,n,this.stack);return this.stack.push(r),r},__class__:le};var ce=function(){};ce.__name__=!0,ce.__isInterface__=!0,ce.__interfaces__=[m];var de=function(t,e,n){this.def=t,this.props=e,this._stack=n};de.__name__=!0,de.__interfaces__=[ce],de.prototype={dispose:function(){h.remove(this._stack,this)},__class__:de};var pe=function(t){ht.call(this),this.buffer=t};pe.__name__=!0,pe.__interfaces__=[Ct],pe.get_supported=function(){if(pe._detectSupport){pe._detectSupport=!1;var t=ue.loadExtension("AudioContext").value;null!=t&&(pe.ctx=new t,pe.gain=pe.createGain(),pe.gain.connect(pe.ctx.destination),T.volume.watch((function(t,e){pe.gain.gain.value=t})))}return null!=pe.ctx},pe.createGain=function(){return null!=pe.ctx.createGain?pe.ctx.createGain():pe.ctx.createGainNode()},pe.start=function(t,e){null!=t.start?t.start(e):t.noteOn(e)},pe.__super__=ht,pe.prototype=o(ht.prototype,{play:function(t){return null==t&&(t=1),Ue.that(!this._disposed,"Asset cannot be used after being disposed"),new me(this,t,!1)},get_duration:function(){return Ue.that(!this._disposed,"Asset cannot be used after being disposed"),this.buffer.duration},copyFrom:function(t){this.buffer=t.buffer},onDisposed:function(){this.buffer=null},__class__:pe});var me=function(t,e,n){var i=this;this._sound=t,this._head=pe.gain,this._complete=new y(!1),this._sourceNode=pe.ctx.createBufferSource(),this._sourceNode.buffer=t.buffer,this._sourceNode.loop=n,this._sourceNode.onended=function(){i._complete.set__(!0)},pe.start(this._sourceNode,0),this.playAudio(),this.volume=new E(e,(function(t,e){i.setVolume(t)})),1!=e&&this.setVolume(e),T.hidden._value&&this.set_paused(!0)};me.__name__=!0,me.__interfaces__=[Wt,Et],me.prototype={set_paused:function(t){return t!=this._pausedAt>=0&&(t?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio()),t},get_position:function(){if(this._complete._value)return this._sound.get_duration();if(this._pausedAt>=0)return this._pausedAt;var t=pe.ctx.currentTime-this._startedAt;return t%this._sound.get_duration()},update:function(t){return this.volume.update(t),3==this._sourceNode.playbackState&&this._complete.set__(!0),!!(this._complete._value||this._pausedAt>=0)&&(this._tickableAdded=!1,this._hideBinding.dispose(),!0)},dispose:function(){this.set_paused(!0),this._complete.set__(!0)},setVolume:function(t){null==this._gainNode&&(this._gainNode=pe.createGain(),this.insertNode(this._gainNode)),this._gainNode.gain.value=t},insertNode:function(t){this._pausedAt>=0||(this._sourceNode.disconnect(),this._sourceNode.connect(t)),t.connect(this._head),this._head=t},playAudio:function(){var t=this;this._sourceNode.connect(this._head),this._startedAt=pe.ctx.currentTime,this._pausedAt=-1,this._tickableAdded||(b.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=T.hidden.get_changed().connect((function(e,n){e?(t._wasPaused=t._pausedAt>=0,t.set_paused(!0)):t.set_paused(t._wasPaused)})))},__class__:me};var fe=function(t){this._backbufferHeight=0,this._backbufferWidth=0,this._dataOffset=0,this._maxQuads=0,this._quads=0,this._pendingSetScissor=!1,this._currentRenderTarget=null,this._currentTexture=null,this._currentShader=null,this._currentBlendMode=null,this._lastScissor=null,this._lastTexture=null,this._lastShader=null,this._lastRenderTarget=null,this._lastBlendMode=null,this._gl=t,t.clearColor(0,0,0,0),t.enable(3042),t.pixelStorei(37441,1),this._vertexBuffer=t.createBuffer(),t.bindBuffer(34962,this._vertexBuffer),this._quadIndexBuffer=t.createBuffer(),t.bindBuffer(34963,this._quadIndexBuffer),this._drawTextureShader=new Ae(t),this._drawPatternShader=new Se(t),this._fillRectShader=new Ce(t),this.resize(16)};fe.__name__=!0,fe.prototype={resizeBackbuffer:function(t,e){this._gl.viewport(0,0,t,e),this._backbufferWidth=t,this._backbufferHeight=e},willRender:function(){this._gl.clear(16384)},didRender:function(){this.flush()},bindTexture:function(t){this.flush(),this._lastTexture=null,this._currentTexture=null,this._gl.bindTexture(3553,t)},deleteTexture:function(t){null!=this._lastTexture&&this._lastTexture.root==t&&(this.flush(),this._lastTexture=null,this._currentTexture=null),this._gl.deleteTexture(t.nativeTexture)},deleteFramebuffer:function(t){t==this._lastRenderTarget&&(this.flush(),this._lastRenderTarget=null,this._currentRenderTarget=null),this._gl.deleteFramebuffer(t.framebuffer)},prepareDrawTexture:function(t,e,n,i){return i!=this._lastTexture&&(this.flush(),this._lastTexture=i),this.prepareQuad(5,t,e,n,this._drawTextureShader)},prepareFillRect:function(t,e,n){return this.prepareQuad(6,t,e,n,this._fillRectShader)},prepareQuad:function(t,e,n,i,r){e!=this._lastRenderTarget&&(this.flush(),this._lastRenderTarget=e),n!=this._lastBlendMode&&(this.flush(),this._lastBlendMode=n),r!=this._lastShader&&(this.flush(),this._lastShader=r),null==i&&null==this._lastScissor||null!=i&&null!=this._lastScissor&&this._lastScissor.equals(i)||(this.flush(),this._lastScissor=null!=i?i.clone(this._lastScissor):null,this._pendingSetScissor=!0),this._quads>=this._maxQuads&&this.resize(2*this._maxQuads),++this._quads;var a=this._dataOffset;return this._dataOffset+=4*t,a},flush:function(){if(!(this._quads<1)){if(this._lastRenderTarget!=this._currentRenderTarget&&this.bindRenderTarget(this._lastRenderTarget),this._lastBlendMode!=this._currentBlendMode){switch(this._lastBlendMode._hx_index){case 0:this._gl.blendFunc(1,771);break;case 1:this._gl.blendFunc(1,1);break;case 2:this._gl.blendFunc(774,771);break;case 3:this._gl.blendFunc(1,769);break;case 4:this._gl.blendFunc(0,770);break;case 5:this._gl.blendFunc(1,0);break}this._currentBlendMode=this._lastBlendMode}if(this._pendingSetScissor&&(null!=this._lastScissor?(this._gl.enable(3089),this._gl.scissor(0|this._lastScissor.x,0|this._lastScissor.y,0|this._lastScissor.width,0|this._lastScissor.height)):this._gl.disable(3089),this._pendingSetScissor=!1),this._lastTexture!=this._currentTexture&&(this._gl.bindTexture(3553,this._lastTexture.root.nativeTexture),this._currentTexture=this._lastTexture),this._lastShader!=this._currentShader&&(this._lastShader.useProgram(),this._lastShader.prepare(),this._currentShader=this._lastShader),this._lastShader==this._drawPatternShader){var t=this._lastTexture,e=t.root;this._drawPatternShader.setRegion(t.rootX/e.width,t.rootY/e.height,t._width/e.width,t._height/e.height)}this._gl.bufferData(34962,this.data.subarray(0,this._dataOffset),35040),this._gl.drawElements(4,6*this._quads,5123,0),this._quads=0,this._dataOffset=0}},resize:function(t){if(this.flush(),!(t>1024)){this._maxQuads=t,this.data=new Float32Array(4*t*6),this._gl.bufferData(34962,this.data.length*Float32Array.BYTES_PER_ELEMENT,35040);var e=new Uint16Array(6*t),n=0;while(n<t){var i=n++;e[6*i]=4*i,e[6*i+1]=4*i+1,e[6*i+2]=4*i+2,e[6*i+3]=4*i+2,e[6*i+4]=4*i+3,e[6*i+5]=4*i}this._gl.bufferData(34963,e,35044)}},bindRenderTarget:function(t){null!=t?(this._gl.bindFramebuffer(36160,t.framebuffer),this._gl.viewport(0,0,t.width,t.height)):(this._gl.bindFramebuffer(36160,null),this._gl.viewport(0,0,this._backbufferWidth,this._backbufferHeight)),this._currentRenderTarget=t,this._lastRenderTarget=t},__class__:fe};var ge=function(t,e){this._stateList=null,this._inverseProjection=null,null==ge._scratchQuadArray&&(ge._scratchQuadArray=new Float32Array(8)),this._batcher=t,this._renderTarget=e};ge.__name__=!0,ge.__interfaces__=[Ft],ge.prototype={save:function(){var t=this._stateList,e=this._stateList.next;null==e&&(e=new ve,e.prev=t,t.next=e),t.matrix.clone(e.matrix),e.alpha=t.alpha,e.blendMode=t.blendMode,e.scissor=null!=t.scissor?t.scissor.clone(e.scissor):null,this._stateList=e},transform:function(t,e,n,i,r,a){var s=this._stateList;ge._scratchMatrix.set(t,e,n,i,r,a),ot.multiply(s.matrix,ge._scratchMatrix,s.matrix)},restore:function(){Ue.that(null!=this._stateList.prev,"Can't restore without a previous save"),this._stateList=this._stateList.prev},drawTexture:function(t,e,n){this.drawSubTexture(t,e,n,0,0,t.get_width(),t.get_height())},drawSubTexture:function(t,e,n,i,r,a,s){var _=this._stateList,o=t,u=o.root;Ue.that(!u._disposed,"Asset cannot be used after being disposed");var h=this.transformQuad(e,n,a,s),l=u.width,c=u.height,d=(o.rootX+i)/l,p=(o.rootY+r)/c,m=d+a/l,f=p+s/c,g=_.alpha,v=this._batcher.prepareDrawTexture(this._renderTarget,_.blendMode,_.scissor,o),w=this._batcher.data;w[v]=h[0],w[++v]=h[1],w[++v]=d,w[++v]=p,w[++v]=g,w[++v]=h[2],w[++v]=h[3],w[++v]=m,w[++v]=p,w[++v]=g,w[++v]=h[4],w[++v]=h[5],w[++v]=m,w[++v]=f,w[++v]=g,w[++v]=h[6],w[++v]=h[7],w[++v]=d,w[++v]=f,w[++v]=g},fillRect:function(t,e,n,i,r){var a=this._stateList,s=this.transformQuad(e,n,i,r),_=(16711680&t)/16711680,o=(65280&t)/65280,u=(255&t)/255,h=a.alpha,l=this._batcher.prepareFillRect(this._renderTarget,a.blendMode,a.scissor),c=this._batcher.data;c[l]=s[0],c[++l]=s[1],c[++l]=_,c[++l]=o,c[++l]=u,c[++l]=h,c[++l]=s[2],c[++l]=s[3],c[++l]=_,c[++l]=o,c[++l]=u,c[++l]=h,c[++l]=s[4],c[++l]=s[5],c[++l]=_,c[++l]=o,c[++l]=u,c[++l]=h,c[++l]=s[6],c[++l]=s[7],c[++l]=_,c[++l]=o,c[++l]=u,c[++l]=h},multiplyAlpha:function(t){this._stateList.alpha*=t},setBlendMode:function(t){this._stateList.blendMode=t},applyScissor:function(t,e,n,i){var r=this._stateList,a=ge._scratchQuadArray;a[0]=t,a[1]=e,a[2]=t+n,a[3]=e+i,r.matrix.transformArray(a,4,a),this._inverseProjection.transformArray(a,4,a),t=a[0],e=a[1],n=a[2]-t,i=a[3]-e,n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i),r.applyScissor(t,e,n,i)},willRender:function(){this._batcher.willRender()},didRender:function(){this._batcher.didRender()},onResize:function(t,e){this._stateList=new ve;var n=null!=this._renderTarget?-1:1;this._stateList.matrix.set(2/t,0,0,-2*n/e,-1,n),this._inverseProjection=new ot,this._inverseProjection.set(2/t,0,0,2/e,-1,-1),this._inverseProjection.invert()},transformQuad:function(t,e,n,i){var r=t+n,a=e+i,s=ge._scratchQuadArray;return s[0]=t,s[1]=e,s[2]=r,s[3]=e,s[4]=r,s[5]=a,s[6]=t,s[7]=a,this._stateList.matrix.transformArray(s,8,s),s},__class__:ge};var ve=function(){this.next=null,this.prev=null,this.scissor=null,this.matrix=new ot,this.alpha=1,this.blendMode=Y.Normal};ve.__name__=!0,ve.prototype={applyScissor:function(t,e,n,i){if(null!=this.scissor){var r=this.scissor.x,a=r>t?r:t,s=(r=this.scissor.y,r>e?r:e),_=(r=this.scissor.x+this.scissor.width,t+n),o=r<_?r:_,u=(r=this.scissor.y+this.scissor.height,_=e+i,r<_?r:_);t=a,e=s,n=o-a,i=u-s}else this.scissor=new ut;this.scissor.set(Math.round(t),Math.round(e),Math.round(n),Math.round(i))},__class__:ve};var we=function(t,e){var n=this;this._hasGPU=new y(!0),this.gl=e,e.canvas.addEventListener("webglcontextlost",(function(t){t.preventDefault(),L.logger.warn("WebGL context lost",null),n._hasGPU.set__(!1)}),!1),e.canvas.addEventListener("webglcontextrestore",(function(t){L.logger.warn("WebGL context restored",null),n.init(),n._hasGPU.set__(!0)}),!1),t.resize.connect(kn(this,this.onResize)),this.init()};we.__name__=!0,we.__interfaces__=[Bt],we.prototype={get_type:function(){return Ke.WebGL},createTextureFromImage:function(t){if(this.gl.isContextLost())return null;var e=new be(this,t.width,t.height);return e.uploadImageData(t),e.createTexture(t.width,t.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(t,e){return this.gl.isContextLost()||Ue.fail(),null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},onResize:function(){var t=this.gl.canvas.width,e=this.gl.canvas.height;this.batcher.resizeBackbuffer(t,e),this.graphics.onResize(t,e)},init:function(){this.batcher=new fe(this.gl),this.graphics=new ge(this.batcher,null),this.onResize()},__class__:we};var xe=function(t,e,n){xt.call(this,t,e,n)};xe.__name__=!0,xe.__super__=xt,xe.prototype=o(xt.prototype,{__class__:xe});var be=function(t,e,n){this._graphics=null,this.framebuffer=null,ht.call(this),this._renderer=t;var i=Ut.nextPowerOfTwo(e);this.width=2>i?2:i;i=Ut.nextPowerOfTwo(n);this.height=2>i?2:i;var r=t.gl;this.nativeTexture=r.createTexture(),t.batcher.bindTexture(this.nativeTexture),r.texParameteri(3553,10242,33071),r.texParameteri(3553,10243,33071),r.texParameteri(3553,10240,9729),r.texParameteri(3553,10241,9729)};be.__name__=!0,be.__interfaces__=[Yt],be.drawBorder=function(t,e,n){var i=t.getContext("2d",null);i.drawImage(t,e-1,0,1,n,e,0,1,n),i.drawImage(t,0,n-1,e,1,0,n,e,1)},be.__super__=ht,be.prototype=o(ht.prototype,{createTexture:function(t,e){return new xe(this,t,e)},uploadImageData:function(t){if(Ue.that(!this._disposed,"Asset cannot be used after being disposed"),this.width!=t.width||this.height!=t.height){var e=ue.createEmptyCanvas(this.width,this.height);e.getContext("2d",null).drawImage(t,0,0),be.drawBorder(e,t.width,t.height),t=e}this._renderer.batcher.bindTexture(this.nativeTexture);var n=this._renderer.gl;n.texImage2D(3553,0,6408,6408,5121,t)},copyFrom:function(t){this.nativeTexture=t.nativeTexture,this.framebuffer=t.framebuffer,this.width=t.width,this.height=t.height,this._graphics=t._graphics},onDisposed:function(){var t=this._renderer.batcher;t.deleteTexture(this),null!=this.framebuffer&&t.deleteFramebuffer(this),this.nativeTexture=null,this.framebuffer=null,this._graphics=null},__class__:be});var ye=function(t,e,n){if(n=["#ifdef GL_ES","precision mediump float;","#endif"].join("\n")+"\n"+n,this._gl=t,this._program=t.createProgram(),t.attachShader(this._program,ye.createShader(t,35633,e)),t.attachShader(this._program,ye.createShader(t,35632,n)),t.linkProgram(this._program),t.useProgram(this._program),!t.getProgramParameter(this._program,35714)){var i=["log",t.getProgramInfoLog(this._program)];L.logger.error("Error linking shader program",i)}};ye.__name__=!0,ye.createShader=function(t,e,n){var i=t.createShader(e);if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,35713)){var r=35633==e?"vertex":"fragment",a=["log",t.getShaderInfoLog(i)];L.logger.error("Error compiling "+r+" shader",a)}return i},ye.prototype={useProgram:function(){this._gl.useProgram(this._program)},prepare:function(){Ue.fail("abstract")},getAttribLocation:function(t){var e=this._gl.getAttribLocation(this._program,t);return Ue.that(e>=0,"Missing attribute",["name",t]),e},getUniformLocation:function(t){var e=this._gl.getUniformLocation(this._program,t);return Ue.that(null!=e,"Missing uniform",["name",t]),e},__class__:ye};var Se=function(t){ye.call(this,t,["attribute highp vec2 a_pos;","attribute mediump vec2 a_uv;","attribute lowp float a_alpha;","varying mediump vec2 v_uv;","varying lowp float v_alpha;","void main (void) {","v_uv = a_uv;","v_alpha = a_alpha;","gl_Position = vec4(a_pos, 0, 1);","}"].join("\n"),["varying mediump vec2 v_uv;","varying lowp float v_alpha;","uniform lowp sampler2D u_texture;","uniform mediump vec4 u_region;","void main (void) {","gl_FragColor = texture2D(u_texture, u_region.xy + mod(v_uv, u_region.zw)) * v_alpha;","}"].join("\n")),this.a_pos=this.getAttribLocation("a_pos"),this.a_uv=this.getAttribLocation("a_uv"),this.a_alpha=this.getAttribLocation("a_alpha"),this.u_texture=this.getUniformLocation("u_texture"),this.u_region=this.getUniformLocation("u_region"),this.setTexture(0)};Se.__name__=!0,Se.__super__=ye,Se.prototype=o(ye.prototype,{setTexture:function(t){this._gl.uniform1i(this.u_texture,t)},setRegion:function(t,e,n,i){this._gl.uniform4f(this.u_region,t,e,n,i)},prepare:function(){this._gl.enableVertexAttribArray(this.a_pos),this._gl.enableVertexAttribArray(this.a_uv),this._gl.enableVertexAttribArray(this.a_alpha);var t=Float32Array.BYTES_PER_ELEMENT,e=5*t;this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,e,0*t),this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,e,2*t),this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,e,4*t)},__class__:Se});var Ae=function(t){ye.call(this,t,["attribute highp vec2 a_pos;","attribute mediump vec2 a_uv;","attribute lowp float a_alpha;","varying mediump vec2 v_uv;","varying lowp float v_alpha;","void main (void) {","v_uv = a_uv;","v_alpha = a_alpha;","gl_Position = vec4(a_pos, 0, 1);","}"].join("\n"),["varying mediump vec2 v_uv;","varying lowp float v_alpha;","uniform lowp sampler2D u_texture;","void main (void) {","gl_FragColor = texture2D(u_texture, v_uv) * v_alpha;","}"].join("\n")),this.a_pos=this.getAttribLocation("a_pos"),this.a_uv=this.getAttribLocation("a_uv"),this.a_alpha=this.getAttribLocation("a_alpha"),this.u_texture=this.getUniformLocation("u_texture"),this.setTexture(0)};Ae.__name__=!0,Ae.__super__=ye,Ae.prototype=o(ye.prototype,{setTexture:function(t){this._gl.uniform1i(this.u_texture,t)},prepare:function(){this._gl.enableVertexAttribArray(this.a_pos),this._gl.enableVertexAttribArray(this.a_uv),this._gl.enableVertexAttribArray(this.a_alpha);var t=Float32Array.BYTES_PER_ELEMENT,e=5*t;this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,e,0*t),this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,e,2*t),this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,e,4*t)},__class__:Ae});var Ce=function(t){ye.call(this,t,["attribute highp vec2 a_pos;","attribute lowp vec3 a_rgb;","attribute lowp float a_alpha;","varying lowp vec4 v_color;","void main (void) {","v_color = vec4(a_rgb*a_alpha, a_alpha);","gl_Position = vec4(a_pos, 0, 1);","}"].join("\n"),["varying lowp vec4 v_color;","void main (void) {","gl_FragColor = v_color;","}"].join("\n")),this.a_pos=this.getAttribLocation("a_pos"),this.a_rgb=this.getAttribLocation("a_rgb"),this.a_alpha=this.getAttribLocation("a_alpha")};Ce.__name__=!0,Ce.__super__=ye,Ce.prototype=o(ye.prototype,{prepare:function(){this._gl.enableVertexAttribArray(this.a_pos),this._gl.enableVertexAttribArray(this.a_rgb),this._gl.enableVertexAttribArray(this.a_alpha);var t=Float32Array.BYTES_PER_ELEMENT,e=6*t;this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,e,0*t),this._gl.vertexAttribPointer(this.a_rgb,3,5126,!1,e,2*t),this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,e,5*t)},__class__:Ce});var Me=function(){this._transitor=null,f.call(this),this.scenes=[],this.occludedScenes=[],this._root=new v};Me.__name__=!0,Me.__super__=f,Me.prototype=o(f.prototype,{get_name:function(){return"Director_1"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();var t=0,e=this.scenes;while(t<e.length){var n=e[t];++t,n.dispose()}this.scenes=[],this.occludedScenes=[],this._root.dispose()},onUpdate:function(t){null!=this._transitor&&this._transitor.update(t)&&this.completeTransition()},get_topScene:function(){var t=this.scenes.length;return t>0?this.scenes[t-1]:null},show:function(t){var e=t._compMap["Scene_3"];null!=e&&e.shown.emit()},invalidateVisibility:function(){var t=this.scenes.length;while(t>0){var e=this.scenes[--t],n=e._compMap["Scene_3"];if(null==n||n.opaque)break}this.occludedScenes=this.scenes.length>0?this.scenes.slice(t,this.scenes.length-1):[];e=this.get_topScene();null!=e&&this.show(e)},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},__class__:Me});var Ee=function(t,e,n,i){this._from=t,this._to=e,this._transition=n,this._onComplete=i};Ee.__name__=!0,Ee.prototype={update:function(t){return this._transition.update(t)},complete:function(){this._transition.complete(),this._onComplete()},__class__:Ee};var Te=function(t){null==t&&(t=!0),f.call(this),this.opaque=t,this.shown=new We,this.hidden=new We};Te.__name__=!0,Te.__super__=f,Te.prototype=o(f.prototype,{get_name:function(){return"Scene_3"},__class__:Te});var ke=function(){};ke.__name__=!0,ke.prototype={update:function(t){return!0},complete:function(){},__class__:ke};var Le=function(){};Le.__name__=!0,Le.__isInterface__=!0,Le.prototype={__class__:Le};var Pe=function(t,e,n,i){this._value=t,this._to=e,this._seconds=n,this._easing=i};Pe.__name__=!0,Pe.__interfaces__=[Le],Pe.prototype={update:function(t,e){if(null==this._tween&&(this._tween=new D(this._value._value,this._to,this._seconds,this._easing),this._value.set_behavior(this._tween),this._value.update(t)),this._value._behavior!=this._tween){var n=this._tween.elapsed-this._seconds;return this._tween=null,n>0?Math.max(0,t-n):0}return-1},__class__:Pe};var Ie=function(t){this._fn=t};Ie.__name__=!0,Ie.__interfaces__=[Le],Ie.prototype={update:function(t,e){return this._fn(),0},__class__:Ie};var Ne=function(t){this._duration=t,this._elapsed=0};Ne.__name__=!0,Ne.__interfaces__=[Le],Ne.prototype={update:function(t,e){if(this._elapsed+=t,this._elapsed>=this._duration){var n=this._elapsed-this._duration;return this._elapsed=0,t-n}return-1},__class__:Ne};var Re=function(t){this._completedActions=[],this._runningActions=null!=t?t.slice():[]};Re.__name__=!0,Re.__interfaces__=[Le],Re.prototype={update:function(t,e){var n=!0,i=0,r=0,a=this._runningActions.length;while(r<a){var s=r++,_=this._runningActions[s];if(null!=_){var o=_.update(t,e);o>=0?(this._runningActions[s]=null,this._completedActions.push(_),o>i&&(i=o)):n=!1}}return n?(this._runningActions=this._completedActions,this._completedActions=[],i):-1},__class__:Re};var Fe=function(t,e){null==e&&(e=-1),this._action=t,this._count=e,this._remaining=e};Fe.__name__=!0,Fe.__interfaces__=[Le],Fe.prototype={update:function(t,e){if(0==this._count)return 0;var n=this._action.update(t,e);return this._count>0&&n>=0&&0==--this._remaining?(this._remaining=this._count,n):-1},__class__:Fe};var De=function(){f.call(this),this.stopAll()};De.__name__=!0,De.__super__=f,De.prototype=o(f.prototype,{get_name:function(){return"Script_15"},run:function(t){var e=new Be(t);return this._handles.push(e),e},stopAll:function(){this._handles=[]},onUpdate:function(t){var e=0;while(e<this._handles.length){var n=this._handles[e];n.removed||n.action.update(t,this.owner)>=0?this._handles.splice(e,1):++e}},__class__:De});var Be=function(t){this.removed=!1,this.action=t};Be.__name__=!0,Be.__interfaces__=[m],Be.prototype={dispose:function(){this.removed=!0,this.action=null},__class__:Be};var Oe=function(t){this._idx=0,this._runningActions=null!=t?t.slice():[]};Oe.__name__=!0,Oe.__interfaces__=[Le],Oe.prototype={update:function(t,e){var n=0;while(1){var i=this._runningActions[this._idx];if(null!=i){var r=i.update(t-n,e);if(!(r>=0))return-1;n+=r}if(++this._idx,this._idx>=this._runningActions.length){this._idx=0;break}if(n>t)return-1}return n},__class__:Oe};var Ke=_["flambe.subsystem.RendererType"]={__ename__:!0,__constructs__:null,Stage3D:{_hx_name:"Stage3D",_hx_index:0,__enum__:"flambe.subsystem.RendererType",toString:s},WebGL:{_hx_name:"WebGL",_hx_index:1,__enum__:"flambe.subsystem.RendererType",toString:s},Canvas:{_hx_name:"Canvas",_hx_index:2,__enum__:"flambe.subsystem.RendererType",toString:s}};Ke.__constructs__=[Ke.Stage3D,Ke.WebGL,Ke.Canvas];var Ue=function(){};Ue.__name__=!0,Ue.that=function(t,e,n){t||Ue.fail(e,n)},Ue.fail=function(t,e){var n="Assertion failed!";throw null!=t&&(n="Assertion failed! "+t),null!=e&&(n=je.withFields(n,e)),gn.thrown(n)};var Xe=function(){};Xe.__name__=!0,Xe.set=function(t,e,n){return n?t|e:t&~e};var Ge=_["flambe.util.LogLevel"]={__ename__:!0,__constructs__:null,Info:{_hx_name:"Info",_hx_index:0,__enum__:"flambe.util.LogLevel",toString:s},Warn:{_hx_name:"Warn",_hx_index:1,__enum__:"flambe.util.LogLevel",toString:s},Error:{_hx_name:"Error",_hx_index:2,__enum__:"flambe.util.LogLevel",toString:s}};Ge.__constructs__=[Ge.Info,Ge.Warn,Ge.Error];var Ye=function(){this.success=new M,this.error=new M,this.progressChanged=new We,this.hasResult=!1,this._progress=0,this._total=0};Ye.__name__=!0,Ye.prototype={set_result:function(t){if(this.hasResult)throw gn.thrown("Promise result already assigned");return this._result=t,this.hasResult=!0,this.success.emit(t),t},get:function(t){return this.hasResult?(t(this._result),null):this.success.connect(t).once()},set_progress:function(t){return this._progress!=t&&(this._progress=t,this.progressChanged.emit()),t},set_total:function(t){return this._total!=t&&(this._total=t,this.progressChanged.emit()),t},__class__:Ye};var We=function(t){A.call(this,t)};We.__name__=!0,We.__super__=A,We.prototype=o(A.prototype,{connect:function(t,e){return null==e&&(e=!1),this.connectImpl(t,e)},emit:function(){var t=this;this._head==A.DISPATCHING_SENTINEL?this.defer((function(){t.emitImpl()})):this.emitImpl()},emitImpl:function(){var t=this.willEmit(),e=t;while(null!=e)e._listener(),e.stayInList||e.dispose(),e=e._next;this.didEmit(t)},__class__:We});var Ve=function(t){this.next=null,this.fn=t};Ve.__name__=!0,Ve.prototype={__class__:Ve};var je=function(){};je.__name__=!0,je.getFileExtension=function(t){var e=t.lastIndexOf(".");return e>0?h.substr(t,e+1,null):null},je.removeFileExtension=function(t){var e=t.lastIndexOf(".");return e>0?h.substr(t,0,e):t},je.getUrlExtension=function(t){var e=t.lastIndexOf("?");e>=0&&(t=h.substr(t,0,e));var n=t.lastIndexOf("/");return n>=0&&(t=h.substr(t,n+1,null)),je.getFileExtension(t)},je.joinPath=function(t,e){return t.length>0&&47!=t.charCodeAt(t.length-1)&&(t+="/"),t+e},je.withFields=function(t,e){var n=e.length;if(n>0){t+=t.length>0?" [":"[";var i=0;while(i<n){i>0&&(t+=", ");var r=e[i],a=e[i+1];if(Cn.__instanceof(a,Error)){var s=a.stack;null!=s&&(a=s)}t+=r+"="+d.string(a),i+=2}t+="]"}return t};var He=function(t){f.call(this),this.init(t)};He.__name__=!0,He.__super__=f,He.prototype=o(f.prototype,{get_name:function(){return"Background_20"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},nextState:function(){var t=this._title._compMap["Sprite_0"];t.y.animateTo(-600,2,R.cubeOut),t.x.animateTo(1400,2,R.cubeOut),t.rotation.animateTo(-20,2,R.cubeOut),this._flamingo.anchorX.animateTo(-140,2,R.cubeOut),this._flamingo.anchorY.animateTo(60,2,R.cubeOut)},init:function(t){this._root=new v,this._root.add(new z(t.getTexture("mainBack")));var e=t.getTexture("title");this._title=(new v).add(new z(e).centerAnchor().setXY(390+e.get_width()/2,179+e.get_height()/2)),this._title._compMap["Sprite_0"].rotation.set_behavior(new F(-3,3,5)),this._flamingo=new z(t.getTexture("flamingo")).setXY(1131,594),this._flamingo.x.set_behavior(new F(1101,1161,5)),this._flamingo.rotation.set_behavior(new F(-5,5,10));var n=new z(t.getTexture("cloud")).setXY(0,54),i=new z(t.getTexture("cloud")).setXY(1039,168),r=new z(t.getTexture("cloud")).setXY(1340,51);n.x.set_behavior(new F(-30,30,5)),n.y.set_behavior(new F(39,69,10)),i.x.set_behavior(new F(1009,1069,5)),i.y.set_behavior(new F(153,183,10)),r.x.set_behavior(new F(1310,1370,5)),r.y.set_behavior(new F(36,66,10)),this._root.addChild((new v).add(n)).addChild((new v).add(i)).addChild((new v).add(r)).add(new ze(t)).addChild(this._title).addChild((new v).add(this._flamingo))},__class__:He});var ze=function(t){f.call(this),this.init(t)};ze.__name__=!0,ze.__super__=f,ze.prototype=o(f.prototype,{get_name:function(){return"BackgroundSun_19"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},onUpdate:function(t){var e=this._stripes.rotation;e.set__(e._value+20*t)},init:function(t){this._root=new v,this._root.add((new V).setXY(300,90)),this._root._compMap["Sprite_0"].anchorX.set_behavior(new F(-20,20,5)),this._root._compMap["Sprite_0"].anchorY.set_behavior(new F(20,0,2.5)),this._root.addChild((new v).add(this._stripes=new z(t.getTexture("sun/sunStripes")).centerAnchor())).addChild((new v).add(this._sun=new z(t.getTexture("sun/sun")).centerAnchor())).addChild((new v).add(new z(t.getTexture("sun/ear")).setXY(-125,-35))).addChild((new v).add(new Qe(t,-14,-50))).addChild((new v).add(new Qe(t,72,-50))).add(new qe(t))},__class__:ze});var qe=function(t){f.call(this),this.init(t)};qe.__name__=!0,qe.__super__=f,qe.prototype=o(f.prototype,{get_name:function(){return"BackgroundSunSmile_18"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(t){this._root=new v,this._root.addChild((new v).add(new z(t.getTexture("sun/mouthSmile")).setXY(10,55)))},__class__:qe});var Qe=function(t,e,n){f.call(this),this.init(t,e,n)};Qe.__name__=!0,Qe.__super__=f,Qe.prototype=o(f.prototype,{get_name:function(){return"BackgroundSunEye_17"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(t,e,n){this._root=(new v).add((new V).setXY(e,n));var i=t.getTexture("sun/eye");this._root.addChild((new v).add(new j(16047817,i.get_width()-4,i.get_height()-4).setXY(2,2))),this._root.addChild((new v).add(this._pupil=new z(t.getTexture("sun/eyePupil")).setXY(38,70).centerAnchor())),this._root.addChild((new v).add(new z(i))),this._root.addChild((new v).add(this._brow=new z(t.getTexture("sun/eyebrow")).setXY(36,10).centerAnchor()))},__class__:Qe});var Je=function(){};Je.__name__=!0,Je.addStates=function(t,e,n){null==n&&(n=new g);var i=!1;return n.add(t.get_pointerIn().connect((function(e){t.setScale(1.05)}))),n.add(t.get_pointerOut().connect((function(e){t.setScale(1)}))),n.add(t.get_pointerDown().connect((function(e){t.setScale(.95),i=!0}))),T.assertCalledInit(),n.add(T._platform.getPointer().up.connect((function(n){t.setScale(1),i&&n.hit==t&&(i=!1,e())}))),n};var Ze=function(t,e){V.call(this),this._width=t,this._height=e,this.scissor=new ut(0,0,this._width,this._height)};Ze.__name__=!0,Ze.getSize=i["game"]["Container"]["getSize"]=function(t,e,n,i){var r=e/t,a=i/n,s=0,_=0;return a<r?(_=i,s=i/r):(s=n,_=n*r),Ze._scratch.scale=s/t,Ze._scratch.x=(n-s)/2,Ze._scratch.y=(i-_)/2,Ze._scratch},Ze.__super__=V,Ze.prototype=o(V.prototype,{getNaturalWidth:function(){return this._width},getNaturalHeight:function(){return this._height},draw:function(t){t.fillRect(13421772,0,0,this._width,this._height)},setSize:function(t,e){var n=Ze.getSize(this._width,this._height,t,e);return this.setScale(n.scale),this.setXY(n.x,n.y),this},__class__:Ze});var $e=function(t,e,n){this._rotation=new E(0),this._anchorY=new E(0),this._anchorX=new E(0),this._isGameplay=!1,this._elapsed=0,f.call(this),this.init(t,e,n)};$e.__name__=!0,$e.__super__=f,$e.prototype=o(f.prototype,{get_name:function(){return"Game_7"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root),this._disposer.dispose()},onUpdate:function(t){this._anchorX.update(t),this._anchorY.update(t),this._rotation.update(t),this._isGameplay&&(this._elapsed+=t,this._elapsed>5&&(this._elapsed=0,Math.random()>.5?this._thirstyArms.wave():this._thirstyArms.slam()))},init:function(t,e,n){this._anchorX.set__(1900),this._disposer=new g,this._root=new v,this._meterTime=(new v).add(new un(t,100,180,"timeFront")),this._meterDrink=(new v).add(new un(t,1760,180,"drinkFront")),this._root.add(new He(t)).add(new an(t)).addChild((new v).add(this._thirstyPerson=new dn(t,e,n))).add(new on(t,n)).addChild((new v).add(this._thirstyArms=new ln(t,e,n))).add(this._barDrinks=new _n(t)).addChild(this._meterTime).addChild(this._meterDrink),this._thirstyPerson.bindTo(this._anchorX,this._anchorY,this._rotation),this._thirstyArms.bindTo(this._anchorX,this._anchorY,this._rotation),this._disposer.add(this._root._compMap["PlayButton_21"].click.connect(kn(this,this.nextState)).once())},nextState:function(){var t=this;this._root._compMap["Background_20"].nextState(),this._anchorY.set_behavior(new F(5,0,3)),this._isGameplay=!0,this._root._compMap["PlayButton_21"].dispose(),this._meterTime._compMap["Meter_12"].show(),this._meterDrink._compMap["Meter_12"].show(),this._root.add(new De),this._root.add(new De)._compMap["Script_15"].run(new Oe([new Pe(this._anchorX,-200,1,R.cubeOut),new Ie((function(){t._anchorX.set_behavior(new F(-200,200,2)),t._barDrinks.addItem(2),t._barDrinks.addItem(3)}))]))},__class__:$e});var tn=function(t,e,n){f.call(this),this.init(t,e,n)};tn.__name__=!0,tn.__super__=f,tn.prototype=o(f.prototype,{get_name:function(){return"Loader_5"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root),this._disposer.dispose()},init:function(t,e,n){this._disposer=new g,this._root=new v,this._root.add(new z(t.getTexture("loadingBack"))).add(new en(t,e,n))},__class__:tn});var en=function(t,e,n){f.call(this),this.init(t,e,n)};en.__name__=!0,en.__super__=f,en.prototype=o(f.prototype,{get_name:function(){return"LoaderBall_4"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(t,e,n){this._root=new v;var i=(new V).setXY(898,786);this._root.add(i);var r=new z(t.getTexture("ballLineWater")),a=new z(t.getTexture("ball")).centerAnchor().setXY(75,-250);this._root.addChild((new v).add(a)),this._root.addChild((new v).add(r)),a.rotation.set_behavior(new F(-10,10,4)),i.x.set_behavior(new F(848,948,4)),i.y.set_behavior(new F(786,796,2))},__class__:en});var nn=function(){};nn.__name__=!0,nn.main=function(){T.init()},nn.start=i["game"]["Main"]["start"]=function(t,e){var n=new Ze(t,e);n.set_visible(!1),T.root.add(n),T.assertCalledInit(),T._platform.getStage().resize.connect((function(){var t=n;T.assertCalledInit();var e=T._platform.getStage().get_width();T.assertCalledInit(),t.setSize(e,T._platform.getStage().get_height())})),T.assertCalledInit(),T._platform.getStage().resize.emit();var i=G.fromAssets("bootstrap");T.assertCalledInit();var r=t,a=e,s=function(t){nn.onBootstrapLoaded(r,a,t)};T._platform.loadAssetPack(i).success.connect(s).once()},nn.onBootstrapLoaded=function(t,e,n){var i=null;T.assertCalledInit(),i=T._platform.getWeb().addView(nn.vueSplash,{onClick:function(){n.getSound("silence").play(),i.dispose();var r=new tn(n,t,e);T.root.add(r);var a=T.root._compMap["Sprite_0"];(a instanceof Ze?a:null).set_visible(!0);var s=G.fromAssets("main");return T.assertCalledInit(),T._platform.loadAssetPack(s).success.connect((function(n){r.dispose(),nn.onGameLoaded(t,e,n)})).once()}},{width:t,height:e})},nn.onGameLoaded=function(t,e,n){T.root.add(new $e(n,t,e))};var rn=function(){};rn.__name__=!0,rn.solveTriangle=function(t,e,n){var i=rn.solveAngle(e,n,t),r=rn.solveAngle(n,t,e),a=rn.solveAngle(t,e,n);return null!=i&&null!=r&&null!=a?{a:i,b:r,c:a}:null},rn.solveAngle=function(t,e,n){var i=(t*t+e*e-n*n)/(2*t*e);return i>=-1&&.9999999>=i?Math.acos(i):1>=i?Math.sqrt((n*n-(t-e)*(t-e))/(t*e)):null},rn.reflectAngle=function(t,e){var n=Math.cos(t),i=Math.sin(t);return e?Math.atan2(i,-n):Math.atan2(-i,n)},rn.normDegrees=function(t){return(t%360+360)%360},rn.quadrant=function(t){var e=rn.normDegrees(180*t/3.141592653589793);return e>270?3:e>180?2:e>90?1:0};var an=function(t){f.call(this),this.click=new We,this.init(t)};an.__name__=!0,an.__super__=f,an.prototype=o(f.prototype,{get_name:function(){return"PlayButton_21"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root),this._disposer.dispose()},init:function(t){var e=this;this._root=new v,this._disposer=new g;var n=new z(t.getTexture("playButton")).centerAnchor().setXY(960,800);this._root.add(n),Je.addStates(n,(function(){e.click.emit()}),this._disposer)},__class__:an});var sn=function(){};sn.__name__=!0,sn.localXY=function(t,e,n){var i=t.getViewMatrix();return i.inverseTransform(e,n,sn.SPRITE_SCRATCH)||sn.SPRITE_SCRATCH.set(0,0),sn.SPRITE_SCRATCH};var _n=function(t){this._anchorX=0,f.call(this),this.init(t)};_n.__name__=!0,_n.__super__=f,_n.prototype=o(f.prototype,{get_name:function(){return"BarDrinks_16"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},addItem:function(t){var e=this._slots[t],n=e._compMap["Sprite_0"];n.anchorX.set__(t>2?-2e3:2e3),n.anchorX.animateTo(this._anchorX,.666,R.cubeOut),e._compMap["Sprite_0"].set_visible(!0)},init:function(t){this._root=new v,this._slots=[];var e=[{x:406,y:885},{x:573,y:913},{x:810,y:895},{x:1200,y:927},{x:1516,y:907}],n=t.getTexture("beerStar"),i=0,r=e.length;while(i<r){var a=i++,s=e[a];this._anchorX=n.get_width()/2;var _=n.get_height()-10,o=(new v).add((new V).setAnchor(this._anchorX,_).setXY(s.x,s.y+_/2));o.addChild((new v).add(new z(n))),o._compMap["Sprite_0"].set_visible(!1),this._slots.push(o),this._root.addChild(o)}this.addItem(0),this.addItem(1),this.addItem(4)},__class__:_n});var on=function(t,e){f.call(this),this.init(t,e)};on.__name__=!0,on.__super__=f,on.prototype=o(f.prototype,{get_name:function(){return"BarTable_11"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(t,e){this._root=new v;var n=t.getTexture("table");this._root.addChild((new v).add(new z(n).setXY(-3,e-n.get_height())))},__class__:on});var un=function(t,e,n,i){f.call(this),this.init(t,e,n,i)};un.__name__=!0,un.__super__=f,un.prototype=o(f.prototype,{get_name:function(){return"Meter_12"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},show:function(){this._root._compMap["Sprite_0"].anchorY.animateTo(0,1,R.cubeOut)},init:function(t,e,n,i){this._root=(new v).add((new V).setXY(e,n)),this._root._compMap["Sprite_0"].anchorY.set__(1e3);var r=(new v).add(new z(t.getTexture("meterBack"))),a=(new v).add(this._fill=new z(t.getTexture("timeMid"))),s=this._fill.getNaturalWidth(),_=this._fill.getNaturalHeight();this._fill.scissor=new ut(0,0,s,_);var o=(new v).add(new z(t.getTexture(i)).setXY(-26,0));this._root.addChild(r).addChild(a).addChild(o)},__class__:un});var hn=function(){f.call(this)};hn.__name__=!0,hn.wave=function(t,e,n,i,r){hn.calcAngles(200,-430,r);var a=hn.upperAngle,s=hn.lowerAngle;hn.calcAngles(200,-230,r);var _=hn.upperAngle,o=hn.lowerAngle;n.rotation.set__(a),i.rotation.set__(s),e.add(new De),e.add(new De)._compMap["Script_15"].run(new Oe([new Fe(new Oe([new Re([new Pe(n.rotation,_,.24,R.cubeIn),new Pe(i.rotation,o,.24,R.cubeIn)]),new Re([new Pe(n.rotation,a,.3,R.cubeIn),new Pe(i.rotation,s,.3,R.cubeIn)])]),3),new Ne(.5),new Ie(t)]))},hn.slam=function(t,e,n,i,r){hn.calcAngles(300,230,r);var a=hn.upperAngle,s=hn.lowerAngle;hn.calcAngles(300,-730,r);var _=hn.upperAngle,o=hn.lowerAngle;n.rotation.set__(a),i.rotation.set__(s),e.add(new De),e.add(new De)._compMap["Script_15"].run(new Oe([new Re([new Pe(n.rotation,_,.5,R.cubeIn),new Pe(i.rotation,o,.5,R.cubeIn)]),new Re([new Pe(n.rotation,a,.135,R.bounceOut),new Pe(i.rotation,s,.135,R.bounceOut)]),new Ne(.5),new Ie(t)]))},hn.calcAngles=function(t,e,n){hn._scratchLocal.x=t,hn._scratchLocal.y=e;var i=hn.getAngle(hn._scratchLocal.x,hn._scratchLocal.y),r=hn.hasReflectAngle(rn.quadrant(i),n),a=r?-hn._scratchLocal.y:hn._scratchLocal.y,s=hn.getAngle(hn._scratchLocal.x,a),_=hn._scratchLocal.distanceTo(0,0),o=549-_;if(o>0){var u=rn.solveTriangle(283,266,_);if(null!=u){var h=s-1.5708-u.a,l=u.a+u.b;r?(hn.upperAngle=180*rn.reflectAngle(h,!0)/3.141592653589793,hn.lowerAngle=180*rn.reflectAngle(l,!1)/3.141592653589793):(hn.upperAngle=180*h/3.141592653589793,hn.lowerAngle=180*l/3.141592653589793)}}else hn.upperAngle=180*i/3.141592653589793-90,hn.lowerAngle=0},hn.getAngle=function(t,e){return Math.atan2(e,t)},hn.hasReflectAngle=function(t,e){var n=!1;return e?3!=t&&2!=t||(n=!0):0!=t&&1!=t||(n=!0),n},hn.__super__=f,hn.prototype=o(f.prototype,{get_name:function(){return"ThirstyArmActions_22"},__class__:hn});var ln=function(t,e,n){f.call(this),this.init(t,e,n)};ln.__name__=!0,ln.__super__=f,ln.prototype=o(f.prototype,{get_name:function(){return"ThirstyArms_14"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},bindTo:function(t,e,n){this._root._compMap["Sprite_0"].anchorX.set_behavior(new N(t,null)),this._root._compMap["Sprite_0"].anchorY.set_behavior(new N(e,null)),this._root._compMap["Sprite_0"].rotation.set_behavior(new N(n,null))},wave:function(){return this._right._compMap["ThirstyArm_13"].wave(),this},slam:function(){return this._right._compMap["ThirstyArm_13"].slam(),this},init:function(t,e,n){this._root=(new v).add((new V).setXY(e/2,n-420)),this._left=(new v).add(new cn(t,-220,180,!1)),this._right=(new v).add(new cn(t,240,180,!0)),this._root.addChild(this._right).addChild(this._left)},__class__:ln});var cn=function(t,e,n,i){this._idleAnim=new E(0),this._isDown=!1,this._viewY=0,this._viewX=0,this.isStale=!1,f.call(this),this._isFlipped=i,this.init(t,e,n)};cn.__name__=!0,cn.__super__=f,cn.prototype=o(f.prototype,{get_name:function(){return"ThirstyArm_13"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root),this._disposer.dispose()},onUpdate:function(t){this._isDown?this.reaching():(this._idleAnim.update(t),this.idleing())},wave:function(){var t=this;this.isStale=!0;var e=this._upper._compMap["Sprite_0"],n=this._lower._compMap["Sprite_0"];return hn.wave((function(){t.isStale=!1}),this._root,e,n,this._isFlipped),this},slam:function(){var t=this;this.isStale=!0;var e=this._upper._compMap["Sprite_0"],n=this._lower._compMap["Sprite_0"];return hn.slam((function(){t.isStale=!1}),this._root,e,n,this._isFlipped),this},reaching:function(){if(!this.isStale){var t=this._root._compMap["Sprite_0"],e=this._upper._compMap["Sprite_0"],n=this._lower._compMap["Sprite_0"],i=sn.localXY(t,this._viewX,this._viewY);hn.calcAngles(i.x,i.y,this._isFlipped),e.setRotation(hn.upperAngle),n.setRotation(hn.lowerAngle)}},idleing:function(){var t=this._upper._compMap["Sprite_0"],e=this._lower._compMap["Sprite_0"];hn.calcAngles(0,this._idleAnim._value,this._isFlipped),t.setRotation(hn.upperAngle),e.setRotation(hn.lowerAngle)},init:function(t,e,n){var i=this;if(this._disposer=new g,this._root=(new v).add((new V).setXY(e,n)),this._upper=(new v).add(new z(t.getTexture("body/armTop")).setAnchor(46.5,0)),this._lower=(new v).add(new z(t.getTexture("body/armBottom")).setXY(46.5,281).setAnchor(39.5,30)),this._hand=(new v).add((new V).setXY(39.5,298)),this._hand.addChild((new v).add(new z(t.getTexture("body/hand")).setAnchor(52,80))),this._idleAnim.set_behavior(new F(-500,-400,.5)),this._root.addChild(this._upper),this._upper.addChild(this._lower),this._lower.addChild(this._hand),!this._isFlipped){var r=this._disposer;T.assertCalledInit(),r.add(T._platform.getPointer().down.connect((function(t){i._viewX=t.viewX,i._viewY=t.viewY,i._isDown=!0})));r=this._disposer;T.assertCalledInit(),r.add(T._platform.getPointer().move.connect((function(t){i._isDown&&(i._viewX=t.viewX,i._viewY=t.viewY)})));r=this._disposer;T.assertCalledInit(),r.add(T._platform.getPointer().up.connect((function(t){i._isDown&&(i._isDown=!1,i._viewX=t.viewX,i._viewY=t.viewY)})))}},__class__:cn});var dn=function(t,e,n){f.call(this),this.init(t,e,n)};dn.__name__=!0,dn.__super__=f,dn.prototype=o(f.prototype,{get_name:function(){return"ThirstyPerson_10"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},bindTo:function(t,e,n){this._root._compMap["Sprite_0"].anchorX.set_behavior(new N(t,null)),this._root._compMap["Sprite_0"].anchorY.set_behavior(new N(e,null)),this._root._compMap["Sprite_0"].rotation.set_behavior(new N(n,null))},init:function(t,e,n){this._root=(new v).add((new V).setXY(e/2,860)),this._torso=(new v).add(new mn(t)),this._head=(new v).add(new pn(t)),this._root.addChild(this._torso).addChild(this._head)},__class__:dn});var pn=function(t){f.call(this),this.init(t)};pn.__name__=!0,pn.__super__=f,pn.prototype=o(f.prototype,{get_name:function(){return"ThirstyPersonHead_9"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(t){this._root=(new v).add(new V),this._head=(new v).add(new z(t.getTexture("body/head")).setXY(0,-275).centerAnchor()),this._root.addChild(this._head),this._root._compMap["Sprite_0"].anchorX.set_behavior(new F(-2,2,2)),this._root._compMap["Sprite_0"].anchorY.set_behavior(new F(0,10,3)),this._root._compMap["Sprite_0"].rotation.set_behavior(new F(-5,5,5))},__class__:pn});var mn=function(t){f.call(this),this.init(t)};mn.__name__=!0,mn.__super__=f,mn.prototype=o(f.prototype,{get_name:function(){return"ThirstyPersonTorso_8"},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.owner.removeChild(this._root)},init:function(t){this._root=(new v).add(new V),this._torso=(new v).add(new z(t.getTexture("body/body")).centerAnchor()),this._root.addChild(this._torso)},__class__:mn});var fn=function(){};fn.__name__=!0,fn.__isInterface__=!0;var gn=function(t,e,n){Error.call(this,t),this.message=t,this.__previousException=e,this.__nativeException=null!=n?n:this};gn.__name__=!0,gn.caught=function(t){return t instanceof gn?t:t instanceof Error?new gn(t.message,null,t):new vn(t,null,t)},gn.thrown=function(t){if(t instanceof gn)return t.get_native();if(t instanceof Error)return t;var e=new vn(t);return e},gn.__super__=Error,gn.prototype=o(Error.prototype,{unwrap:function(){return this.__nativeException},get_native:function(){return this.__nativeException},__class__:gn});var vn=function(t,e,n){gn.call(this,String(t),e,n),this.value=t};vn.__name__=!0,vn.__super__=gn,vn.prototype=o(gn.prototype,{unwrap:function(){return this.value},__class__:vn});var wn=function(){this.h={}};wn.__name__=!0,wn.__interfaces__=[fn],wn.prototype={remove:function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},__class__:wn};var xn=function(){this.h=Object.create(null)};xn.__name__=!0,xn.__interfaces__=[fn],xn.prototype={iterator:function(){return new bn(this.h)},__class__:xn};var bn=function(t){this.h=t,this.keys=Object.keys(t),this.length=this.keys.length,this.current=0};bn.__name__=!0,bn.prototype={hasNext:function(){return this.current<this.length},next:function(){return this.h[this.keys[this.current++]]},__class__:bn};var yn=function(){};yn.__name__=!0;var Sn=function(t){this.current=0,this.array=t};Sn.__name__=!0,Sn.prototype={hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:Sn};var An=function(){};An.__name__=!0,An.getType=function(t){var e=An.getMeta(t);return null==e||null==e.obj?{}:e.obj},An.getMeta=function(t){return t.__meta__};var Cn=function(){};Cn.__name__=!0,Cn.getClass=function(t){if(null==t)return null;if(t instanceof Array)return Array;var e=t.__class__;if(null!=e)return e;var n=Cn.__nativeClassName(t);return null!=n?Cn.__resolveNativeClass(n):null},Cn.__string_rec=function(t,e){if(null==t)return"null";if(e.length>=5)return"<...>";var n=typeof t;switch("function"==n&&(t.__name__||t.__ename__)&&(n="object"),n){case"function":return"<function>";case"object":if(t.__enum__){var i=_[t.__enum__],r=i.__constructs__[t._hx_index],a=r._hx_name;return r.__params__?(e+="\t",a+"("+function(n){var i,a=[],s=0,_=r.__params__;while(1){if(!(s<_.length))break;var o=_[s];s+=1,a.push(Cn.__string_rec(t[o],e))}return i=a,i}().join(",")+")"):a}if(t instanceof Array){var s="[";e+="\t";var o=0,u=t.length;while(o<u){var h=o++;s+=(h>0?",":"")+Cn.__string_rec(t[h],e)}return s+="]",s}var l;try{l=t.toString}catch(o){return"???"}if(null!=l&&l!=Object.toString&&"function"==typeof l){var c=t.toString();if("[object Object]"!=c)return c}s="{\n";e+="\t";var d=null!=t.hasOwnProperty,p=null;for(p in t)d&&!t.hasOwnProperty(p)||"prototype"!=p&&"__class__"!=p&&"__super__"!=p&&"__interfaces__"!=p&&"__properties__"!=p&&(2!=s.length&&(s+=", \n"),s+=e+p+" : "+Cn.__string_rec(t[p],e));return e=e.substring(1),s+="\n"+e+"}",s;case"string":return t;default:return String(t)}},Cn.__interfLoop=function(t,e){while(1){if(null==t)return!1;if(t==e)return!0;var n=t.__interfaces__;if(null!=n){var i=0,r=n.length;while(i<r){var a=i++,s=n[a];if(s==e||Cn.__interfLoop(s,e))return!0}}t=t.__super__}},Cn.__instanceof=function(t,e){if(null==e)return!1;switch(e){case Array:return t instanceof Array;case Nn:return"boolean"==typeof t;case Pn:return null!=t;case In:return"number"==typeof t;case Ln:return"number"==typeof t&&(0|t)===t;case String:return"string"==typeof t;default:if(null==t)return!1;if("function"==typeof e){if(Cn.__downcastCheck(t,e))return!0}else if("object"==typeof e&&Cn.__isNativeObj(e)&&t instanceof e)return!0;return e==Rn&&null!=t.__name__||(e==Fn&&null!=t.__ename__||null!=t.__enum__&&_[t.__enum__]==e)}},Cn.__downcastCheck=function(t,e){return t instanceof e||!!e.__isInterface__&&Cn.__interfLoop(Cn.getClass(t),e)},Cn.__nativeClassName=function(t){var e=Cn.__toStr.call(t).slice(8,-1);return"Object"==e||"Function"==e||"Math"==e||"JSON"==e?null:e},Cn.__isNativeObj=function(t){return null!=Cn.__nativeClassName(t)},Cn.__resolveNativeClass=function(t){return r[t]};var Mn=function(){};Mn.__name__=!0,Mn.getLocalStorage=function(){try{var t=window.localStorage;if(t.getItem(""),0==t.length){var e="_hx_"+Math.random();t.setItem(e,e),t.removeItem(e)}return t}catch(n){return null}};var En=function(){};function Tn(t){return t instanceof Array?new Sn(t):t.iterator()}function kn(t,e){return null==e?null:(null==e.__id__&&(e.__id__=r.$haxeUID++),null==t.hx__closures__?t.hx__closures__={}:n=t.hx__closures__[e.__id__],null==n&&(n=e.bind(t),t.hx__closures__[e.__id__]=n),n);var n}En.__name__=!0,En.getContextWebGL=function(t,e){var n=t.getContext("webgl",e);if(null!=n)return n;n=t.getContext("experimental-webgl",e);return null!=n?n:null},r.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(h.now=performance.now.bind(performance)),null==String.fromCodePoint&&(String.fromCodePoint=function(t){return t<65536?String.fromCharCode(t):String.fromCharCode(55232+(t>>10))+String.fromCharCode(56320+(1023&t))}),String.prototype.__class__=String,String.__name__=!0,Array.__name__=!0,Date.prototype.__class__=Date,Date.__name__="Date";var Ln={},Pn={},In=Number,Nn=Boolean,Rn={},Fn={};Cn.__toStr={}.toString,b.instance=new b,A.DISPATCHING_SENTINEL=new S(null,null),T.root=new v,T.uncaughtError=new M,T.hidden=new y(!1),T.volume=new E(1),T._platform=b.instance,T._calledInit=!1,L.logger=new k(T._platform.createLogHandler("flambe")),G.__meta__={obj:{assets:[{main:[{name:"sun/sunStripes.png",md5:"2376226fe50a1fbf1450efe3deb713eb",bytes:14829},{name:"sun/mouthSmile.png",md5:"8a10b0cd842ed62fd3c755ec7d276bd1",bytes:1703},{name:"sun/eyebrow.png",md5:"e43b0bda8b52d0f73d27115ddaabbbac",bytes:469},{name:"sun/eyePupil.png",md5:"4dbeaf65cb862045f5ea8680ae5bb1ed",bytes:721},{name:"sun/ear.png",md5:"676aea963c0243b9e80a5a0e1fd20175",bytes:2430},{name:"sun/eye.png",md5:"722cb9af440c6a56896feee178edf3ab",bytes:1671},{name:"sun/sun.png",md5:"e4383a12b4058cc87a533b5b6edd1286",bytes:9654},{name:"sun/mouthOpen.png",md5:"d12e4144cf38ceeade58f71957339f60",bytes:775},{name:"beerStar.png",md5:"ceef9b8a475b27e2a3b335c200ce0b29",bytes:4346},{name:"title.png",md5:"070c12f83ea9fbad95327c9aece99404",bytes:63211},{name:"drinkFront.png",md5:"e855cee92718a5f3e1a7392fe916248a",bytes:5459},{name:"flamingo.png",md5:"2215f45f1f4f8954e195585438cc5878",bytes:12184},{name:"body/body.png",md5:"516e0c3af06ff71b31e06dcc90a4a394",bytes:26311},{name:"body/hand.png",md5:"f94695c8dff2a439b80170db7d13dc89",bytes:4155},{name:"body/armTop.png",md5:"9bd02fa9176b8a4d792b8f7208d3b4a1",bytes:3778},{name:"body/head.png",md5:"49a23eb1a6333fcdae47acf74a37bf49",bytes:17496},{name:"body/armBottom.png",md5:"b3aad89486708d64f8aa7e87c60236a6",bytes:3548},{name:"beerTriangle.png",md5:"b1676d257e6cb0ae7976fe3352982da5",bytes:4164},{name:"timeFront.png",md5:"3bb88b9787aa298723d68ffbdaacf896",bytes:5440},{name:"meterBack.png",md5:"1071f150be61c78706c1520ba6dd4624",bytes:3822},{name:"cloud.png",md5:"0610986236c0e18abf4773458c535d6e",bytes:2009},{name:"timeMid.png",md5:"e3f8c1ea4767d449c3b14adff9f1430d",bytes:3732},{name:"mainBack.png",md5:"fbd6bd9c5b9f149f2bfe9eb1d1f6340e",bytes:34518},{name:"beerCircle.png",md5:"7ddd7543b0232f56ccf6ad13a3d6ce16",bytes:4229},{name:"table.png",md5:"6c73b3a15bd70669fb4bc10d01c63740",bytes:15485},{name:"playButton.png",md5:"687c8dd6c4745aa7ae865a3c410871a9",bytes:3665}],bootstrap:[{name:"ball.png",md5:"cfbdbcf4cb3e3c4526b0746b49f2d805",bytes:26236},{name:"silence.mp3",md5:"607808d15b383bdf65355454bf314632",bytes:8950},{name:"ballLineWater.png",md5:"3aba2ce74b7d98656e300cbf6fe297ec",bytes:852},{name:"loadingBack.png",md5:"35effb32203feba71403df4a79c89468",bytes:71726},{name:"play.png",md5:"0bae891f519e596a553e1dc9fec9140f",bytes:3805}],".DS_Store":[]}]}},G._supportsCrossOrigin=function(t){var e,n;if(r.navigator.userAgent.indexOf("Linux; U; Android")>=0)n=!1;else{var i=new XMLHttpRequest;n=null!=i.withCredentials}return n||L.logger.warn("This browser does not support cross-domain asset loading, any Manifest.remoteBase setting will be ignored.",null),e=n,e}(),V._scratchPoint=new W,mt._sharedEvent=new et,gt._sharedEvent=new rt,wt._sharedEvent=new st,jt.CANVAS_TEXTURES=function(t){var e,n=new u("(iPhone|iPod|iPad)","");return e=n.match(window.navigator.userAgent),e}(),qt._mediaRefCount=0,qt._detectBlobSupport=!0,ue.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"],ue.SHOULD_HIDE_MOBILE_BROWSER=window.top==window&&new u("Mobile(/.*)? Safari","").match(r.navigator.userAgent),pe._detectSupport=!0,ge._scratchMatrix=new ot,Ze._scratch={x:0,y:0,scale:1},nn.vueSplash=n("f6a7"),sn.SPRITE_SCRATCH=new W,hn.upperAngle=0,hn.lowerAngle=0,hn._scratchLocal=new W,nn.main()}).call(this,n("c8ba"))},"56d7":function(t,e,n){"use strict";n.r(e);var i=n("2b0e"),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[t.ui?e(t.ui.def,t._b({tag:"component",staticClass:"ui",style:{width:t.gameWidth+"px"}},"component",t.uiprops,!1)):t._e(),e("canvas",{ref:"canvas"})],1)},a=[],s={name:"App",data(){return{gameWidth:1920,gameHeight:1080,stack:[]}},computed:{ui(){const t=this.stack.length-1;return this.stack[t]},uiprops(){return{...this.ui.props}}},mounted(){window.flambe={canvas:this.$refs.canvas};const t=n("5085");this.stack=t.flambe.System.get_web().stack;const e=t.game.Container.getSize;window.addEventListener("resize",this.layoutScale.bind(this,e)),this.layoutScale(e),t.game.Main.start(this.gameWidth,this.gameHeight)},methods:{layoutScale(t){var e=t(this.gameWidth,this.gameHeight,window.innerWidth,window.innerHeight);document.documentElement.style.setProperty("--layout-scale",e.scale),document.documentElement.style.setProperty("--layout-x",e.x+"px"),document.documentElement.style.setProperty("--layout-y",e.y+"px")}}},_=s,o=(n("6938"),n("2877")),u=Object(o["a"])(_,r,a,!1,null,null,null),h=u.exports;i["a"].config.productionTip=!1,new i["a"]({render:t=>t(h)}).$mount("#app")},6938:function(t,e,n){"use strict";n("c960")},afd0:function(t,e,n){},c960:function(t,e,n){},e314:function(t,e,n){"use strict";n("afd0")},f6a7:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"splash",style:{width:t.width+"px",height:t.height+"px"}},[e("img",{attrs:{src:"assets/bootstrap/play.png",alt:"Start Game"},on:{click:t.onClick}})])},r=[],a={props:{width:{type:Number,required:!0},height:{type:Number,required:!0}}},s=a,_=(n("e314"),n("2877")),o=Object(_["a"])(s,i,r,!1,null,"335a7b91",null);e["default"]=o.exports}});
//# sourceMappingURL=app.45516adb.js.map